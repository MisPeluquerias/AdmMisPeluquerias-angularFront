<<<<<<<< HEAD:dist/adm-mis-peluquerias-angular-front/browser/main-B5NCOVVG.js
import{$ as Mi,$a as md,$b as _s,A as Za,Aa as gt,Ab as x,Ac as bs,B as zc,Ba as wt,Bb as ms,Bc as so,C as hi,Ca as ed,Cb as hs,Cc as Dd,D as Gc,Da as Ln,Db as sn,Dc as lo,E as kt,Ea as td,Eb as ps,F as qc,Fa as ni,Fb as Yr,G as Qr,Ga as as,Gb as Xr,Gc as Td,H as xt,Ha as Un,Hb as Se,Hc as ys,I as Si,Ia as nn,Ib as c,J as Rt,Ja as rn,Jb as V,Jc as co,K as Ya,Ka as id,Kb as Y,Kc as uo,L as Vt,La as nd,Lb as bt,Lc as Cs,M as $c,Ma as rd,Mb as D,N as qt,Na as od,Nb as T,O as Jc,Oa as ad,Ob as A,P as wi,Pa as sd,Pb as Et,Q as Ei,Qa as ld,Qb as ri,R as Xa,Ra as pi,Rb as Mt,S as Qc,Sa as ss,Sb as fs,T as Kc,Ta as Ie,Tb as Ut,U as es,Ua as cd,Ub as ln,V as Rn,Va as jn,Vb as eo,W as et,Wa as u,Wb as fd,X as St,Xa as B,Xb as to,Y as ht,Ya as Kr,Yb as io,Z as ts,Za as dd,Zb as gs,_ as Le,_a as ud,_b as no,a as q,aa as Dt,ab as Zr,ac as vs,b as De,ba as U,bb as Ti,bc as oi,c as Lc,ca as He,cb as ls,cc as ro,da as Zc,db as Re,dc as gd,e as Pe,ea as Ae,eb as cs,ec as ai,f as Xp,fa as is,fb as ds,fc as _d,g as $a,ga as L,gb as Hn,gc as vd,h as Bn,ha as ee,hb as _t,hc as si,i as Uc,ia as ns,ib as on,ic as oo,j as jc,ja as Yc,jb as hd,jc as bd,k as ui,ka as Vn,kb as us,kc as zi,l as Ja,la as ft,lb as Wn,lc as yd,m as Qa,ma as re,mb as M,mc as Cd,n as Te,na as We,nb as vt,nc as Ze,o as Bt,oa as Be,ob as b,oc as xd,p as ei,pa as Di,pb as an,pc as zn,q as Ct,qa as Xc,qb as W,qc as Sd,r as ae,ra as Yt,rb as Lt,rc as wd,s as mi,sa as ti,sb as s,sc as Gn,t as Hc,ta as ii,tb as a,tc as ao,u as Wc,ua as g,ub as h,uc as Ai,v as we,va as _,vb as he,vc as ue,w as Wi,wa as Pt,wb as pe,wc as ce,x as It,xa as rs,xb as z,xc as Ft,y as Ka,ya as $t,yb as pd,yc as Ed,z as Jr,za as os,zb as f,zc as Md}from"./chunk-OWEAIO2N.js";var cm=Pe(()=>{"use strict"});var Fe=Pe((oa,dm)=>{"use strict";(function(i,r){typeof oa=="object"?dm.exports=oa=r():typeof define=="function"&&define.amd?define([],r):i.CryptoJS=r()})(oa,function(){var i=i||function(r,e){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof Lc=="function")try{n=cm()}catch{}var t=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function S(){}return function(w){var F;return S.prototype=w,F=new S,S.prototype=null,F}}(),l={},d=l.lib={},m=d.Base=function(){return{extend:function(S){var w=o(this);return S&&w.mixIn(S),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var w in S)S.hasOwnProperty(w)&&(this[w]=S[w]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),v=d.WordArray=m.extend({init:function(S,w){S=this.words=S||[],w!=e?this.sigBytes=w:this.sigBytes=S.length*4},toString:function(S){return(S||y).stringify(this)},concat:function(S){var w=this.words,F=S.words,O=this.sigBytes,N=S.sigBytes;if(this.clamp(),O%4)for(var R=0;R<N;R++){var X=F[R>>>2]>>>24-R%4*8&255;w[O+R>>>2]|=X<<24-(O+R)%4*8}else for(var K=0;K<N;K+=4)w[O+K>>>2]=F[K>>>2];return this.sigBytes+=N,this},clamp:function(){var S=this.words,w=this.sigBytes;S[w>>>2]&=4294967295<<32-w%4*8,S.length=r.ceil(w/4)},clone:function(){var S=m.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var w=[],F=0;F<S;F+=4)w.push(t());return new v.init(w,S)}}),p=l.enc={},y=p.Hex={stringify:function(S){for(var w=S.words,F=S.sigBytes,O=[],N=0;N<F;N++){var R=w[N>>>2]>>>24-N%4*8&255;O.push((R>>>4).toString(16)),O.push((R&15).toString(16))}return O.join("")},parse:function(S){for(var w=S.length,F=[],O=0;O<w;O+=2)F[O>>>3]|=parseInt(S.substr(O,2),16)<<24-O%8*4;return new v.init(F,w/2)}},C=p.Latin1={stringify:function(S){for(var w=S.words,F=S.sigBytes,O=[],N=0;N<F;N++){var R=w[N>>>2]>>>24-N%4*8&255;O.push(String.fromCharCode(R))}return O.join("")},parse:function(S){for(var w=S.length,F=[],O=0;O<w;O++)F[O>>>2]|=(S.charCodeAt(O)&255)<<24-O%4*8;return new v.init(F,w)}},E=p.Utf8={stringify:function(S){try{return decodeURIComponent(escape(C.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return C.parse(unescape(encodeURIComponent(S)))}},I=d.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=E.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var w,F=this._data,O=F.words,N=F.sigBytes,R=this.blockSize,X=R*4,K=N/X;S?K=r.ceil(K):K=r.max((K|0)-this._minBufferSize,0);var te=K*R,oe=r.min(te*4,N);if(te){for(var j=0;j<te;j+=R)this._doProcessBlock(O,j);w=O.splice(0,te),F.sigBytes-=oe}return new v.init(w,oe)},clone:function(){var S=m.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0}),k=d.Hasher=I.extend({cfg:m.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var w=this._doFinalize();return w},blockSize:512/32,_createHelper:function(S){return function(w,F){return new S.init(F).finalize(w)}},_createHmacHelper:function(S){return function(w,F){return new P.HMAC.init(S,F).finalize(w)}}}),P=l.algo={};return l}(Math);return i})});var jr=Pe((aa,um)=>{"use strict";(function(i,r){typeof aa=="object"?um.exports=aa=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(aa,function(i){return function(r){var e=i,n=e.lib,t=n.Base,o=n.WordArray,l=e.x64={},d=l.Word=t.extend({init:function(v,p){this.high=v,this.low=p}}),m=l.WordArray=t.extend({init:function(v,p){v=this.words=v||[],p!=r?this.sigBytes=p:this.sigBytes=v.length*8},toX32:function(){for(var v=this.words,p=v.length,y=[],C=0;C<p;C++){var E=v[C];y.push(E.high),y.push(E.low)}return o.create(y,this.sigBytes)},clone:function(){for(var v=t.clone.call(this),p=v.words=this.words.slice(0),y=p.length,C=0;C<y;C++)p[C]=p[C].clone();return v}})}(),i})});var hm=Pe((sa,mm)=>{"use strict";(function(i,r){typeof sa=="object"?mm.exports=sa=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(sa,function(i){return function(){if(typeof ArrayBuffer=="function"){var r=i,e=r.lib,n=e.WordArray,t=n.init,o=n.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var d=l.byteLength,m=[],v=0;v<d;v++)m[v>>>2]|=l[v]<<24-v%4*8;t.call(this,m,d)}else t.apply(this,arguments)};o.prototype=n}}(),i.lib.WordArray})});var fm=Pe((la,pm)=>{"use strict";(function(i,r){typeof la=="object"?pm.exports=la=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(la,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=r.enc,o=t.Utf16=t.Utf16BE={stringify:function(d){for(var m=d.words,v=d.sigBytes,p=[],y=0;y<v;y+=2){var C=m[y>>>2]>>>16-y%4*8&65535;p.push(String.fromCharCode(C))}return p.join("")},parse:function(d){for(var m=d.length,v=[],p=0;p<m;p++)v[p>>>1]|=d.charCodeAt(p)<<16-p%2*16;return n.create(v,m*2)}};t.Utf16LE={stringify:function(d){for(var m=d.words,v=d.sigBytes,p=[],y=0;y<v;y+=2){var C=l(m[y>>>2]>>>16-y%4*8&65535);p.push(String.fromCharCode(C))}return p.join("")},parse:function(d){for(var m=d.length,v=[],p=0;p<m;p++)v[p>>>1]|=l(d.charCodeAt(p)<<16-p%2*16);return n.create(v,m*2)}};function l(d){return d<<8&4278255360|d>>>8&16711935}}(),i.enc.Utf16})});var ji=Pe((ca,gm)=>{"use strict";(function(i,r){typeof ca=="object"?gm.exports=ca=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ca,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=r.enc,o=t.Base64={stringify:function(d){var m=d.words,v=d.sigBytes,p=this._map;d.clamp();for(var y=[],C=0;C<v;C+=3)for(var E=m[C>>>2]>>>24-C%4*8&255,I=m[C+1>>>2]>>>24-(C+1)%4*8&255,k=m[C+2>>>2]>>>24-(C+2)%4*8&255,P=E<<16|I<<8|k,S=0;S<4&&C+S*.75<v;S++)y.push(p.charAt(P>>>6*(3-S)&63));var w=p.charAt(64);if(w)for(;y.length%4;)y.push(w);return y.join("")},parse:function(d){var m=d.length,v=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var y=0;y<v.length;y++)p[v.charCodeAt(y)]=y}var C=v.charAt(64);if(C){var E=d.indexOf(C);E!==-1&&(m=E)}return l(d,m,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(d,m,v){for(var p=[],y=0,C=0;C<m;C++)if(C%4){var E=v[d.charCodeAt(C-1)]<<C%4*2,I=v[d.charCodeAt(C)]>>>6-C%4*2,k=E|I;p[y>>>2]|=k<<24-y%4*8,y++}return n.create(p,y)}}(),i.enc.Base64})});var vm=Pe((da,_m)=>{"use strict";(function(i,r){typeof da=="object"?_m.exports=da=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(da,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=r.enc,o=t.Base64url={stringify:function(d,m){m===void 0&&(m=!0);var v=d.words,p=d.sigBytes,y=m?this._safe_map:this._map;d.clamp();for(var C=[],E=0;E<p;E+=3)for(var I=v[E>>>2]>>>24-E%4*8&255,k=v[E+1>>>2]>>>24-(E+1)%4*8&255,P=v[E+2>>>2]>>>24-(E+2)%4*8&255,S=I<<16|k<<8|P,w=0;w<4&&E+w*.75<p;w++)C.push(y.charAt(S>>>6*(3-w)&63));var F=y.charAt(64);if(F)for(;C.length%4;)C.push(F);return C.join("")},parse:function(d,m){m===void 0&&(m=!0);var v=d.length,p=m?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var C=0;C<p.length;C++)y[p.charCodeAt(C)]=C}var E=p.charAt(64);if(E){var I=d.indexOf(E);I!==-1&&(v=I)}return l(d,v,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(d,m,v){for(var p=[],y=0,C=0;C<m;C++)if(C%4){var E=v[d.charCodeAt(C-1)]<<C%4*2,I=v[d.charCodeAt(C)]>>>6-C%4*2,k=E|I;p[y>>>2]|=k<<24-y%4*8,y++}return n.create(p,y)}}(),i.enc.Base64url})});var Hi=Pe((ua,bm)=>{"use strict";(function(i,r){typeof ua=="object"?bm.exports=ua=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ua,function(i){return function(r){var e=i,n=e.lib,t=n.WordArray,o=n.Hasher,l=e.algo,d=[];(function(){for(var E=0;E<64;E++)d[E]=r.abs(r.sin(E+1))*4294967296|0})();var m=l.MD5=o.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(E,I){for(var k=0;k<16;k++){var P=I+k,S=E[P];E[P]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var w=this._hash.words,F=E[I+0],O=E[I+1],N=E[I+2],R=E[I+3],X=E[I+4],K=E[I+5],te=E[I+6],oe=E[I+7],j=E[I+8],Z=E[I+9],ne=E[I+10],J=E[I+11],be=E[I+12],de=E[I+13],Me=E[I+14],Oe=E[I+15],H=w[0],$=w[1],Q=w[2],G=w[3];H=v(H,$,Q,G,F,7,d[0]),G=v(G,H,$,Q,O,12,d[1]),Q=v(Q,G,H,$,N,17,d[2]),$=v($,Q,G,H,R,22,d[3]),H=v(H,$,Q,G,X,7,d[4]),G=v(G,H,$,Q,K,12,d[5]),Q=v(Q,G,H,$,te,17,d[6]),$=v($,Q,G,H,oe,22,d[7]),H=v(H,$,Q,G,j,7,d[8]),G=v(G,H,$,Q,Z,12,d[9]),Q=v(Q,G,H,$,ne,17,d[10]),$=v($,Q,G,H,J,22,d[11]),H=v(H,$,Q,G,be,7,d[12]),G=v(G,H,$,Q,de,12,d[13]),Q=v(Q,G,H,$,Me,17,d[14]),$=v($,Q,G,H,Oe,22,d[15]),H=p(H,$,Q,G,O,5,d[16]),G=p(G,H,$,Q,te,9,d[17]),Q=p(Q,G,H,$,J,14,d[18]),$=p($,Q,G,H,F,20,d[19]),H=p(H,$,Q,G,K,5,d[20]),G=p(G,H,$,Q,ne,9,d[21]),Q=p(Q,G,H,$,Oe,14,d[22]),$=p($,Q,G,H,X,20,d[23]),H=p(H,$,Q,G,Z,5,d[24]),G=p(G,H,$,Q,Me,9,d[25]),Q=p(Q,G,H,$,R,14,d[26]),$=p($,Q,G,H,j,20,d[27]),H=p(H,$,Q,G,de,5,d[28]),G=p(G,H,$,Q,N,9,d[29]),Q=p(Q,G,H,$,oe,14,d[30]),$=p($,Q,G,H,be,20,d[31]),H=y(H,$,Q,G,K,4,d[32]),G=y(G,H,$,Q,j,11,d[33]),Q=y(Q,G,H,$,J,16,d[34]),$=y($,Q,G,H,Me,23,d[35]),H=y(H,$,Q,G,O,4,d[36]),G=y(G,H,$,Q,X,11,d[37]),Q=y(Q,G,H,$,oe,16,d[38]),$=y($,Q,G,H,ne,23,d[39]),H=y(H,$,Q,G,de,4,d[40]),G=y(G,H,$,Q,F,11,d[41]),Q=y(Q,G,H,$,R,16,d[42]),$=y($,Q,G,H,te,23,d[43]),H=y(H,$,Q,G,Z,4,d[44]),G=y(G,H,$,Q,be,11,d[45]),Q=y(Q,G,H,$,Oe,16,d[46]),$=y($,Q,G,H,N,23,d[47]),H=C(H,$,Q,G,F,6,d[48]),G=C(G,H,$,Q,oe,10,d[49]),Q=C(Q,G,H,$,Me,15,d[50]),$=C($,Q,G,H,K,21,d[51]),H=C(H,$,Q,G,be,6,d[52]),G=C(G,H,$,Q,R,10,d[53]),Q=C(Q,G,H,$,ne,15,d[54]),$=C($,Q,G,H,O,21,d[55]),H=C(H,$,Q,G,j,6,d[56]),G=C(G,H,$,Q,Oe,10,d[57]),Q=C(Q,G,H,$,te,15,d[58]),$=C($,Q,G,H,de,21,d[59]),H=C(H,$,Q,G,X,6,d[60]),G=C(G,H,$,Q,J,10,d[61]),Q=C(Q,G,H,$,N,15,d[62]),$=C($,Q,G,H,Z,21,d[63]),w[0]=w[0]+H|0,w[1]=w[1]+$|0,w[2]=w[2]+Q|0,w[3]=w[3]+G|0},_doFinalize:function(){var E=this._data,I=E.words,k=this._nDataBytes*8,P=E.sigBytes*8;I[P>>>5]|=128<<24-P%32;var S=r.floor(k/4294967296),w=k;I[(P+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,I[(P+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E.sigBytes=(I.length+1)*4,this._process();for(var F=this._hash,O=F.words,N=0;N<4;N++){var R=O[N];O[N]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return F},clone:function(){var E=o.clone.call(this);return E._hash=this._hash.clone(),E}});function v(E,I,k,P,S,w,F){var O=E+(I&k|~I&P)+S+F;return(O<<w|O>>>32-w)+I}function p(E,I,k,P,S,w,F){var O=E+(I&P|k&~P)+S+F;return(O<<w|O>>>32-w)+I}function y(E,I,k,P,S,w,F){var O=E+(I^k^P)+S+F;return(O<<w|O>>>32-w)+I}function C(E,I,k,P,S,w,F){var O=E+(k^(I|~P))+S+F;return(O<<w|O>>>32-w)+I}e.MD5=o._createHelper(m),e.HmacMD5=o._createHmacHelper(m)}(Math),i.MD5})});var rc=Pe((ma,ym)=>{"use strict";(function(i,r){typeof ma=="object"?ym.exports=ma=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ma,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=e.Hasher,o=r.algo,l=[],d=o.SHA1=t.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(m,v){for(var p=this._hash.words,y=p[0],C=p[1],E=p[2],I=p[3],k=p[4],P=0;P<80;P++){if(P<16)l[P]=m[v+P]|0;else{var S=l[P-3]^l[P-8]^l[P-14]^l[P-16];l[P]=S<<1|S>>>31}var w=(y<<5|y>>>27)+k+l[P];P<20?w+=(C&E|~C&I)+1518500249:P<40?w+=(C^E^I)+1859775393:P<60?w+=(C&E|C&I|E&I)-1894007588:w+=(C^E^I)-899497514,k=I,I=E,E=C<<30|C>>>2,C=y,y=w}p[0]=p[0]+y|0,p[1]=p[1]+C|0,p[2]=p[2]+E|0,p[3]=p[3]+I|0,p[4]=p[4]+k|0},_doFinalize:function(){var m=this._data,v=m.words,p=this._nDataBytes*8,y=m.sigBytes*8;return v[y>>>5]|=128<<24-y%32,v[(y+64>>>9<<4)+14]=Math.floor(p/4294967296),v[(y+64>>>9<<4)+15]=p,m.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var m=t.clone.call(this);return m._hash=this._hash.clone(),m}});r.SHA1=t._createHelper(d),r.HmacSHA1=t._createHmacHelper(d)}(),i.SHA1})});var pa=Pe((ha,Cm)=>{"use strict";(function(i,r){typeof ha=="object"?Cm.exports=ha=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ha,function(i){return function(r){var e=i,n=e.lib,t=n.WordArray,o=n.Hasher,l=e.algo,d=[],m=[];(function(){function y(k){for(var P=r.sqrt(k),S=2;S<=P;S++)if(!(k%S))return!1;return!0}function C(k){return(k-(k|0))*4294967296|0}for(var E=2,I=0;I<64;)y(E)&&(I<8&&(d[I]=C(r.pow(E,1/2))),m[I]=C(r.pow(E,1/3)),I++),E++})();var v=[],p=l.SHA256=o.extend({_doReset:function(){this._hash=new t.init(d.slice(0))},_doProcessBlock:function(y,C){for(var E=this._hash.words,I=E[0],k=E[1],P=E[2],S=E[3],w=E[4],F=E[5],O=E[6],N=E[7],R=0;R<64;R++){if(R<16)v[R]=y[C+R]|0;else{var X=v[R-15],K=(X<<25|X>>>7)^(X<<14|X>>>18)^X>>>3,te=v[R-2],oe=(te<<15|te>>>17)^(te<<13|te>>>19)^te>>>10;v[R]=K+v[R-7]+oe+v[R-16]}var j=w&F^~w&O,Z=I&k^I&P^k&P,ne=(I<<30|I>>>2)^(I<<19|I>>>13)^(I<<10|I>>>22),J=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),be=N+J+j+m[R]+v[R],de=ne+Z;N=O,O=F,F=w,w=S+be|0,S=P,P=k,k=I,I=be+de|0}E[0]=E[0]+I|0,E[1]=E[1]+k|0,E[2]=E[2]+P|0,E[3]=E[3]+S|0,E[4]=E[4]+w|0,E[5]=E[5]+F|0,E[6]=E[6]+O|0,E[7]=E[7]+N|0},_doFinalize:function(){var y=this._data,C=y.words,E=this._nDataBytes*8,I=y.sigBytes*8;return C[I>>>5]|=128<<24-I%32,C[(I+64>>>9<<4)+14]=r.floor(E/4294967296),C[(I+64>>>9<<4)+15]=E,y.sigBytes=C.length*4,this._process(),this._hash},clone:function(){var y=o.clone.call(this);return y._hash=this._hash.clone(),y}});e.SHA256=o._createHelper(p),e.HmacSHA256=o._createHmacHelper(p)}(Math),i.SHA256})});var Sm=Pe((fa,xm)=>{"use strict";(function(i,r,e){typeof fa=="object"?xm.exports=fa=r(Fe(),pa()):typeof define=="function"&&define.amd?define(["./core","./sha256"],r):r(i.CryptoJS)})(fa,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=r.algo,o=t.SHA256,l=t.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=o._doFinalize.call(this);return d.sigBytes-=4,d}});r.SHA224=o._createHelper(l),r.HmacSHA224=o._createHmacHelper(l)}(),i.SHA224})});var oc=Pe((ga,wm)=>{"use strict";(function(i,r,e){typeof ga=="object"?wm.exports=ga=r(Fe(),jr()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],r):r(i.CryptoJS)})(ga,function(i){return function(){var r=i,e=r.lib,n=e.Hasher,t=r.x64,o=t.Word,l=t.WordArray,d=r.algo;function m(){return o.create.apply(o,arguments)}var v=[m(1116352408,3609767458),m(1899447441,602891725),m(3049323471,3964484399),m(3921009573,2173295548),m(961987163,4081628472),m(1508970993,3053834265),m(2453635748,2937671579),m(2870763221,3664609560),m(3624381080,2734883394),m(310598401,1164996542),m(607225278,1323610764),m(1426881987,3590304994),m(1925078388,4068182383),m(2162078206,991336113),m(2614888103,633803317),m(3248222580,3479774868),m(3835390401,2666613458),m(4022224774,944711139),m(264347078,2341262773),m(604807628,2007800933),m(770255983,1495990901),m(1249150122,1856431235),m(1555081692,3175218132),m(1996064986,2198950837),m(2554220882,3999719339),m(2821834349,766784016),m(2952996808,2566594879),m(3210313671,3203337956),m(3336571891,1034457026),m(3584528711,2466948901),m(113926993,3758326383),m(338241895,168717936),m(666307205,1188179964),m(773529912,1546045734),m(1294757372,1522805485),m(1396182291,2643833823),m(1695183700,2343527390),m(1986661051,1014477480),m(2177026350,1206759142),m(2456956037,344077627),m(2730485921,1290863460),m(2820302411,3158454273),m(3259730800,3505952657),m(3345764771,106217008),m(3516065817,3606008344),m(3600352804,1432725776),m(4094571909,1467031594),m(275423344,851169720),m(430227734,3100823752),m(506948616,1363258195),m(659060556,3750685593),m(883997877,3785050280),m(958139571,3318307427),m(1322822218,3812723403),m(1537002063,2003034995),m(1747873779,3602036899),m(1955562222,1575990012),m(2024104815,1125592928),m(2227730452,2716904306),m(2361852424,442776044),m(2428436474,593698344),m(2756734187,3733110249),m(3204031479,2999351573),m(3329325298,3815920427),m(3391569614,3928383900),m(3515267271,566280711),m(3940187606,3454069534),m(4118630271,4000239992),m(116418474,1914138554),m(174292421,2731055270),m(289380356,3203993006),m(460393269,320620315),m(685471733,587496836),m(852142971,1086792851),m(1017036298,365543100),m(1126000580,2618297676),m(1288033470,3409855158),m(1501505948,4234509866),m(1607167915,987167468),m(1816402316,1246189591)],p=[];(function(){for(var C=0;C<80;C++)p[C]=m()})();var y=d.SHA512=n.extend({_doReset:function(){this._hash=new l.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(C,E){for(var I=this._hash.words,k=I[0],P=I[1],S=I[2],w=I[3],F=I[4],O=I[5],N=I[6],R=I[7],X=k.high,K=k.low,te=P.high,oe=P.low,j=S.high,Z=S.low,ne=w.high,J=w.low,be=F.high,de=F.low,Me=O.high,Oe=O.low,H=N.high,$=N.low,Q=R.high,G=R.low,nt=X,Xe=K,At=te,ke=oe,An=j,Xi=Z,Ga=ne,In=J,Kt=be,Ot=de,Gr=Me,kn=Oe,qr=H,Pn=$,qa=Q,Fn=G,Zt=0;Zt<80;Zt++){var Gt,Ci,$r=p[Zt];if(Zt<16)Ci=$r.high=C[E+Zt*2]|0,Gt=$r.low=C[E+Zt*2+1]|0;else{var Dc=p[Zt-15],en=Dc.high,On=Dc.low,Up=(en>>>1|On<<31)^(en>>>8|On<<24)^en>>>7,Tc=(On>>>1|en<<31)^(On>>>8|en<<24)^(On>>>7|en<<25),Ac=p[Zt-2],tn=Ac.high,Nn=Ac.low,jp=(tn>>>19|Nn<<13)^(tn<<3|Nn>>>29)^tn>>>6,Ic=(Nn>>>19|tn<<13)^(Nn<<3|tn>>>29)^(Nn>>>6|tn<<26),kc=p[Zt-7],Hp=kc.high,Wp=kc.low,Pc=p[Zt-16],zp=Pc.high,Fc=Pc.low;Gt=Tc+Wp,Ci=Up+Hp+(Gt>>>0<Tc>>>0?1:0),Gt=Gt+Ic,Ci=Ci+jp+(Gt>>>0<Ic>>>0?1:0),Gt=Gt+Fc,Ci=Ci+zp+(Gt>>>0<Fc>>>0?1:0),$r.high=Ci,$r.low=Gt}var Gp=Kt&Gr^~Kt&qr,Oc=Ot&kn^~Ot&Pn,qp=nt&At^nt&An^At&An,$p=Xe&ke^Xe&Xi^ke&Xi,Jp=(nt>>>28|Xe<<4)^(nt<<30|Xe>>>2)^(nt<<25|Xe>>>7),Nc=(Xe>>>28|nt<<4)^(Xe<<30|nt>>>2)^(Xe<<25|nt>>>7),Qp=(Kt>>>14|Ot<<18)^(Kt>>>18|Ot<<14)^(Kt<<23|Ot>>>9),Kp=(Ot>>>14|Kt<<18)^(Ot>>>18|Kt<<14)^(Ot<<23|Kt>>>9),Bc=v[Zt],Zp=Bc.high,Rc=Bc.low,Nt=Fn+Kp,xi=qa+Qp+(Nt>>>0<Fn>>>0?1:0),Nt=Nt+Oc,xi=xi+Gp+(Nt>>>0<Oc>>>0?1:0),Nt=Nt+Rc,xi=xi+Zp+(Nt>>>0<Rc>>>0?1:0),Nt=Nt+Gt,xi=xi+Ci+(Nt>>>0<Gt>>>0?1:0),Vc=Nc+$p,Yp=Jp+qp+(Vc>>>0<Nc>>>0?1:0);qa=qr,Fn=Pn,qr=Gr,Pn=kn,Gr=Kt,kn=Ot,Ot=In+Nt|0,Kt=Ga+xi+(Ot>>>0<In>>>0?1:0)|0,Ga=An,In=Xi,An=At,Xi=ke,At=nt,ke=Xe,Xe=Nt+Vc|0,nt=xi+Yp+(Xe>>>0<Nt>>>0?1:0)|0}K=k.low=K+Xe,k.high=X+nt+(K>>>0<Xe>>>0?1:0),oe=P.low=oe+ke,P.high=te+At+(oe>>>0<ke>>>0?1:0),Z=S.low=Z+Xi,S.high=j+An+(Z>>>0<Xi>>>0?1:0),J=w.low=J+In,w.high=ne+Ga+(J>>>0<In>>>0?1:0),de=F.low=de+Ot,F.high=be+Kt+(de>>>0<Ot>>>0?1:0),Oe=O.low=Oe+kn,O.high=Me+Gr+(Oe>>>0<kn>>>0?1:0),$=N.low=$+Pn,N.high=H+qr+($>>>0<Pn>>>0?1:0),G=R.low=G+Fn,R.high=Q+qa+(G>>>0<Fn>>>0?1:0)},_doFinalize:function(){var C=this._data,E=C.words,I=this._nDataBytes*8,k=C.sigBytes*8;E[k>>>5]|=128<<24-k%32,E[(k+128>>>10<<5)+30]=Math.floor(I/4294967296),E[(k+128>>>10<<5)+31]=I,C.sigBytes=E.length*4,this._process();var P=this._hash.toX32();return P},clone:function(){var C=n.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:1024/32});r.SHA512=n._createHelper(y),r.HmacSHA512=n._createHmacHelper(y)}(),i.SHA512})});var Mm=Pe((_a,Em)=>{"use strict";(function(i,r,e){typeof _a=="object"?Em.exports=_a=r(Fe(),jr(),oc()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],r):r(i.CryptoJS)})(_a,function(i){return function(){var r=i,e=r.x64,n=e.Word,t=e.WordArray,o=r.algo,l=o.SHA512,d=o.SHA384=l.extend({_doReset:function(){this._hash=new t.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var m=l._doFinalize.call(this);return m.sigBytes-=16,m}});r.SHA384=l._createHelper(d),r.HmacSHA384=l._createHmacHelper(d)}(),i.SHA384})});var Tm=Pe((va,Dm)=>{"use strict";(function(i,r,e){typeof va=="object"?Dm.exports=va=r(Fe(),jr()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],r):r(i.CryptoJS)})(va,function(i){return function(r){var e=i,n=e.lib,t=n.WordArray,o=n.Hasher,l=e.x64,d=l.Word,m=e.algo,v=[],p=[],y=[];(function(){for(var I=1,k=0,P=0;P<24;P++){v[I+5*k]=(P+1)*(P+2)/2%64;var S=k%5,w=(2*I+3*k)%5;I=S,k=w}for(var I=0;I<5;I++)for(var k=0;k<5;k++)p[I+5*k]=k+(2*I+3*k)%5*5;for(var F=1,O=0;O<24;O++){for(var N=0,R=0,X=0;X<7;X++){if(F&1){var K=(1<<X)-1;K<32?R^=1<<K:N^=1<<K-32}F&128?F=F<<1^113:F<<=1}y[O]=d.create(N,R)}})();var C=[];(function(){for(var I=0;I<25;I++)C[I]=d.create()})();var E=m.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var I=this._state=[],k=0;k<25;k++)I[k]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(I,k){for(var P=this._state,S=this.blockSize/2,w=0;w<S;w++){var F=I[k+2*w],O=I[k+2*w+1];F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360;var N=P[w];N.high^=O,N.low^=F}for(var R=0;R<24;R++){for(var X=0;X<5;X++){for(var K=0,te=0,oe=0;oe<5;oe++){var N=P[X+5*oe];K^=N.high,te^=N.low}var j=C[X];j.high=K,j.low=te}for(var X=0;X<5;X++)for(var Z=C[(X+4)%5],ne=C[(X+1)%5],J=ne.high,be=ne.low,K=Z.high^(J<<1|be>>>31),te=Z.low^(be<<1|J>>>31),oe=0;oe<5;oe++){var N=P[X+5*oe];N.high^=K,N.low^=te}for(var de=1;de<25;de++){var K,te,N=P[de],Me=N.high,Oe=N.low,H=v[de];H<32?(K=Me<<H|Oe>>>32-H,te=Oe<<H|Me>>>32-H):(K=Oe<<H-32|Me>>>64-H,te=Me<<H-32|Oe>>>64-H);var $=C[p[de]];$.high=K,$.low=te}var Q=C[0],G=P[0];Q.high=G.high,Q.low=G.low;for(var X=0;X<5;X++)for(var oe=0;oe<5;oe++){var de=X+5*oe,N=P[de],nt=C[de],Xe=C[(X+1)%5+5*oe],At=C[(X+2)%5+5*oe];N.high=nt.high^~Xe.high&At.high,N.low=nt.low^~Xe.low&At.low}var N=P[0],ke=y[R];N.high^=ke.high,N.low^=ke.low}},_doFinalize:function(){var I=this._data,k=I.words,P=this._nDataBytes*8,S=I.sigBytes*8,w=this.blockSize*32;k[S>>>5]|=1<<24-S%32,k[(r.ceil((S+1)/w)*w>>>5)-1]|=128,I.sigBytes=k.length*4,this._process();for(var F=this._state,O=this.cfg.outputLength/8,N=O/8,R=[],X=0;X<N;X++){var K=F[X],te=K.high,oe=K.low;te=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360,oe=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360,R.push(oe),R.push(te)}return new t.init(R,O)},clone:function(){for(var I=o.clone.call(this),k=I._state=this._state.slice(0),P=0;P<25;P++)k[P]=k[P].clone();return I}});e.SHA3=o._createHelper(E),e.HmacSHA3=o._createHmacHelper(E)}(Math),i.SHA3})});var Im=Pe((ba,Am)=>{"use strict";(function(i,r){typeof ba=="object"?Am.exports=ba=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ba,function(i){return function(r){var e=i,n=e.lib,t=n.WordArray,o=n.Hasher,l=e.algo,d=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),m=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),y=t.create([0,1518500249,1859775393,2400959708,2840853838]),C=t.create([1352829926,1548603684,1836072691,2053994217,0]),E=l.RIPEMD160=o.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,N){for(var R=0;R<16;R++){var X=N+R,K=O[X];O[X]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360}var te=this._hash.words,oe=y.words,j=C.words,Z=d.words,ne=m.words,J=v.words,be=p.words,de,Me,Oe,H,$,Q,G,nt,Xe,At;Q=de=te[0],G=Me=te[1],nt=Oe=te[2],Xe=H=te[3],At=$=te[4];for(var ke,R=0;R<80;R+=1)ke=de+O[N+Z[R]]|0,R<16?ke+=I(Me,Oe,H)+oe[0]:R<32?ke+=k(Me,Oe,H)+oe[1]:R<48?ke+=P(Me,Oe,H)+oe[2]:R<64?ke+=S(Me,Oe,H)+oe[3]:ke+=w(Me,Oe,H)+oe[4],ke=ke|0,ke=F(ke,J[R]),ke=ke+$|0,de=$,$=H,H=F(Oe,10),Oe=Me,Me=ke,ke=Q+O[N+ne[R]]|0,R<16?ke+=w(G,nt,Xe)+j[0]:R<32?ke+=S(G,nt,Xe)+j[1]:R<48?ke+=P(G,nt,Xe)+j[2]:R<64?ke+=k(G,nt,Xe)+j[3]:ke+=I(G,nt,Xe)+j[4],ke=ke|0,ke=F(ke,be[R]),ke=ke+At|0,Q=At,At=Xe,Xe=F(nt,10),nt=G,G=ke;ke=te[1]+Oe+Xe|0,te[1]=te[2]+H+At|0,te[2]=te[3]+$+Q|0,te[3]=te[4]+de+G|0,te[4]=te[0]+Me+nt|0,te[0]=ke},_doFinalize:function(){var O=this._data,N=O.words,R=this._nDataBytes*8,X=O.sigBytes*8;N[X>>>5]|=128<<24-X%32,N[(X+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,O.sigBytes=(N.length+1)*4,this._process();for(var K=this._hash,te=K.words,oe=0;oe<5;oe++){var j=te[oe];te[oe]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return K},clone:function(){var O=o.clone.call(this);return O._hash=this._hash.clone(),O}});function I(O,N,R){return O^N^R}function k(O,N,R){return O&N|~O&R}function P(O,N,R){return(O|~N)^R}function S(O,N,R){return O&R|N&~R}function w(O,N,R){return O^(N|~R)}function F(O,N){return O<<N|O>>>32-N}e.RIPEMD160=o._createHelper(E),e.HmacRIPEMD160=o._createHmacHelper(E)}(Math),i.RIPEMD160})});var Ca=Pe((ya,km)=>{"use strict";(function(i,r){typeof ya=="object"?km.exports=ya=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ya,function(i){(function(){var r=i,e=r.lib,n=e.Base,t=r.enc,o=t.Utf8,l=r.algo,d=l.HMAC=n.extend({init:function(m,v){m=this._hasher=new m.init,typeof v=="string"&&(v=o.parse(v));var p=m.blockSize,y=p*4;v.sigBytes>y&&(v=m.finalize(v)),v.clamp();for(var C=this._oKey=v.clone(),E=this._iKey=v.clone(),I=C.words,k=E.words,P=0;P<p;P++)I[P]^=1549556828,k[P]^=909522486;C.sigBytes=E.sigBytes=y,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var v=this._hasher,p=v.finalize(m);v.reset();var y=v.finalize(this._oKey.clone().concat(p));return y}})})()})});var Fm=Pe((xa,Pm)=>{"use strict";(function(i,r,e){typeof xa=="object"?Pm.exports=xa=r(Fe(),pa(),Ca()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],r):r(i.CryptoJS)})(xa,function(i){return function(){var r=i,e=r.lib,n=e.Base,t=e.WordArray,o=r.algo,l=o.SHA256,d=o.HMAC,m=o.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,p){for(var y=this.cfg,C=d.create(y.hasher,v),E=t.create(),I=t.create([1]),k=E.words,P=I.words,S=y.keySize,w=y.iterations;k.length<S;){var F=C.update(p).finalize(I);C.reset();for(var O=F.words,N=O.length,R=F,X=1;X<w;X++){R=C.finalize(R),C.reset();for(var K=R.words,te=0;te<N;te++)O[te]^=K[te]}E.concat(F),P[0]++}return E.sigBytes=S*4,E}});r.PBKDF2=function(v,p,y){return m.create(y).compute(v,p)}}(),i.PBKDF2})});var yi=Pe((Sa,Om)=>{"use strict";(function(i,r,e){typeof Sa=="object"?Om.exports=Sa=r(Fe(),rc(),Ca()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],r):r(i.CryptoJS)})(Sa,function(i){return function(){var r=i,e=r.lib,n=e.Base,t=e.WordArray,o=r.algo,l=o.MD5,d=o.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:l,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,v){for(var p,y=this.cfg,C=y.hasher.create(),E=t.create(),I=E.words,k=y.keySize,P=y.iterations;I.length<k;){p&&C.update(p),p=C.update(m).finalize(v),C.reset();for(var S=1;S<P;S++)p=C.finalize(p),C.reset();E.concat(p)}return E.sigBytes=k*4,E}});r.EvpKDF=function(m,v,p){return d.create(p).compute(m,v)}}(),i.EvpKDF})});var pt=Pe((wa,Nm)=>{"use strict";(function(i,r,e){typeof wa=="object"?Nm.exports=wa=r(Fe(),yi()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],r):r(i.CryptoJS)})(wa,function(i){i.lib.Cipher||function(r){var e=i,n=e.lib,t=n.Base,o=n.WordArray,l=n.BufferedBlockAlgorithm,d=e.enc,m=d.Utf8,v=d.Base64,p=e.algo,y=p.EvpKDF,C=n.Cipher=l.extend({cfg:t.extend(),createEncryptor:function(j,Z){return this.create(this._ENC_XFORM_MODE,j,Z)},createDecryptor:function(j,Z){return this.create(this._DEC_XFORM_MODE,j,Z)},init:function(j,Z,ne){this.cfg=this.cfg.extend(ne),this._xformMode=j,this._key=Z,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(j){return this._append(j),this._process()},finalize:function(j){j&&this._append(j);var Z=this._doFinalize();return Z},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function j(Z){return typeof Z=="string"?oe:X}return function(Z){return{encrypt:function(ne,J,be){return j(J).encrypt(Z,ne,J,be)},decrypt:function(ne,J,be){return j(J).decrypt(Z,ne,J,be)}}}}()}),E=n.StreamCipher=C.extend({_doFinalize:function(){var j=this._process(!0);return j},blockSize:1}),I=e.mode={},k=n.BlockCipherMode=t.extend({createEncryptor:function(j,Z){return this.Encryptor.create(j,Z)},createDecryptor:function(j,Z){return this.Decryptor.create(j,Z)},init:function(j,Z){this._cipher=j,this._iv=Z}}),P=I.CBC=function(){var j=k.extend();j.Encryptor=j.extend({processBlock:function(ne,J){var be=this._cipher,de=be.blockSize;Z.call(this,ne,J,de),be.encryptBlock(ne,J),this._prevBlock=ne.slice(J,J+de)}}),j.Decryptor=j.extend({processBlock:function(ne,J){var be=this._cipher,de=be.blockSize,Me=ne.slice(J,J+de);be.decryptBlock(ne,J),Z.call(this,ne,J,de),this._prevBlock=Me}});function Z(ne,J,be){var de,Me=this._iv;Me?(de=Me,this._iv=r):de=this._prevBlock;for(var Oe=0;Oe<be;Oe++)ne[J+Oe]^=de[Oe]}return j}(),S=e.pad={},w=S.Pkcs7={pad:function(j,Z){for(var ne=Z*4,J=ne-j.sigBytes%ne,be=J<<24|J<<16|J<<8|J,de=[],Me=0;Me<J;Me+=4)de.push(be);var Oe=o.create(de,J);j.concat(Oe)},unpad:function(j){var Z=j.words[j.sigBytes-1>>>2]&255;j.sigBytes-=Z}},F=n.BlockCipher=C.extend({cfg:C.cfg.extend({mode:P,padding:w}),reset:function(){var j;C.reset.call(this);var Z=this.cfg,ne=Z.iv,J=Z.mode;this._xformMode==this._ENC_XFORM_MODE?j=J.createEncryptor:(j=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==j?this._mode.init(this,ne&&ne.words):(this._mode=j.call(J,this,ne&&ne.words),this._mode.__creator=j)},_doProcessBlock:function(j,Z){this._mode.processBlock(j,Z)},_doFinalize:function(){var j,Z=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Z.pad(this._data,this.blockSize),j=this._process(!0)):(j=this._process(!0),Z.unpad(j)),j},blockSize:128/32}),O=n.CipherParams=t.extend({init:function(j){this.mixIn(j)},toString:function(j){return(j||this.formatter).stringify(this)}}),N=e.format={},R=N.OpenSSL={stringify:function(j){var Z,ne=j.ciphertext,J=j.salt;return J?Z=o.create([1398893684,1701076831]).concat(J).concat(ne):Z=ne,Z.toString(v)},parse:function(j){var Z,ne=v.parse(j),J=ne.words;return J[0]==1398893684&&J[1]==1701076831&&(Z=o.create(J.slice(2,4)),J.splice(0,4),ne.sigBytes-=16),O.create({ciphertext:ne,salt:Z})}},X=n.SerializableCipher=t.extend({cfg:t.extend({format:R}),encrypt:function(j,Z,ne,J){J=this.cfg.extend(J);var be=j.createEncryptor(ne,J),de=be.finalize(Z),Me=be.cfg;return O.create({ciphertext:de,key:ne,iv:Me.iv,algorithm:j,mode:Me.mode,padding:Me.padding,blockSize:j.blockSize,formatter:J.format})},decrypt:function(j,Z,ne,J){J=this.cfg.extend(J),Z=this._parse(Z,J.format);var be=j.createDecryptor(ne,J).finalize(Z.ciphertext);return be},_parse:function(j,Z){return typeof j=="string"?Z.parse(j,this):j}}),K=e.kdf={},te=K.OpenSSL={execute:function(j,Z,ne,J,be){if(J||(J=o.random(64/8)),be)var de=y.create({keySize:Z+ne,hasher:be}).compute(j,J);else var de=y.create({keySize:Z+ne}).compute(j,J);var Me=o.create(de.words.slice(Z),ne*4);return de.sigBytes=Z*4,O.create({key:de,iv:Me,salt:J})}},oe=n.PasswordBasedCipher=X.extend({cfg:X.cfg.extend({kdf:te}),encrypt:function(j,Z,ne,J){J=this.cfg.extend(J);var be=J.kdf.execute(ne,j.keySize,j.ivSize,J.salt,J.hasher);J.iv=be.iv;var de=X.encrypt.call(this,j,Z,be.key,J);return de.mixIn(be),de},decrypt:function(j,Z,ne,J){J=this.cfg.extend(J),Z=this._parse(Z,J.format);var be=J.kdf.execute(ne,j.keySize,j.ivSize,Z.salt,J.hasher);J.iv=be.iv;var de=X.decrypt.call(this,j,Z,be.key,J);return de}})}()})});var Rm=Pe((Ea,Bm)=>{"use strict";(function(i,r,e){typeof Ea=="object"?Bm.exports=Ea=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Ea,function(i){return i.mode.CFB=function(){var r=i.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(n,t){var o=this._cipher,l=o.blockSize;e.call(this,n,t,l,o),this._prevBlock=n.slice(t,t+l)}}),r.Decryptor=r.extend({processBlock:function(n,t){var o=this._cipher,l=o.blockSize,d=n.slice(t,t+l);e.call(this,n,t,l,o),this._prevBlock=d}});function e(n,t,o,l){var d,m=this._iv;m?(d=m.slice(0),this._iv=void 0):d=this._prevBlock,l.encryptBlock(d,0);for(var v=0;v<o;v++)n[t+v]^=d[v]}return r}(),i.mode.CFB})});var Lm=Pe((Ma,Vm)=>{"use strict";(function(i,r,e){typeof Ma=="object"?Vm.exports=Ma=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Ma,function(i){return i.mode.CTR=function(){var r=i.lib.BlockCipherMode.extend(),e=r.Encryptor=r.extend({processBlock:function(n,t){var o=this._cipher,l=o.blockSize,d=this._iv,m=this._counter;d&&(m=this._counter=d.slice(0),this._iv=void 0);var v=m.slice(0);o.encryptBlock(v,0),m[l-1]=m[l-1]+1|0;for(var p=0;p<l;p++)n[t+p]^=v[p]}});return r.Decryptor=e,r}(),i.mode.CTR})});var jm=Pe((Da,Um)=>{"use strict";(function(i,r,e){typeof Da=="object"?Um.exports=Da=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Da,function(i){return i.mode.CTRGladman=function(){var r=i.lib.BlockCipherMode.extend();function e(o){if((o>>24&255)===255){var l=o>>16&255,d=o>>8&255,m=o&255;l===255?(l=0,d===255?(d=0,m===255?m=0:++m):++d):++l,o=0,o+=l<<16,o+=d<<8,o+=m}else o+=1<<24;return o}function n(o){return(o[0]=e(o[0]))===0&&(o[1]=e(o[1])),o}var t=r.Encryptor=r.extend({processBlock:function(o,l){var d=this._cipher,m=d.blockSize,v=this._iv,p=this._counter;v&&(p=this._counter=v.slice(0),this._iv=void 0),n(p);var y=p.slice(0);d.encryptBlock(y,0);for(var C=0;C<m;C++)o[l+C]^=y[C]}});return r.Decryptor=t,r}(),i.mode.CTRGladman})});var Wm=Pe((Ta,Hm)=>{"use strict";(function(i,r,e){typeof Ta=="object"?Hm.exports=Ta=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Ta,function(i){return i.mode.OFB=function(){var r=i.lib.BlockCipherMode.extend(),e=r.Encryptor=r.extend({processBlock:function(n,t){var o=this._cipher,l=o.blockSize,d=this._iv,m=this._keystream;d&&(m=this._keystream=d.slice(0),this._iv=void 0),o.encryptBlock(m,0);for(var v=0;v<l;v++)n[t+v]^=m[v]}});return r.Decryptor=e,r}(),i.mode.OFB})});var Gm=Pe((Aa,zm)=>{"use strict";(function(i,r,e){typeof Aa=="object"?zm.exports=Aa=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Aa,function(i){return i.mode.ECB=function(){var r=i.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(e,n){this._cipher.encryptBlock(e,n)}}),r.Decryptor=r.extend({processBlock:function(e,n){this._cipher.decryptBlock(e,n)}}),r}(),i.mode.ECB})});var $m=Pe((Ia,qm)=>{"use strict";(function(i,r,e){typeof Ia=="object"?qm.exports=Ia=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Ia,function(i){return i.pad.AnsiX923={pad:function(r,e){var n=r.sigBytes,t=e*4,o=t-n%t,l=n+o-1;r.clamp(),r.words[l>>>2]|=o<<24-l%4*8,r.sigBytes+=o},unpad:function(r){var e=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=e}},i.pad.Ansix923})});var Qm=Pe((ka,Jm)=>{"use strict";(function(i,r,e){typeof ka=="object"?Jm.exports=ka=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(ka,function(i){return i.pad.Iso10126={pad:function(r,e){var n=e*4,t=n-r.sigBytes%n;r.concat(i.lib.WordArray.random(t-1)).concat(i.lib.WordArray.create([t<<24],1))},unpad:function(r){var e=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=e}},i.pad.Iso10126})});var Zm=Pe((Pa,Km)=>{"use strict";(function(i,r,e){typeof Pa=="object"?Km.exports=Pa=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Pa,function(i){return i.pad.Iso97971={pad:function(r,e){r.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(r,e)},unpad:function(r){i.pad.ZeroPadding.unpad(r),r.sigBytes--}},i.pad.Iso97971})});var Xm=Pe((Fa,Ym)=>{"use strict";(function(i,r,e){typeof Fa=="object"?Ym.exports=Fa=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Fa,function(i){return i.pad.ZeroPadding={pad:function(r,e){var n=e*4;r.clamp(),r.sigBytes+=n-(r.sigBytes%n||n)},unpad:function(r){for(var e=r.words,n=r.sigBytes-1,n=r.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){r.sigBytes=n+1;break}}},i.pad.ZeroPadding})});var th=Pe((Oa,eh)=>{"use strict";(function(i,r,e){typeof Oa=="object"?eh.exports=Oa=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Oa,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})});var nh=Pe((Na,ih)=>{"use strict";(function(i,r,e){typeof Na=="object"?ih.exports=Na=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Na,function(i){return function(r){var e=i,n=e.lib,t=n.CipherParams,o=e.enc,l=o.Hex,d=e.format,m=d.Hex={stringify:function(v){return v.ciphertext.toString(l)},parse:function(v){var p=l.parse(v);return t.create({ciphertext:p})}}}(),i.format.Hex})});var oh=Pe((Ba,rh)=>{"use strict";(function(i,r,e){typeof Ba=="object"?rh.exports=Ba=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(Ba,function(i){return function(){var r=i,e=r.lib,n=e.BlockCipher,t=r.algo,o=[],l=[],d=[],m=[],v=[],p=[],y=[],C=[],E=[],I=[];(function(){for(var S=[],w=0;w<256;w++)w<128?S[w]=w<<1:S[w]=w<<1^283;for(var F=0,O=0,w=0;w<256;w++){var N=O^O<<1^O<<2^O<<3^O<<4;N=N>>>8^N&255^99,o[F]=N,l[N]=F;var R=S[F],X=S[R],K=S[X],te=S[N]*257^N*16843008;d[F]=te<<24|te>>>8,m[F]=te<<16|te>>>16,v[F]=te<<8|te>>>24,p[F]=te;var te=K*16843009^X*65537^R*257^F*16843008;y[N]=te<<24|te>>>8,C[N]=te<<16|te>>>16,E[N]=te<<8|te>>>24,I[N]=te,F?(F=R^S[S[S[K^R]]],O^=S[S[O]]):F=O=1}})();var k=[0,1,2,4,8,16,32,64,128,27,54],P=t.AES=n.extend({_doReset:function(){var S;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,F=w.words,O=w.sigBytes/4,N=this._nRounds=O+6,R=(N+1)*4,X=this._keySchedule=[],K=0;K<R;K++)K<O?X[K]=F[K]:(S=X[K-1],K%O?O>6&&K%O==4&&(S=o[S>>>24]<<24|o[S>>>16&255]<<16|o[S>>>8&255]<<8|o[S&255]):(S=S<<8|S>>>24,S=o[S>>>24]<<24|o[S>>>16&255]<<16|o[S>>>8&255]<<8|o[S&255],S^=k[K/O|0]<<24),X[K]=X[K-O]^S);for(var te=this._invKeySchedule=[],oe=0;oe<R;oe++){var K=R-oe;if(oe%4)var S=X[K];else var S=X[K-4];oe<4||K<=4?te[oe]=S:te[oe]=y[o[S>>>24]]^C[o[S>>>16&255]]^E[o[S>>>8&255]]^I[o[S&255]]}}},encryptBlock:function(S,w){this._doCryptBlock(S,w,this._keySchedule,d,m,v,p,o)},decryptBlock:function(S,w){var F=S[w+1];S[w+1]=S[w+3],S[w+3]=F,this._doCryptBlock(S,w,this._invKeySchedule,y,C,E,I,l);var F=S[w+1];S[w+1]=S[w+3],S[w+3]=F},_doCryptBlock:function(S,w,F,O,N,R,X,K){for(var te=this._nRounds,oe=S[w]^F[0],j=S[w+1]^F[1],Z=S[w+2]^F[2],ne=S[w+3]^F[3],J=4,be=1;be<te;be++){var de=O[oe>>>24]^N[j>>>16&255]^R[Z>>>8&255]^X[ne&255]^F[J++],Me=O[j>>>24]^N[Z>>>16&255]^R[ne>>>8&255]^X[oe&255]^F[J++],Oe=O[Z>>>24]^N[ne>>>16&255]^R[oe>>>8&255]^X[j&255]^F[J++],H=O[ne>>>24]^N[oe>>>16&255]^R[j>>>8&255]^X[Z&255]^F[J++];oe=de,j=Me,Z=Oe,ne=H}var de=(K[oe>>>24]<<24|K[j>>>16&255]<<16|K[Z>>>8&255]<<8|K[ne&255])^F[J++],Me=(K[j>>>24]<<24|K[Z>>>16&255]<<16|K[ne>>>8&255]<<8|K[oe&255])^F[J++],Oe=(K[Z>>>24]<<24|K[ne>>>16&255]<<16|K[oe>>>8&255]<<8|K[j&255])^F[J++],H=(K[ne>>>24]<<24|K[oe>>>16&255]<<16|K[j>>>8&255]<<8|K[Z&255])^F[J++];S[w]=de,S[w+1]=Me,S[w+2]=Oe,S[w+3]=H},keySize:256/32});r.AES=n._createHelper(P)}(),i.AES})});var sh=Pe((Ra,ah)=>{"use strict";(function(i,r,e){typeof Ra=="object"?ah.exports=Ra=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(Ra,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=e.BlockCipher,o=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],m=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],y=o.DES=t.extend({_doReset:function(){for(var k=this._key,P=k.words,S=[],w=0;w<56;w++){var F=l[w]-1;S[w]=P[F>>>5]>>>31-F%32&1}for(var O=this._subKeys=[],N=0;N<16;N++){for(var R=O[N]=[],X=m[N],w=0;w<24;w++)R[w/6|0]|=S[(d[w]-1+X)%28]<<31-w%6,R[4+(w/6|0)]|=S[28+(d[w+24]-1+X)%28]<<31-w%6;R[0]=R[0]<<1|R[0]>>>31;for(var w=1;w<7;w++)R[w]=R[w]>>>(w-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var K=this._invSubKeys=[],w=0;w<16;w++)K[w]=O[15-w]},encryptBlock:function(k,P){this._doCryptBlock(k,P,this._subKeys)},decryptBlock:function(k,P){this._doCryptBlock(k,P,this._invSubKeys)},_doCryptBlock:function(k,P,S){this._lBlock=k[P],this._rBlock=k[P+1],C.call(this,4,252645135),C.call(this,16,65535),E.call(this,2,858993459),E.call(this,8,16711935),C.call(this,1,1431655765);for(var w=0;w<16;w++){for(var F=S[w],O=this._lBlock,N=this._rBlock,R=0,X=0;X<8;X++)R|=v[X][((N^F[X])&p[X])>>>0];this._lBlock=N,this._rBlock=O^R}var K=this._lBlock;this._lBlock=this._rBlock,this._rBlock=K,C.call(this,1,1431655765),E.call(this,8,16711935),E.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),k[P]=this._lBlock,k[P+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function C(k,P){var S=(this._lBlock>>>k^this._rBlock)&P;this._rBlock^=S,this._lBlock^=S<<k}function E(k,P){var S=(this._rBlock>>>k^this._lBlock)&P;this._lBlock^=S,this._rBlock^=S<<k}r.DES=t._createHelper(y);var I=o.TripleDES=t.extend({_doReset:function(){var k=this._key,P=k.words;if(P.length!==2&&P.length!==4&&P.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var S=P.slice(0,2),w=P.length<4?P.slice(0,2):P.slice(2,4),F=P.length<6?P.slice(0,2):P.slice(4,6);this._des1=y.createEncryptor(n.create(S)),this._des2=y.createEncryptor(n.create(w)),this._des3=y.createEncryptor(n.create(F))},encryptBlock:function(k,P){this._des1.encryptBlock(k,P),this._des2.decryptBlock(k,P),this._des3.encryptBlock(k,P)},decryptBlock:function(k,P){this._des3.decryptBlock(k,P),this._des2.encryptBlock(k,P),this._des1.decryptBlock(k,P)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=t._createHelper(I)}(),i.TripleDES})});var ch=Pe((Va,lh)=>{"use strict";(function(i,r,e){typeof Va=="object"?lh.exports=Va=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(Va,function(i){return function(){var r=i,e=r.lib,n=e.StreamCipher,t=r.algo,o=t.RC4=n.extend({_doReset:function(){for(var m=this._key,v=m.words,p=m.sigBytes,y=this._S=[],C=0;C<256;C++)y[C]=C;for(var C=0,E=0;C<256;C++){var I=C%p,k=v[I>>>2]>>>24-I%4*8&255;E=(E+y[C]+k)%256;var P=y[C];y[C]=y[E],y[E]=P}this._i=this._j=0},_doProcessBlock:function(m,v){m[v]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var m=this._S,v=this._i,p=this._j,y=0,C=0;C<4;C++){v=(v+1)%256,p=(p+m[v])%256;var E=m[v];m[v]=m[p],m[p]=E,y|=m[(m[v]+m[p])%256]<<24-C*8}return this._i=v,this._j=p,y}r.RC4=n._createHelper(o);var d=t.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var m=this.cfg.drop;m>0;m--)l.call(this)}});r.RC4Drop=n._createHelper(d)}(),i.RC4})});var uh=Pe((La,dh)=>{"use strict";(function(i,r,e){typeof La=="object"?dh.exports=La=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(La,function(i){return function(){var r=i,e=r.lib,n=e.StreamCipher,t=r.algo,o=[],l=[],d=[],m=t.Rabbit=n.extend({_doReset:function(){for(var p=this._key.words,y=this.cfg.iv,C=0;C<4;C++)p[C]=(p[C]<<8|p[C]>>>24)&16711935|(p[C]<<24|p[C]>>>8)&4278255360;var E=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],I=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var C=0;C<4;C++)v.call(this);for(var C=0;C<8;C++)I[C]^=E[C+4&7];if(y){var k=y.words,P=k[0],S=k[1],w=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,F=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,O=w>>>16|F&4294901760,N=F<<16|w&65535;I[0]^=w,I[1]^=O,I[2]^=F,I[3]^=N,I[4]^=w,I[5]^=O,I[6]^=F,I[7]^=N;for(var C=0;C<4;C++)v.call(this)}},_doProcessBlock:function(p,y){var C=this._X;v.call(this),o[0]=C[0]^C[5]>>>16^C[3]<<16,o[1]=C[2]^C[7]>>>16^C[5]<<16,o[2]=C[4]^C[1]>>>16^C[7]<<16,o[3]=C[6]^C[3]>>>16^C[1]<<16;for(var E=0;E<4;E++)o[E]=(o[E]<<8|o[E]>>>24)&16711935|(o[E]<<24|o[E]>>>8)&4278255360,p[y+E]^=o[E]},blockSize:128/32,ivSize:64/32});function v(){for(var p=this._X,y=this._C,C=0;C<8;C++)l[C]=y[C];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<l[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<l[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<l[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<l[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<l[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<l[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<l[6]>>>0?1:0)|0,this._b=y[7]>>>0<l[7]>>>0?1:0;for(var C=0;C<8;C++){var E=p[C]+y[C],I=E&65535,k=E>>>16,P=((I*I>>>17)+I*k>>>15)+k*k,S=((E&4294901760)*E|0)+((E&65535)*E|0);d[C]=P^S}p[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,p[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,p[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,p[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,p[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,p[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,p[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,p[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}r.Rabbit=n._createHelper(m)}(),i.Rabbit})});var hh=Pe((Ua,mh)=>{"use strict";(function(i,r,e){typeof Ua=="object"?mh.exports=Ua=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(Ua,function(i){return function(){var r=i,e=r.lib,n=e.StreamCipher,t=r.algo,o=[],l=[],d=[],m=t.RabbitLegacy=n.extend({_doReset:function(){var p=this._key.words,y=this.cfg.iv,C=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],E=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var I=0;I<4;I++)v.call(this);for(var I=0;I<8;I++)E[I]^=C[I+4&7];if(y){var k=y.words,P=k[0],S=k[1],w=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,F=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,O=w>>>16|F&4294901760,N=F<<16|w&65535;E[0]^=w,E[1]^=O,E[2]^=F,E[3]^=N,E[4]^=w,E[5]^=O,E[6]^=F,E[7]^=N;for(var I=0;I<4;I++)v.call(this)}},_doProcessBlock:function(p,y){var C=this._X;v.call(this),o[0]=C[0]^C[5]>>>16^C[3]<<16,o[1]=C[2]^C[7]>>>16^C[5]<<16,o[2]=C[4]^C[1]>>>16^C[7]<<16,o[3]=C[6]^C[3]>>>16^C[1]<<16;for(var E=0;E<4;E++)o[E]=(o[E]<<8|o[E]>>>24)&16711935|(o[E]<<24|o[E]>>>8)&4278255360,p[y+E]^=o[E]},blockSize:128/32,ivSize:64/32});function v(){for(var p=this._X,y=this._C,C=0;C<8;C++)l[C]=y[C];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<l[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<l[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<l[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<l[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<l[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<l[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<l[6]>>>0?1:0)|0,this._b=y[7]>>>0<l[7]>>>0?1:0;for(var C=0;C<8;C++){var E=p[C]+y[C],I=E&65535,k=E>>>16,P=((I*I>>>17)+I*k>>>15)+k*k,S=((E&4294901760)*E|0)+((E&65535)*E|0);d[C]=P^S}p[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,p[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,p[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,p[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,p[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,p[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,p[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,p[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}r.RabbitLegacy=n._createHelper(m)}(),i.RabbitLegacy})});var fh=Pe((ja,ph)=>{"use strict";(function(i,r,e){typeof ja=="object"?ph.exports=ja=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(ja,function(i){return function(){var r=i,e=r.lib,n=e.BlockCipher,t=r.algo;let o=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var m={pbox:[],sbox:[]};function v(I,k){let P=k>>24&255,S=k>>16&255,w=k>>8&255,F=k&255,O=I.sbox[0][P]+I.sbox[1][S];return O=O^I.sbox[2][w],O=O+I.sbox[3][F],O}function p(I,k,P){let S=k,w=P,F;for(let O=0;O<o;++O)S=S^I.pbox[O],w=v(I,S)^w,F=S,S=w,w=F;return F=S,S=w,w=F,w=w^I.pbox[o],S=S^I.pbox[o+1],{left:S,right:w}}function y(I,k,P){let S=k,w=P,F;for(let O=o+1;O>1;--O)S=S^I.pbox[O],w=v(I,S)^w,F=S,S=w,w=F;return F=S,S=w,w=F,w=w^I.pbox[1],S=S^I.pbox[0],{left:S,right:w}}function C(I,k,P){for(let N=0;N<4;N++){I.sbox[N]=[];for(let R=0;R<256;R++)I.sbox[N][R]=d[N][R]}let S=0;for(let N=0;N<o+2;N++)I.pbox[N]=l[N]^k[S],S++,S>=P&&(S=0);let w=0,F=0,O=0;for(let N=0;N<o+2;N+=2)O=p(I,w,F),w=O.left,F=O.right,I.pbox[N]=w,I.pbox[N+1]=F;for(let N=0;N<4;N++)for(let R=0;R<256;R+=2)O=p(I,w,F),w=O.left,F=O.right,I.sbox[N][R]=w,I.sbox[N][R+1]=F;return!0}var E=t.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var I=this._keyPriorReset=this._key,k=I.words,P=I.sigBytes/4;C(m,k,P)}},encryptBlock:function(I,k){var P=p(m,I[k],I[k+1]);I[k]=P.left,I[k+1]=P.right},decryptBlock:function(I,k){var P=y(m,I[k],I[k+1]);I[k]=P.left,I[k+1]=P.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=n._createHelper(E)}(),i.Blowfish})});var _h=Pe((Ha,gh)=>{"use strict";(function(i,r,e){typeof Ha=="object"?gh.exports=Ha=r(Fe(),jr(),hm(),fm(),ji(),vm(),Hi(),rc(),pa(),Sm(),oc(),Mm(),Tm(),Im(),Ca(),Fm(),yi(),pt(),Rm(),Lm(),jm(),Wm(),Gm(),$m(),Qm(),Zm(),Xm(),th(),nh(),oh(),sh(),ch(),uh(),hh(),fh()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],r):i.CryptoJS=r(i.CryptoJS)})(Ha,function(i){return i})});var cc=Pe((sc,lc)=>{"use strict";(function(i,r){typeof define=="function"&&define.amd?define([],r):typeof sc<"u"?r():(r(),i.FileSaver={})})(sc,function(){"use strict";function i(d,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,m,v){var p=new XMLHttpRequest;p.open("GET",d),p.responseType="blob",p.onload=function(){l(p.response,m,v)},p.onerror=function(){console.error("could not download file")},p.send()}function e(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function n(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var t=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=t.saveAs||(typeof window!="object"||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(d,m,v){var p=t.URL||t.webkitURL,y=document.createElement("a");m=m||d.name||"download",y.download=m,y.rel="noopener",typeof d=="string"?(y.href=d,y.origin===location.origin?n(y):e(y.href)?r(d,m,v):n(y,y.target="_blank")):(y.href=p.createObjectURL(d),setTimeout(function(){p.revokeObjectURL(y.href)},4e4),setTimeout(function(){n(y)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,v){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(i(d,v),m);else if(e(d))r(d,m,v);else{var p=document.createElement("a");p.href=d,p.target="_blank",setTimeout(function(){n(p)})}}:function(d,m,v,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof d=="string")return r(d,m,v);var y=d.type==="application/octet-stream",C=/constructor/i.test(t.HTMLElement)||t.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||y&&C||o)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var S=I.result;S=E?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=S:location=S,p=null},I.readAsDataURL(d)}else{var k=t.URL||t.webkitURL,P=k.createObjectURL(d);p?p.location=P:location.href=P,p=null,setTimeout(function(){k.revokeObjectURL(P)},4e4)}});t.saveAs=l.saveAs=l,typeof lc<"u"&&(lc.exports=l)})});var $n=class{},Jn=class{},jt=class i{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let t=e.slice(0,n),o=t.toLowerCase(),l=e.slice(n+1).trim();this.maybeSetNormalizedName(t,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){let e=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,e);let t=(r.op==="a"?this.headers.get(e):void 0)||[];t.push(...n),this.headers.set(e,t);break;case"d":let o=r.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let l=this.headers.get(e);if(!l)return;l=l.filter(d=>o.indexOf(d)===-1),l.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}break}}setHeaderEntries(r,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),t=r.toLowerCase();this.headers.set(t,n),this.maybeSetNormalizedName(r,t)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}};var ws=class{encodeKey(r){return Ad(r)}encodeValue(r){return Ad(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function rf(i,r){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(t=>{let o=t.indexOf("="),[l,d]=o==-1?[r.decodeKey(t),""]:[r.decodeKey(t.slice(0,o)),r.decodeValue(t.slice(o+1))],m=e.get(l)||[];m.push(d),e.set(l,m)}),e}var of=/%(\d[a-f0-9])/gi,af={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ad(i){return encodeURIComponent(i).replace(of,(r,e)=>af[e]??r)}function mo(i){return`${i}`}var ye=class i{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new ws,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=rf(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{let n=r.fromObject[e],t=Array.isArray(n)?n.map(mo):[mo(n)];this.map.set(e,t)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){let e=[];return Object.keys(r).forEach(n=>{let t=r[n];Array.isArray(t)?t.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:t,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let e=this.encoder.encodeKey(r);return this.map.get(r).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let e=(r.op==="a"?this.map.get(r.param):void 0)||[];e.push(mo(r.value)),this.map.set(r.param,e);break;case"d":if(r.value!==void 0){let n=this.map.get(r.param)||[],t=n.indexOf(mo(r.value));t!==-1&&n.splice(t,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}};var Es=class{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function sf(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Id(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function kd(i){return typeof Blob<"u"&&i instanceof Blob}function Pd(i){return typeof FormData<"u"&&i instanceof FormData}function lf(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var qn=class i{constructor(r,e,n,t){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase();let o;if(sf(this.method)||t?(this.body=n!==void 0?n:null,o=t):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new jt,this.context??=new Es,!this.params)this.params=new ye,this.urlWithParams=e;else{let l=this.params.toString();if(l.length===0)this.urlWithParams=e;else{let d=e.indexOf("?"),m=d===-1?"?":d<e.length-1?"&":"";this.urlWithParams=e+m+l}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Id(this.body)||kd(this.body)||Pd(this.body)||lf(this.body)?this.body:this.body instanceof ye?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Pd(this.body)?null:kd(this.body)?this.body.type||null:Id(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ye?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let e=r.method||this.method,n=r.url||this.url,t=r.responseType||this.responseType,o=r.transferCache??this.transferCache,l=r.body!==void 0?r.body:this.body,d=r.withCredentials??this.withCredentials,m=r.reportProgress??this.reportProgress,v=r.headers||this.headers,p=r.params||this.params,y=r.context??this.context;return r.setHeaders!==void 0&&(v=Object.keys(r.setHeaders).reduce((C,E)=>C.set(E,r.setHeaders[E]),v)),r.setParams&&(p=Object.keys(r.setParams).reduce((C,E)=>C.set(E,r.setParams[E]),p)),new i(e,n,l,{params:p,headers:v,context:y,reportProgress:m,responseType:t,withCredentials:d,transferCache:o})}},ki=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(ki||{}),Qn=class{constructor(r,e=Zn.Ok,n="OK"){this.headers=r.headers||new jt,this.status=r.status!==void 0?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},ho=class i extends Qn{constructor(r={}){super(r),this.type=ki.ResponseHeader}clone(r={}){return new i({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Kn=class i extends Qn{constructor(r={}){super(r),this.type=ki.Response,this.body=r.body!==void 0?r.body:null}clone(r={}){return new i({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Ii=class extends Qn{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},Zn=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(Zn||{});function xs(i,r){return{body:r,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var se=(()=>{class i{constructor(e){this.handler=e}request(e,n,t={}){let o;if(e instanceof qn)o=e;else{let m;t.headers instanceof jt?m=t.headers:m=new jt(t.headers);let v;t.params&&(t.params instanceof ye?v=t.params:v=new ye({fromObject:t.params})),o=new qn(e,n,t.body!==void 0?t.body:null,{headers:m,context:t.context,params:v,reportProgress:t.reportProgress,responseType:t.responseType||"json",withCredentials:t.withCredentials,transferCache:t.transferCache})}let l=ae(o).pipe(Si(m=>this.handler.handle(m)));if(e instanceof qn||t.observe==="events")return l;let d=l.pipe(kt(m=>m instanceof Kn));switch(t.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe(we(m=>{if(m.body!==null&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return d.pipe(we(m=>{if(m.body!==null&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return d.pipe(we(m=>{if(m.body!==null&&typeof m.body!="string")throw new Error("Response is not a string.");return m.body}));case"json":default:return d.pipe(we(m=>m.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${t.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new ye().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,t={}){return this.request("PATCH",e,xs(t,n))}post(e,n,t={}){return this.request("POST",e,xs(t,n))}put(e,n,t={}){return this.request("PUT",e,xs(t,n))}static{this.\u0275fac=function(n){return new(n||i)(L($n))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),cf=/^\)\]\}',?\n/,df="X-Request-URL";function Fd(i){if(i.url)return i.url;let r=df.toLocaleLowerCase();return i.headers.get(r)}var Ss=(()=>{class i{constructor(){this.fetchImpl=ee(Ms,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=ee(Re)}handle(e){return new ui(n=>{let t=new AbortController;return this.doRequest(e,t.signal,n).then(Ds,o=>n.error(new Ii({error:o}))),()=>t.abort()})}doRequest(e,n,t){return Bn(this,null,function*(){let o=this.createRequestInit(e),l;try{let E=this.fetchImpl(e.urlWithParams,q({signal:n},o));uf(E),t.next({type:ki.Sent}),l=yield E}catch(E){t.error(new Ii({error:E,status:E.status??0,statusText:E.statusText,url:e.urlWithParams,headers:E.headers}));return}let d=new jt(l.headers),m=l.statusText,v=Fd(l)??e.urlWithParams,p=l.status,y=null;if(e.reportProgress&&t.next(new ho({headers:d,status:p,statusText:m,url:v})),l.body){let E=l.headers.get("content-length"),I=[],k=l.body.getReader(),P=0,S,w,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Bn(this,null,function*(){for(;;){let{done:N,value:R}=yield k.read();if(N)break;if(I.push(R),P+=R.length,e.reportProgress){w=e.responseType==="text"?(w??"")+(S??=new TextDecoder).decode(R,{stream:!0}):void 0;let X=()=>t.next({type:ki.DownloadProgress,total:E?+E:void 0,loaded:P,partialText:w});F?F.run(X):X()}}}));let O=this.concatChunks(I,P);try{let N=l.headers.get("Content-Type")??"";y=this.parseBody(e,O,N)}catch(N){t.error(new Ii({error:N,headers:new jt(l.headers),status:l.status,statusText:l.statusText,url:Fd(l)??e.urlWithParams}));return}}p===0&&(p=y?Zn.Ok:0),p>=200&&p<300?(t.next(new Kn({body:y,headers:d,status:p,statusText:m,url:v})),t.complete()):t.error(new Ii({error:y,headers:d,status:p,statusText:m,url:v}))})}parseBody(e,n,t){switch(e.responseType){case"json":let o=new TextDecoder().decode(n).replace(cf,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:t});case"arraybuffer":return n.buffer}}createRequestInit(e){let n={},t=e.withCredentials?"include":void 0;if(e.headers.forEach((o,l)=>n[o]=l.join(",")),n.Accept??="application/json, text/plain, */*",!n["Content-Type"]){let o=e.detectContentTypeHeader();o!==null&&(n["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:n,credentials:t}}concatChunks(e,n){let t=new Uint8Array(n),o=0;for(let l of e)t.set(l,o),o+=l.length;return t}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Ms=class{};function Ds(){}function uf(i){i.then(Ds,Ds)}function Rd(i,r){return r(i)}function mf(i,r){return(e,n)=>r.intercept(e,{handle:t=>i(t,n)})}function hf(i,r,e){return(n,t)=>ti(e,()=>r(n,o=>i(o,t)))}var Ts=new Ae(""),As=new Ae(""),pf=new Ae(""),Vd=new Ae("");function ff(){let i=null;return(r,e)=>{i===null&&(i=(ee(Ts,{optional:!0})??[]).reduceRight(mf,Rd));let n=ee(Wn),t=n.add();return i(r,e).pipe(wi(()=>n.remove(t)))}}var Od=(()=>{class i extends $n{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=ee(Wn);let t=ee(Vd,{optional:!0});this.backend=t??e}handle(e){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(As),...this.injector.get(pf,[])]));this.chain=t.reduceRight((o,l)=>hf(o,l,this.injector),Rd)}let n=this.pendingTasks.add();return this.chain(e,t=>this.backend.handle(t)).pipe(wi(()=>this.pendingTasks.remove(n)))}static{this.\u0275fac=function(n){return new(n||i)(L(Jn),L(Yt))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();var gf=/^\)\]\}',?\n/;function _f(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var Nd=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Le(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?Ct(n.\u0275loadImpl()):ae(null)).pipe(et(()=>new ui(o=>{let l=n.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((k,P)=>l.setRequestHeader(k,P.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let k=e.detectContentTypeHeader();k!==null&&l.setRequestHeader("Content-Type",k)}if(e.responseType){let k=e.responseType.toLowerCase();l.responseType=k!=="json"?k:"text"}let d=e.serializeBody(),m=null,v=()=>{if(m!==null)return m;let k=l.statusText||"OK",P=new jt(l.getAllResponseHeaders()),S=_f(l)||e.url;return m=new ho({headers:P,status:l.status,statusText:k,url:S}),m},p=()=>{let{headers:k,status:P,statusText:S,url:w}=v(),F=null;P!==Zn.NoContent&&(F=typeof l.response>"u"?l.responseText:l.response),P===0&&(P=F?Zn.Ok:0);let O=P>=200&&P<300;if(e.responseType==="json"&&typeof F=="string"){let N=F;F=F.replace(gf,"");try{F=F!==""?JSON.parse(F):null}catch(R){F=N,O&&(O=!1,F={error:R,text:F})}}O?(o.next(new Kn({body:F,headers:k,status:P,statusText:S,url:w||void 0})),o.complete()):o.error(new Ii({error:F,headers:k,status:P,statusText:S,url:w||void 0}))},y=k=>{let{url:P}=v(),S=new Ii({error:k,status:l.status||0,statusText:l.statusText||"Unknown Error",url:P||void 0});o.error(S)},C=!1,E=k=>{C||(o.next(v()),C=!0);let P={type:ki.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(P.total=k.total),e.responseType==="text"&&l.responseText&&(P.partialText=l.responseText),o.next(P)},I=k=>{let P={type:ki.UploadProgress,loaded:k.loaded};k.lengthComputable&&(P.total=k.total),o.next(P)};return l.addEventListener("load",p),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),e.reportProgress&&(l.addEventListener("progress",E),d!==null&&l.upload&&l.upload.addEventListener("progress",I)),l.send(d),o.next({type:ki.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",p),l.removeEventListener("timeout",y),e.reportProgress&&(l.removeEventListener("progress",E),d!==null&&l.upload&&l.upload.removeEventListener("progress",I)),l.readyState!==l.DONE&&l.abort()}})))}static{this.\u0275fac=function(n){return new(n||i)(L(lo))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Ld=new Ae(""),vf="XSRF-TOKEN",bf=new Ae("",{providedIn:"root",factory:()=>vf}),yf="X-XSRF-TOKEN",Cf=new Ae("",{providedIn:"root",factory:()=>yf}),po=class{},xf=(()=>{class i{constructor(e,n,t){this.doc=e,this.platform=n,this.cookieName=t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ao(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(n){return new(n||i)(L(Ze),L(ni),L(bf))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();function Sf(i,r){let e=i.url.toLowerCase();if(!ee(Ld)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return r(i);let n=ee(po).getToken(),t=ee(Cf);return n!=null&&!i.headers.has(t)&&(i=i.clone({headers:i.headers.set(t,n)})),r(i)}var Is=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Is||{});function Ud(i,r){return{\u0275kind:i,\u0275providers:r}}function ks(...i){let r=[se,Nd,Od,{provide:$n,useExisting:Od},{provide:Jn,useExisting:Nd},{provide:As,useValue:Sf,multi:!0},{provide:Ld,useValue:!0},{provide:po,useClass:xf}];for(let e of i)r.push(...e.\u0275providers);return Di(r)}var Bd=new Ae("");function wf(){return Ud(Is.LegacyInterceptors,[{provide:Bd,useFactory:ff},{provide:As,useExisting:Bd,multi:!0}])}function jd(){return Ud(Is.Fetch,[Ss,{provide:Jn,useExisting:Ss},{provide:Vd,useExisting:Ss}])}var Hd=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({providers:[ks(wf())]})}}return i})();var Os=class extends Cd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ns=class i extends Os{static makeCurrent(){yd(new i)}onAndCancel(r,e,n){return r.addEventListener(e,n),()=>{r.removeEventListener(e,n)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return e=e||this.getDefaultDocument(),e.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return e==="window"?window:e==="document"?r:e==="body"?r.body:null}getBaseHref(r){let e=Mf();return e==null?null:Df(e)}resetBaseElement(){Yn=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return ao(document.cookie,r)}},Yn=null;function Mf(){return Yn=Yn||document.querySelector("base"),Yn?Yn.getAttribute("href"):null}function Df(i){return new URL(i,document.baseURI).pathname}var Bs=class{addToWindow(r){Mi.getAngularTestability=(n,t=!0)=>{let o=r.findTestabilityInTree(n,t);if(o==null)throw new Le(5103,!1);return o},Mi.getAllAngularTestabilities=()=>r.getAllTestabilities(),Mi.getAllAngularRootElements=()=>r.getAllRootElements();let e=n=>{let t=Mi.getAllAngularTestabilities(),o=t.length,l=function(){o--,o==0&&n()};t.forEach(d=>{d.whenStable(l)})};Mi.frameworkStabilizers||(Mi.frameworkStabilizers=[]),Mi.frameworkStabilizers.push(e)}findTestabilityInTree(r,e,n){if(e==null)return null;let t=r.getTestability(e);return t??(n?zi().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null)}},Tf=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Rs=new Ae(""),Gd=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(t=>{t.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,t){return this._findPluginFor(n).addEventListener(e,n,t)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new Le(5101,!1);return this._eventNameToPlugin.set(e,n),n}static{this.\u0275fac=function(n){return new(n||i)(L(Rs),L(Re))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),fo=class{constructor(r){this._doc=r}},Ps="ng-app-id",qd=(()=>{class i{constructor(e,n,t,o={}){this.doc=e,this.appId=n,this.nonce=t,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=so(o),this.resetHostNodes()}addStyles(e){for(let n of e)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(e){for(let n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){let n=this.styleRef;n.get(e)?.elements?.forEach(t=>t.remove()),n.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Ps}="${this.appId}"]`);if(e?.length){let n=new Map;return e.forEach(t=>{t.textContent!=null&&n.set(t.textContent,t)}),n}return null}changeUsageCount(e,n){let t=this.styleRef;if(t.has(e)){let o=t.get(e);return o.usage+=n,o.usage}return t.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){let t=this.styleNodesInDOM,o=t?.get(n);if(o?.parentNode===e)return t.delete(n),o.removeAttribute(Ps),o;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=n,this.platformIsServer&&l.setAttribute(Ps,this.appId),e.appendChild(l),l}}addStyleToHost(e,n){let t=this.getStyleElement(e,n),o=this.styleRef,l=o.get(n)?.elements;l?l.push(t):o.set(n,{elements:[t],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||i)(L(Ze),L(Ln),L(Un,8),L(ni))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Fs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Us=/%COMP%/g,$d="%COMP%",Af=`_nghost-${$d}`,If=`_ngcontent-${$d}`,kf=!0,Pf=new Ae("",{providedIn:"root",factory:()=>kf});function Ff(i){return If.replace(Us,i)}function Of(i){return Af.replace(Us,i)}function Jd(i,r){return r.map(e=>e.replace(Us,i))}var go=(()=>{class i{constructor(e,n,t,o,l,d,m,v=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=t,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=d,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=so(d),this.defaultRenderer=new Xn(e,l,m,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Vn.ShadowDom&&(n=De(q({},n),{encapsulation:Vn.Emulated}));let t=this.getOrCreateRenderer(e,n);return t instanceof _o?t.applyToHost(e):t instanceof er&&t.applyStyles(),t}getOrCreateRenderer(e,n){let t=this.rendererByCompId,o=t.get(n.id);if(!o){let l=this.doc,d=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(n.encapsulation){case Vn.Emulated:o=new _o(m,v,n,this.appId,p,l,d,y);break;case Vn.ShadowDom:return new Vs(m,v,e,n,l,d,this.nonce,y);default:o=new er(m,v,n,p,l,d,y);break}t.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||i)(L(Gd),L(qd),L(Ln),L(Pf),L(Ze),L(ni),L(Re),L(Un))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Xn=class{constructor(r,e,n,t){this.eventManager=r,this.doc=e,this.ngZone=n,this.platformIsServer=t,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,e){return e?this.doc.createElementNS(Fs[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(Wd(r)?r.content:r).appendChild(e)}insertBefore(r,e,n){r&&(Wd(r)?r.content:r).insertBefore(e,n)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new Le(-5104,!1);return e||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,n,t){if(t){e=t+":"+e;let o=Fs[t];o?r.setAttributeNS(o,e,n):r.setAttribute(e,n)}else r.setAttribute(e,n)}removeAttribute(r,e,n){if(n){let t=Fs[n];t?r.removeAttributeNS(t,e):r.removeAttribute(`${n}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,n,t){t&(jn.DashCase|jn.Important)?r.style.setProperty(e,n,t&jn.Important?"important":""):r.style[e]=n}removeStyle(r,e,n){n&jn.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,n){r!=null&&(r[e]=n)}setValue(r,e){r.nodeValue=e}listen(r,e,n){if(typeof r=="string"&&(r=zi().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${e}`);return this.eventManager.addEventListener(r,e,this.decoratePreventDefault(n))}decoratePreventDefault(r){return e=>{if(e==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(e)):r(e))===!1&&e.preventDefault()}}};function Wd(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Vs=class extends Xn{constructor(r,e,n,t,o,l,d,m){super(r,o,l,m),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=Jd(t.id,t.styles);for(let p of v){let y=document.createElement("style");d&&y.setAttribute("nonce",d),y.textContent=p,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,n){return super.insertBefore(this.nodeOrShadowRoot(r),e,n)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},er=class extends Xn{constructor(r,e,n,t,o,l,d,m){super(r,o,l,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=t,this.styles=m?Jd(m,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},_o=class extends er{constructor(r,e,n,t,o,l,d,m){let v=t+"-"+n.id;super(r,e,n,o,l,d,m,v),this.contentAttr=Ff(v),this.hostAttr=Of(v)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){let n=super.createElement(r,e);return super.setAttribute(n,this.contentAttr,""),n}},Nf=(()=>{class i extends fo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,t){return e.addEventListener(n,t,!1),()=>this.removeEventListener(e,n,t)}removeEventListener(e,n,t){return e.removeEventListener(n,t)}static{this.\u0275fac=function(n){return new(n||i)(L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),zd=["alt","control","meta","shift"],Bf={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rf={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Vf=(()=>{class i extends fo{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,t){let o=i.parseEventName(n),l=i.eventCallback(o.fullKey,t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zi().onAndCancel(e,o.domEventName,l))}static parseEventName(e){let n=e.toLowerCase().split("."),t=n.shift();if(n.length===0||!(t==="keydown"||t==="keyup"))return null;let o=i._normalizeKey(n.pop()),l="",d=n.indexOf("code");if(d>-1&&(n.splice(d,1),l="code."),zd.forEach(v=>{let p=n.indexOf(v);p>-1&&(n.splice(p,1),l+=v+".")}),l+=o,n.length!=0||o.length===0)return null;let m={};return m.domEventName=t,m.fullKey=l,m}static matchEventFullKeyCode(e,n){let t=Bf[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(t=e.code,o="code."),t==null||!t?!1:(t=t.toLowerCase(),t===" "?t="space":t==="."&&(t="dot"),zd.forEach(l=>{if(l!==t){let d=Rf[l];d(e)&&(o+=l+".")}}),o+=t,o===n)}static eventCallback(e,n,t){return o=>{i.matchEventFullKeyCode(o,e)&&t.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(n){return new(n||i)(L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();function Lf(){Ns.makeCurrent()}function Uf(){return new os}function jf(){return ed(document),document}var Hf=[{provide:ni,useValue:Md},{provide:td,useValue:Lf,multi:!0},{provide:Ze,useFactory:jf,deps:[]}],Qd=gd(_d,"browser",Hf),Wf=new Ae(""),zf=[{provide:to,useClass:Bs,deps:[]},{provide:fd,useClass:io,deps:[Re,gs,to]},{provide:io,useClass:io,deps:[Re,gs,to]}],Gf=[{provide:Xc,useValue:"root"},{provide:os,useFactory:Uf,deps:[]},{provide:Rs,useClass:Nf,multi:!0,deps:[Ze,Re,ni]},{provide:Rs,useClass:Vf,multi:!0,deps:[Ze]},go,qd,Gd,{provide:Zr,useExisting:go},{provide:lo,useClass:Tf,deps:[]},[]],Kd=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:Ln,useValue:e.appId}]}}static{this.\u0275fac=function(n){return new(n||i)(L(Wf,12))}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({providers:[...Gf,...zf],imports:[Ed,vd]})}}return i})();var Zd=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(n){return new(n||i)(L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var js=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:function(n){let t=null;return n?t=new(n||i):t=L(qf),t},providedIn:"root"})}}return i})(),qf=(()=>{class i extends js{constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case pi.NONE:return n;case pi.HTML:return rn(n,"HTML")?nn(n):ld(this._doc,String(n)).toString();case pi.STYLE:return rn(n,"Style")?nn(n):n;case pi.SCRIPT:if(rn(n,"Script"))return nn(n);throw new Le(5200,!1);case pi.URL:return rn(n,"URL")?nn(n):sd(String(n));case pi.RESOURCE_URL:if(rn(n,"ResourceURL"))return nn(n);throw new Le(5201,!1);default:throw new Le(5202,!1)}}bypassSecurityTrustHtml(e){return id(e)}bypassSecurityTrustStyle(e){return nd(e)}bypassSecurityTrustScript(e){return rd(e)}bypassSecurityTrustUrl(e){return od(e)}bypassSecurityTrustResourceUrl(e){return ad(e)}static{this.\u0275fac=function(n){return new(n||i)(L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ee="primary",fr=Symbol("RouteTitle"),$s=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function hn(i){return new $s(i)}function Jf(i,r,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<i.length))return null;let t={};for(let o=0;o<n.length;o++){let l=n[o],d=i[o];if(l.startsWith(":"))t[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:i.slice(0,n.length),posParams:t}}function Qf(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!li(i[e],r[e]))return!1;return!0}function li(i,r){let e=i?Js(i):void 0,n=r?Js(r):void 0;if(!e||!n||e.length!=n.length)return!1;let t;for(let o=0;o<e.length;o++)if(t=e[o],!a0(i[t],r[t]))return!1;return!0}function Js(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function a0(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;let e=[...i].sort(),n=[...r].sort();return e.every((t,o)=>n[o]===t)}else return i===r}function s0(i){return i.length>0?i[i.length-1]:null}function Ni(i){return Hc(i)?i:no(i)?Ct(Promise.resolve(i)):ae(i)}var Kf={exact:c0,subset:d0},l0={exact:Zf,subset:Yf,ignored:()=>!0};function Yd(i,r,e){return Kf[e.paths](i.root,r.root,e.matrixParams)&&l0[e.queryParams](i.queryParams,r.queryParams)&&!(e.fragment==="exact"&&i.fragment!==r.fragment)}function Zf(i,r){return li(i,r)}function c0(i,r,e){if(!qi(i.segments,r.segments)||!yo(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!i.children[n]||!c0(i.children[n],r.children[n],e))return!1;return!0}function Yf(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>a0(i[e],r[e]))}function d0(i,r,e){return u0(i,r,r.segments,e)}function u0(i,r,e,n){if(i.segments.length>e.length){let t=i.segments.slice(0,e.length);return!(!qi(t,e)||r.hasChildren()||!yo(t,e,n))}else if(i.segments.length===e.length){if(!qi(i.segments,e)||!yo(i.segments,e,n))return!1;for(let t in r.children)if(!i.children[t]||!d0(i.children[t],r.children[t],n))return!1;return!0}else{let t=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!qi(i.segments,t)||!yo(i.segments,t,n)||!i.children[Ee]?!1:u0(i.children[Ee],r,o,n)}}function yo(i,r,e){return r.every((n,t)=>l0[e](i[t].parameters,n.parameters))}var Pi=class{constructor(r=new Ue([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return tg.serialize(this)}},Ue=class{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Co(this)}},Gi=class{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=hn(this.parameters),this._parameterMap}toString(){return h0(this)}};function Xf(i,r){return qi(i,r)&&i.every((e,n)=>li(e.parameters,r[n].parameters))}function qi(i,r){return i.length!==r.length?!1:i.every((e,n)=>e.path===r[n].path)}function eg(i,r){let e=[];return Object.entries(i.children).forEach(([n,t])=>{n===Ee&&(e=e.concat(r(t,n)))}),Object.entries(i.children).forEach(([n,t])=>{n!==Ee&&(e=e.concat(r(t,n)))}),e}var gr=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>new sr,providedIn:"root"})}}return i})(),sr=class{parse(r){let e=new Ks(r);return new Pi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${tr(r.root,!0)}`,n=rg(r.queryParams),t=typeof r.fragment=="string"?`#${ig(r.fragment)}`:"";return`${e}${n}${t}`}},tg=new sr;function Co(i){return i.segments.map(r=>h0(r)).join("/")}function tr(i,r){if(!i.hasChildren())return Co(i);if(r){let e=i.children[Ee]?tr(i.children[Ee],!1):"",n=[];return Object.entries(i.children).forEach(([t,o])=>{t!==Ee&&n.push(`${t}:${tr(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=eg(i,(n,t)=>t===Ee?[tr(i.children[Ee],!1)]:[`${t}:${tr(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[Ee]!=null?`${Co(i)}/${e[0]}`:`${Co(i)}/(${e.join("//")})`}}function m0(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vo(i){return m0(i).replace(/%3B/gi,";")}function ig(i){return encodeURI(i)}function Qs(i){return m0(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xo(i){return decodeURIComponent(i)}function Xd(i){return xo(i.replace(/\+/g,"%20"))}function h0(i){return`${Qs(i.path)}${ng(i.parameters)}`}function ng(i){return Object.entries(i).map(([r,e])=>`;${Qs(r)}=${Qs(e)}`).join("")}function rg(i){let r=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(t=>`${vo(e)}=${vo(t)}`).join("&"):`${vo(e)}=${vo(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var og=/^[^\/()?;#]+/;function Ws(i){let r=i.match(og);return r?r[0]:""}var ag=/^[^\/()?;=#]+/;function sg(i){let r=i.match(ag);return r?r[0]:""}var lg=/^[^=?&#]+/;function cg(i){let r=i.match(lg);return r?r[0]:""}var dg=/^[^&#]+/;function ug(i){let r=i.match(dg);return r?r[0]:""}var Ks=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n[Ee]=new Ue(r,e)),n}parseSegment(){let r=Ws(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new Le(4009,!1);return this.capture(r),new Gi(xo(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=sg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let t=Ws(this.remaining);t&&(n=t,this.capture(n))}r[xo(e)]=xo(n)}parseQueryParam(r){let e=cg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let l=ug(this.remaining);l&&(n=l,this.capture(n))}let t=Xd(e),o=Xd(n);if(r.hasOwnProperty(t)){let l=r[t];Array.isArray(l)||(l=[l],r[t]=l),l.push(o)}else r[t]=o}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Ws(this.remaining),t=this.remaining[n.length];if(t!=="/"&&t!==")"&&t!==";")throw new Le(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=Ee);let l=this.parseChildren();e[o]=Object.keys(l).length===1?l[Ee]:new Ue([],l),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new Le(4011,!1)}};function p0(i){return i.segments.length>0?new Ue([],{[Ee]:i}):i}function f0(i){let r={};for(let[n,t]of Object.entries(i.children)){let o=f0(t);if(n===Ee&&o.segments.length===0&&o.hasChildren())for(let[l,d]of Object.entries(o.children))r[l]=d;else(o.segments.length>0||o.hasChildren())&&(r[n]=o)}let e=new Ue(i.segments,r);return mg(e)}function mg(i){if(i.numberOfChildren===1&&i.children[Ee]){let r=i.children[Ee];return new Ue(i.segments.concat(r.segments),r.children)}return i}function pn(i){return i instanceof Pi}function hg(i,r,e=null,n=null){let t=g0(i);return _0(t,r,e,n)}function g0(i){let r;function e(o){let l={};for(let m of o.children){let v=e(m);l[m.outlet]=v}let d=new Ue(o.url,l);return o===i&&(r=d),d}let n=e(i.root),t=p0(n);return r??t}function _0(i,r,e,n){let t=i;for(;t.parent;)t=t.parent;if(r.length===0)return zs(t,t,t,e,n);let o=pg(r);if(o.toRoot())return zs(t,t,new Ue([],{}),e,n);let l=fg(o,t,i),d=l.processChildren?rr(l.segmentGroup,l.index,o.commands):b0(l.segmentGroup,l.index,o.commands);return zs(t,l.segmentGroup,d,e,n)}function So(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function lr(i){return typeof i=="object"&&i!=null&&i.outlets}function zs(i,r,e,n,t){let o={};n&&Object.entries(n).forEach(([m,v])=>{o[m]=Array.isArray(v)?v.map(p=>`${p}`):`${v}`});let l;i===r?l=e:l=v0(i,r,e);let d=p0(f0(l));return new Pi(d,o,t)}function v0(i,r,e){let n={};return Object.entries(i.children).forEach(([t,o])=>{o===r?n[t]=e:n[t]=v0(o,r,e)}),new Ue(i.segments,n)}var wo=class{constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&So(n[0]))throw new Le(4003,!1);let t=n.find(lr);if(t&&t!==s0(n))throw new Le(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pg(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new wo(!0,0,i);let r=0,e=!1,n=i.reduce((t,o,l)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let d={};return Object.entries(o.outlets).forEach(([m,v])=>{d[m]=typeof v=="string"?v.split("/"):v}),[...t,{outlets:d}]}if(o.segmentPath)return[...t,o.segmentPath]}return typeof o!="string"?[...t,o]:l===0?(o.split("/").forEach((d,m)=>{m==0&&d==="."||(m==0&&d===""?e=!0:d===".."?r++:d!=""&&t.push(d))}),t):[...t,o]},[]);return new wo(e,r,n)}var un=class{constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function fg(i,r,e){if(i.isAbsolute)return new un(r,!0,0);if(!e)return new un(r,!1,NaN);if(e.parent===null)return new un(e,!0,0);let n=So(i.commands[0])?0:1,t=e.segments.length-1+n;return gg(e,t,i.numberOfDoubleDots)}function gg(i,r,e){let n=i,t=r,o=e;for(;o>t;){if(o-=t,n=n.parent,!n)throw new Le(4005,!1);t=n.segments.length}return new un(n,!1,t-o)}function _g(i){return lr(i[0])?i[0].outlets:{[Ee]:i}}function b0(i,r,e){if(i??=new Ue([],{}),i.segments.length===0&&i.hasChildren())return rr(i,r,e);let n=vg(i,r,e),t=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new Ue(i.segments.slice(0,n.pathIndex),{});return o.children[Ee]=new Ue(i.segments.slice(n.pathIndex),i.children),rr(o,0,t)}else return n.match&&t.length===0?new Ue(i.segments,{}):n.match&&!i.hasChildren()?Zs(i,r,e):n.match?rr(i,0,t):Zs(i,r,e)}function rr(i,r,e){if(e.length===0)return new Ue(i.segments,{});{let n=_g(e),t={};if(Object.keys(n).some(o=>o!==Ee)&&i.children[Ee]&&i.numberOfChildren===1&&i.children[Ee].segments.length===0){let o=rr(i.children[Ee],r,e);return new Ue(i.segments,o.children)}return Object.entries(n).forEach(([o,l])=>{typeof l=="string"&&(l=[l]),l!==null&&(t[o]=b0(i.children[o],r,l))}),Object.entries(i.children).forEach(([o,l])=>{n[o]===void 0&&(t[o]=l)}),new Ue(i.segments,t)}}function vg(i,r,e){let n=0,t=r,o={match:!1,pathIndex:0,commandIndex:0};for(;t<i.segments.length;){if(n>=e.length)return o;let l=i.segments[t],d=e[n];if(lr(d))break;let m=`${d}`,v=n<e.length-1?e[n+1]:null;if(t>0&&m===void 0)break;if(m&&v&&typeof v=="object"&&v.outlets===void 0){if(!t0(m,v,l))return o;n+=2}else{if(!t0(m,{},l))return o;n++}t++}return{match:!0,pathIndex:t,commandIndex:n}}function Zs(i,r,e){let n=i.segments.slice(0,r),t=0;for(;t<e.length;){let o=e[t];if(lr(o)){let m=bg(o.outlets);return new Ue(n,m)}if(t===0&&So(e[0])){let m=i.segments[r];n.push(new Gi(m.path,e0(e[0]))),t++;continue}let l=lr(o)?o.outlets[Ee]:`${o}`,d=t<e.length-1?e[t+1]:null;l&&d&&So(d)?(n.push(new Gi(l,e0(d))),t+=2):(n.push(new Gi(l,{})),t++)}return new Ue(n,{})}function bg(i){let r={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=Zs(new Ue([],{}),0,n))}),r}function e0(i){let r={};return Object.entries(i).forEach(([e,n])=>r[e]=`${n}`),r}function t0(i,r,e){return i==e.path&&li(r,e.parameters)}var or="imperative",yt=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(yt||{}),Jt=class{constructor(r,e){this.id=r,this.url=e}},fn=class extends Jt{constructor(r,e,n="imperative",t=null){super(r,e),this.type=yt.NavigationStart,this.navigationTrigger=n,this.restoredState=t}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends Jt{constructor(r,e,n){super(r,e),this.urlAfterRedirects=n,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Wt||{}),Eo=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Eo||{}),Fi=class extends Jt{constructor(r,e,n,t){super(r,e),this.reason=n,this.code=t,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Oi=class extends Jt{constructor(r,e,n,t){super(r,e),this.reason=n,this.code=t,this.type=yt.NavigationSkipped}},cr=class extends Jt{constructor(r,e,n,t){super(r,e),this.error=n,this.target=t,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mo=class extends Jt{constructor(r,e,n,t){super(r,e),this.urlAfterRedirects=n,this.state=t,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ys=class extends Jt{constructor(r,e,n,t){super(r,e),this.urlAfterRedirects=n,this.state=t,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xs=class extends Jt{constructor(r,e,n,t,o){super(r,e),this.urlAfterRedirects=n,this.state=t,this.shouldActivate=o,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},el=class extends Jt{constructor(r,e,n,t){super(r,e),this.urlAfterRedirects=n,this.state=t,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tl=class extends Jt{constructor(r,e,n,t){super(r,e),this.urlAfterRedirects=n,this.state=t,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class{constructor(r){this.route=r,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},nl=class{constructor(r){this.route=r,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rl=class{constructor(r){this.snapshot=r,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ol=class{constructor(r){this.snapshot=r,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},al=class{constructor(r){this.snapshot=r,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sl=class{constructor(r){this.snapshot=r,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Do=class{constructor(r,e,n){this.routerEvent=r,this.position=e,this.anchor=n,this.type=yt.Scroll}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},dr=class{},ur=class{constructor(r){this.url=r}};var ll=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _r,this.attachRef=null}},_r=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){let t=this.getOrCreateContext(e);t.outlet=n,this.contexts.set(e,t)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new ll,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),To=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=cl(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=cl(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=dl(r,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(t=>t!==r)}pathFromRoot(r){return dl(r,this._root).map(e=>e.value)}};function cl(i,r){if(i===r.value)return r;for(let e of r.children){let n=cl(i,e);if(n)return n}return null}function dl(i,r){if(i===r.value)return[r];for(let e of r.children){let n=dl(i,e);if(n.length)return n.unshift(r),n}return[]}var Ht=class{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function dn(i){let r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}var Ao=class extends To{constructor(r,e){super(r),this.snapshot=e,yl(this,r)}toString(){return this.snapshot.toString()}};function y0(i){let r=yg(i),e=new Bt([new Gi("",{})]),n=new Bt({}),t=new Bt({}),o=new Bt({}),l=new Bt(""),d=new dt(e,n,o,l,t,Ee,i,r.root);return d.snapshot=r.root,new Ao(new Ht(d,[]),r)}function yg(i){let r={},e={},n={},t="",o=new mr([],r,n,t,e,Ee,i,null,{});return new Io("",new Ht(o,[]))}var dt=class{constructor(r,e,n,t,o,l,d,m){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=t,this.dataSubject=o,this.outlet=l,this.component=d,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(we(v=>v[fr]))??ae(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=t,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(we(r=>hn(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(we(r=>hn(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bl(i,r,e="emptyOnly"){let n,{routeConfig:t}=i;return r!==null&&(e==="always"||t?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:q(q({},r.params),i.params),data:q(q({},r.data),i.data),resolve:q(q(q(q({},i.data),r.data),t?.data),i._resolvedData)}:n={params:q({},i.params),data:q({},i.data),resolve:q(q({},i.data),i._resolvedData??{})},t&&x0(t)&&(n.resolve[fr]=t.title),n}var mr=class{get title(){return this.data?.[fr]}constructor(r,e,n,t,o,l,d,m,v){this.url=r,this.params=e,this.queryParams=n,this.fragment=t,this.data=o,this.outlet=l,this.component=d,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},Io=class extends To{constructor(r,e){super(e),this.url=r,yl(this,e)}toString(){return C0(this._root)}};function yl(i,r){r.value._routerState=i,r.children.forEach(e=>yl(i,e))}function C0(i){let r=i.children.length>0?` { ${i.children.map(C0).join(", ")} } `:"";return`${i.value}${r}`}function Gs(i){if(i.snapshot){let r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,li(r.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),li(r.params,e.params)||i.paramsSubject.next(e.params),Qf(r.url,e.url)||i.urlSubject.next(e.url),li(r.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function ul(i,r){let e=li(i.params,r.params)&&Xf(i.url,r.url),n=!i.parent!=!r.parent;return e&&!n&&(!i.parent||ul(i.parent,r.parent))}function x0(i){return typeof i.title=="string"||i.title===null}var Cl=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new wt,this.deactivateEvents=new wt,this.attachEvents=new wt,this.detachEvents=new wt,this.parentContexts=ee(_r),this.location=ee(ds),this.changeDetector=ee(ai),this.environmentInjector=ee(Yt),this.inputBinder=ee(No,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:t}=e.name;if(n)return;this.isTrackedInParentContexts(t)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(t)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Le(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Le(4013,!1);this._activatedRoute=e;let t=this.location,l=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,m=new ml(e,d,t.injector);this.activated=t.createComponent(l,{index:t.length,injector:m,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Be({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ii]})}}return i})(),ml=class i{__ngOutletInjector(r){return new i(this.route,this.childContexts,r)}constructor(r,e,n){this.route=r,this.childContexts=e,this.parent=n}get(r,e){return r===dt?this.route:r===_r?this.childContexts:this.parent.get(r,e)}},No=new Ae(""),i0=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,t=Wi([n.queryParams,n.params,n.data]).pipe(et(([o,l,d],m)=>(d=q(q(q({},o),l),d),m===0?ae(d):Promise.resolve(d)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let l=bd(n.component);if(!l){this.unsubscribeFromRouteData(e);return}for(let{templateName:d}of l.inputs)e.activatedComponentRef.setInput(d,o[d])});this.outletDataSubscriptions.set(e,t)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();function Cg(i,r,e){let n=hr(i,r._root,e?e._root:void 0);return new Ao(n,r)}function hr(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let t=xg(i,r,e);return new Ht(n,t)}else{if(i.shouldAttach(r.value)){let o=i.retrieve(r.value);if(o!==null){let l=o.route;return l.value._futureSnapshot=r.value,l.children=r.children.map(d=>hr(i,d)),l}}let n=Sg(r.value),t=r.children.map(o=>hr(i,o));return new Ht(n,t)}}function xg(i,r,e){return r.children.map(n=>{for(let t of e.children)if(i.shouldReuseRoute(n.value,t.value.snapshot))return hr(i,n,t);return hr(i,n)})}function Sg(i){return new dt(new Bt(i.url),new Bt(i.params),new Bt(i.queryParams),new Bt(i.fragment),new Bt(i.data),i.outlet,i.component,i)}var S0="ngNavigationCancelingError";function w0(i,r){let{redirectTo:e,navigationBehaviorOptions:n}=pn(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,t=E0(!1,Wt.Redirect);return t.url=e,t.navigationBehaviorOptions=n,t}function E0(i,r){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[S0]=!0,e.cancellationCode=r,e}function wg(i){return M0(i)&&pn(i.url)}function M0(i){return!!i&&i[S0]}var Eg=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["ng-component"]],standalone:!0,features:[ri],decls:1,vars:0,template:function(n,t){n&1&&h(0,"router-outlet")},dependencies:[Cl],encapsulation:2})}}return i})();function Mg(i,r){return i.providers&&!i._injector&&(i._injector=us(i.providers,r,`Route: ${i.path}`)),i._injector??r}function xl(i){let r=i.children&&i.children.map(xl),e=r?De(q({},i),{children:r}):q({},i);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Ee&&(e.component=Eg),e}function di(i){return i.outlet||Ee}function Dg(i,r){let e=i.filter(n=>di(n)===r);return e.push(...i.filter(n=>di(n)!==r)),e}function vr(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let r=i.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Tg=(i,r,e,n)=>we(t=>(new hl(r,t.targetRouterState,t.currentRouterState,e,n).activate(i),t)),hl=class{constructor(r,e,n,t,o){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=t,this.inputBindingEnabled=o}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),Gs(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let t=dn(e);r.children.forEach(o=>{let l=o.value.outlet;this.deactivateRoutes(o,t[l],n),delete t[l]}),Object.values(t).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(r,e,n){let t=r.value,o=e?e.value:null;if(t===o)if(t.component){let l=n.getContext(t.outlet);l&&this.deactivateChildRoutes(r,e,l.children)}else this.deactivateChildRoutes(r,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),t=n&&r.value.component?n.children:e,o=dn(r);for(let l of Object.values(o))this.deactivateRouteAndItsChildren(l,t);if(n&&n.outlet){let l=n.outlet.detach(),d=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:l,route:r,contexts:d})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),t=n&&r.value.component?n.children:e,o=dn(r);for(let l of Object.values(o))this.deactivateRouteAndItsChildren(l,t);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let t=dn(e);r.children.forEach(o=>{this.activateRoutes(o,t[o.value.outlet],n),this.forwardEvent(new sl(o.value.snapshot))}),r.children.length&&this.forwardEvent(new ol(r.value.snapshot))}activateRoutes(r,e,n){let t=r.value,o=e?e.value:null;if(Gs(t),t===o)if(t.component){let l=n.getOrCreateContext(t.outlet);this.activateChildRoutes(r,e,l.children)}else this.activateChildRoutes(r,e,n);else if(t.component){let l=n.getOrCreateContext(t.outlet);if(this.routeReuseStrategy.shouldAttach(t.snapshot)){let d=this.routeReuseStrategy.retrieve(t.snapshot);this.routeReuseStrategy.store(t.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),Gs(d.route.value),this.activateChildRoutes(r,null,l.children)}else{let d=vr(t.snapshot);l.attachRef=null,l.route=t,l.injector=d,l.outlet&&l.outlet.activateWith(t,l.injector),this.activateChildRoutes(r,null,l.children)}}else this.activateChildRoutes(r,null,n)}},ko=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},mn=class{constructor(r,e){this.component=r,this.route=e}};function Ag(i,r,e){let n=i._root,t=r?r._root:null;return ir(n,t,e,[n.value])}function Ig(i){let r=i.routeConfig?i.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:i,guards:r}}function _n(i,r){let e=Symbol(),n=r.get(i,e);return n===e?typeof i=="function"&&!Zc(i)?i:r.get(i):n}function ir(i,r,e,n,t={canDeactivateChecks:[],canActivateChecks:[]}){let o=dn(r);return i.children.forEach(l=>{kg(l,o[l.value.outlet],e,n.concat([l.value]),t),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,d])=>ar(d,e.getContext(l),t)),t}function kg(i,r,e,n,t={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,l=r?r.value:null,d=e?e.getContext(i.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){let m=Pg(l,o,o.routeConfig.runGuardsAndResolvers);m?t.canActivateChecks.push(new ko(n)):(o.data=l.data,o._resolvedData=l._resolvedData),o.component?ir(i,r,d?d.children:null,n,t):ir(i,r,e,n,t),m&&d&&d.outlet&&d.outlet.isActivated&&t.canDeactivateChecks.push(new mn(d.outlet.component,l))}else l&&ar(r,d,t),t.canActivateChecks.push(new ko(n)),o.component?ir(i,null,d?d.children:null,n,t):ir(i,null,e,n,t);return t}function Pg(i,r,e){if(typeof e=="function")return e(i,r);switch(e){case"pathParamsChange":return!qi(i.url,r.url);case"pathParamsOrQueryParamsChange":return!qi(i.url,r.url)||!li(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ul(i,r)||!li(i.queryParams,r.queryParams);case"paramsChange":default:return!ul(i,r)}}function ar(i,r,e){let n=dn(i),t=i.value;Object.entries(n).forEach(([o,l])=>{t.component?r?ar(l,r.children.getContext(o),e):ar(l,null,e):ar(l,r,e)}),t.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new mn(r.outlet.component,t)):e.canDeactivateChecks.push(new mn(null,t)):e.canDeactivateChecks.push(new mn(null,t))}function br(i){return typeof i=="function"}function Fg(i){return typeof i=="boolean"}function Og(i){return i&&br(i.canLoad)}function Ng(i){return i&&br(i.canActivate)}function Bg(i){return i&&br(i.canActivateChild)}function Rg(i){return i&&br(i.canDeactivate)}function Vg(i){return i&&br(i.canMatch)}function D0(i){return i instanceof Wc||i?.name==="EmptyError"}var bo=Symbol("INITIAL_VALUE");function gn(){return et(i=>Wi(i.map(r=>r.pipe(Vt(1),Rn(bo)))).pipe(we(r=>{for(let e of r)if(e!==!0){if(e===bo)return bo;if(e===!1||e instanceof Pi)return e}return!0}),kt(r=>r!==bo),Vt(1)))}function Lg(i,r){return It(e=>{let{targetSnapshot:n,currentSnapshot:t,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return l.length===0&&o.length===0?ae(De(q({},e),{guardsResult:!0})):Ug(l,n,t,i).pipe(It(d=>d&&Fg(d)?jg(n,o,i,r):ae(d)),we(d=>De(q({},e),{guardsResult:d})))})}function Ug(i,r,e,n){return Ct(i).pipe(It(t=>qg(t.component,t.route,e,r,n)),Ei(t=>t!==!0,!0))}function jg(i,r,e,n){return Ct(r).pipe(Si(t=>Jr(Wg(t.route.parent,n),Hg(t.route,n),Gg(i,t.path,e),zg(i,t.route,e))),Ei(t=>t!==!0,!0))}function Hg(i,r){return i!==null&&r&&r(new al(i)),ae(!0)}function Wg(i,r){return i!==null&&r&&r(new rl(i)),ae(!0)}function zg(i,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return ae(!0);let t=n.map(o=>Za(()=>{let l=vr(r)??e,d=_n(o,l),m=Ng(d)?d.canActivate(r,i):ti(l,()=>d(r,i));return Ni(m).pipe(Ei())}));return ae(t).pipe(gn())}function Gg(i,r,e){let n=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(l=>Ig(l)).filter(l=>l!==null).map(l=>Za(()=>{let d=l.guards.map(m=>{let v=vr(l.node)??e,p=_n(m,v),y=Bg(p)?p.canActivateChild(n,i):ti(v,()=>p(n,i));return Ni(y).pipe(Ei())});return ae(d).pipe(gn())}));return ae(o).pipe(gn())}function qg(i,r,e,n,t){let o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let l=o.map(d=>{let m=vr(r)??t,v=_n(d,m),p=Rg(v)?v.canDeactivate(i,r,e,n):ti(m,()=>v(i,r,e,n));return Ni(p).pipe(Ei())});return ae(l).pipe(gn())}function $g(i,r,e,n){let t=r.canLoad;if(t===void 0||t.length===0)return ae(!0);let o=t.map(l=>{let d=_n(l,i),m=Og(d)?d.canLoad(r,e):ti(i,()=>d(r,e));return Ni(m)});return ae(o).pipe(gn(),T0(n))}function T0(i){return jc(ht(r=>{if(pn(r))throw w0(i,r)}),we(r=>r===!0))}function Jg(i,r,e,n){let t=r.canMatch;if(!t||t.length===0)return ae(!0);let o=t.map(l=>{let d=_n(l,i),m=Vg(d)?d.canMatch(r,e):ti(i,()=>d(r,e));return Ni(m)});return ae(o).pipe(gn(),T0(n))}var pr=class{constructor(r){this.segmentGroup=r||null}},Po=class extends Error{constructor(r){super(),this.urlTree=r}};function cn(i){return mi(new pr(i))}function Qg(i){return mi(new Le(4e3,!1))}function Kg(i){return mi(E0(!1,Wt.GuardRejected))}var pl=class{constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let n=[],t=e.root;for(;;){if(n=n.concat(t.segments),t.numberOfChildren===0)return ae(n);if(t.numberOfChildren>1||!t.children[Ee])return Qg(r.redirectTo);t=t.children[Ee]}}applyRedirectCommands(r,e,n){let t=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,n);if(e.startsWith("/"))throw new Po(t);return t}applyRedirectCreateUrlTree(r,e,n,t){let o=this.createSegmentGroup(r,e.root,n,t);return new Pi(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([t,o])=>{if(typeof o=="string"&&o.startsWith(":")){let d=o.substring(1);n[t]=e[d]}else n[t]=o}),n}createSegmentGroup(r,e,n,t){let o=this.createSegments(r,e.segments,n,t),l={};return Object.entries(e.children).forEach(([d,m])=>{l[d]=this.createSegmentGroup(r,m,n,t)}),new Ue(o,l)}createSegments(r,e,n,t){return e.map(o=>o.path.startsWith(":")?this.findPosParam(r,o,t):this.findOrReturn(o,n))}findPosParam(r,e,n){let t=n[e.path.substring(1)];if(!t)throw new Le(4001,!1);return t}findOrReturn(r,e){let n=0;for(let t of e){if(t.path===r.path)return e.splice(n),t;n++}return r}},fl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zg(i,r,e,n,t){let o=Sl(i,r,e);return o.matched?(n=Mg(r,n),Jg(n,r,e,t).pipe(we(l=>l===!0?o:q({},fl)))):ae(o)}function Sl(i,r,e){if(r.path==="**")return Yg(e);if(r.path==="")return r.pathMatch==="full"&&(i.hasChildren()||e.length>0)?q({},fl):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let t=(r.matcher||Jf)(e,i,r);if(!t)return q({},fl);let o={};Object.entries(t.posParams??{}).forEach(([d,m])=>{o[d]=m.path});let l=t.consumed.length>0?q(q({},o),t.consumed[t.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:t.consumed,remainingSegments:e.slice(t.consumed.length),parameters:l,positionalParamSegments:t.posParams??{}}}function Yg(i){return{matched:!0,parameters:i.length>0?s0(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function n0(i,r,e,n){return e.length>0&&t1(i,e,n)?{segmentGroup:new Ue(r,e1(n,new Ue(e,i.children))),slicedSegments:[]}:e.length===0&&i1(i,e,n)?{segmentGroup:new Ue(i.segments,Xg(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Ue(i.segments,i.children),slicedSegments:e}}function Xg(i,r,e,n){let t={};for(let o of e)if(Bo(i,r,o)&&!n[di(o)]){let l=new Ue([],{});t[di(o)]=l}return q(q({},n),t)}function e1(i,r){let e={};e[Ee]=r;for(let n of i)if(n.path===""&&di(n)!==Ee){let t=new Ue([],{});e[di(n)]=t}return e}function t1(i,r,e){return e.some(n=>Bo(i,r,n)&&di(n)!==Ee)}function i1(i,r,e){return e.some(n=>Bo(i,r,n))}function Bo(i,r,e){return(i.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function n1(i,r,e,n){return di(i)!==n&&(n===Ee||!Bo(r,e,i))?!1:Sl(r,i,e).matched}function r1(i,r,e){return r.length===0&&!i.children[e]}var gl=class{};function o1(i,r,e,n,t,o,l="emptyOnly"){return new _l(i,r,e,n,t,l,o).recognize()}var a1=31,_l=class{constructor(r,e,n,t,o,l,d){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=t,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=d,this.applyRedirects=new pl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new Le(4002,`'${r.segmentGroup}'`)}recognize(){let r=n0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(we(e=>{let n=new mr([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ee,this.rootComponentType,null,{}),t=new Ht(n,e),o=new Io("",t),l=hg(n,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root,null),{state:o,tree:l}}))}match(r){return this.processSegmentGroup(this.injector,this.config,r,Ee).pipe(xt(n=>{if(n instanceof Po)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof pr?this.noMatchError(n):n}))}inheritParamsAndData(r,e){let n=r.value,t=bl(n,e,this.paramsInheritanceStrategy);n.params=Object.freeze(t.params),n.data=Object.freeze(t.data),r.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(r,e,n,t){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n):this.processSegment(r,e,n,n.segments,t,!0).pipe(we(o=>o instanceof Ht?[o]:[]))}processChildren(r,e,n){let t=[];for(let o of Object.keys(n.children))o==="primary"?t.unshift(o):t.push(o);return Ct(t).pipe(Si(o=>{let l=n.children[o],d=Dg(e,o);return this.processSegmentGroup(r,d,l,o)}),Kc((o,l)=>(o.push(...l),o)),Ya(null),Qc(),It(o=>{if(o===null)return cn(n);let l=A0(o);return s1(l),ae(l)}))}processSegment(r,e,n,t,o,l){return Ct(e).pipe(Si(d=>this.processSegmentAgainstRoute(d._injector??r,e,d,n,t,o,l).pipe(xt(m=>{if(m instanceof pr)return ae(null);throw m}))),Ei(d=>!!d),xt(d=>{if(D0(d))return r1(n,t,o)?ae(new gl):cn(n);throw d}))}processSegmentAgainstRoute(r,e,n,t,o,l,d){return n1(n,t,o,l)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,t,n,o,l):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(r,t,e,n,o,l):cn(t):cn(t)}expandSegmentAgainstRouteUsingRedirect(r,e,n,t,o,l){let{matched:d,consumedSegments:m,positionalParamSegments:v,remainingSegments:p}=Sl(e,t,o);if(!d)return cn(e);t.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>a1&&(this.allowRedirects=!1));let y=this.applyRedirects.applyRedirectCommands(m,t.redirectTo,v);return this.applyRedirects.lineralizeSegments(t,y).pipe(It(C=>this.processSegment(r,n,e,C.concat(p),l,!1)))}matchSegmentAgainstRoute(r,e,n,t,o){let l=Zg(e,n,t,r,this.urlSerializer);return n.path==="**"&&(e.children={}),l.pipe(et(d=>d.matched?(r=n._injector??r,this.getChildConfig(r,n,t).pipe(et(({routes:m})=>{let v=n._loadedInjector??r,{consumedSegments:p,remainingSegments:y,parameters:C}=d,E=new mr(p,C,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,c1(n),di(n),n.component??n._loadedComponent??null,n,d1(n)),{segmentGroup:I,slicedSegments:k}=n0(e,p,y,m);if(k.length===0&&I.hasChildren())return this.processChildren(v,m,I).pipe(we(S=>S===null?null:new Ht(E,S)));if(m.length===0&&k.length===0)return ae(new Ht(E,[]));let P=di(n)===o;return this.processSegment(v,m,I,k,P?Ee:o,!0).pipe(we(S=>new Ht(E,S instanceof Ht?[S]:[])))}))):cn(e)))}getChildConfig(r,e,n){return e.children?ae({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?ae({routes:e._loadedRoutes,injector:e._loadedInjector}):$g(r,e,n,this.urlSerializer).pipe(It(t=>t?this.configLoader.loadChildren(r,e).pipe(ht(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Kg(e))):ae({routes:[],injector:r})}};function s1(i){i.sort((r,e)=>r.value.outlet===Ee?-1:e.value.outlet===Ee?1:r.value.outlet.localeCompare(e.value.outlet))}function l1(i){let r=i.value.routeConfig;return r&&r.path===""}function A0(i){let r=[],e=new Set;for(let n of i){if(!l1(n)){r.push(n);continue}let t=r.find(o=>n.value.routeConfig===o.value.routeConfig);t!==void 0?(t.children.push(...n.children),e.add(t)):r.push(n)}for(let n of e){let t=A0(n.children);r.push(new Ht(n.value,t))}return r.filter(n=>!e.has(n))}function c1(i){return i.data||{}}function d1(i){return i.resolve||{}}function u1(i,r,e,n,t,o){return It(l=>o1(i,r,e,n,l.extractedUrl,t,o).pipe(we(({state:d,tree:m})=>De(q({},l),{targetSnapshot:d,urlAfterRedirects:m}))))}function m1(i,r){return It(e=>{let{targetSnapshot:n,guards:{canActivateChecks:t}}=e;if(!t.length)return ae(e);let o=new Set(t.map(m=>m.route)),l=new Set;for(let m of o)if(!l.has(m))for(let v of I0(m))l.add(v);let d=0;return Ct(l).pipe(Si(m=>o.has(m)?h1(m,n,i,r):(m.data=bl(m,m.parent,i).resolve,ae(void 0))),ht(()=>d++),Xa(1),It(m=>d===l.size?ae(e):ei))})}function I0(i){let r=i.children.map(e=>I0(e)).flat();return[i,...r]}function h1(i,r,e,n){let t=i.routeConfig,o=i._resolve;return t?.title!==void 0&&!x0(t)&&(o[fr]=t.title),p1(o,i,r,n).pipe(we(l=>(i._resolvedData=l,i.data=bl(i,i.parent,e).resolve,null)))}function p1(i,r,e,n){let t=Js(i);if(t.length===0)return ae({});let o={};return Ct(t).pipe(It(l=>f1(i[l],r,e,n).pipe(Ei(),ht(d=>{o[l]=d}))),Xa(1),$c(o),xt(l=>D0(l)?ei:mi(l)))}function f1(i,r,e,n){let t=vr(r)??n,o=_n(i,t),l=o.resolve?o.resolve(r,e):ti(t,()=>o(r,e));return Ni(l)}function qs(i){return et(r=>{let e=i(r);return e?Ct(e).pipe(we(()=>r)):ae(r)})}var k0=(()=>{class i{buildTitle(e){let n,t=e.root;for(;t!==void 0;)n=this.getResolvedTitleForRoute(t)??n,t=t.children.find(o=>o.outlet===Ee);return n}getResolvedTitleForRoute(e){return e.data[fr]}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>ee(g1),providedIn:"root"})}}return i})(),g1=(()=>{class i extends k0{constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||i)(L(Zd))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),yr=new Ae("",{providedIn:"root",factory:()=>({})}),Fo=new Ae(""),wl=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ee(ro)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ae(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Ni(e.loadComponent()).pipe(we(P0),ht(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),wi(()=>{this.componentLoaders.delete(e)})),t=new Qa(n,()=>new Te).pipe(Ja());return this.componentLoaders.set(e,t),t}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ae({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=_1(n,this.compiler,e,this.onLoadEndListener).pipe(wi(()=>{this.childrenLoaders.delete(n)})),l=new Qa(o,()=>new Te).pipe(Ja());return this.childrenLoaders.set(n,l),l}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function _1(i,r,e,n){return Ni(i.loadChildren()).pipe(we(P0),It(t=>t instanceof hd||Array.isArray(t)?ae(t):Ct(r.compileModuleAsync(t))),we(t=>{n&&n(i);let o,l,d=!1;return Array.isArray(t)?(l=t,d=!0):(o=t.create(e).injector,l=o.get(Fo,[],{optional:!0,self:!0}).flat()),{routes:l.map(xl),injector:o}}))}function v1(i){return i&&typeof i=="object"&&"default"in i}function P0(i){return v1(i)?i.default:i}var El=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>ee(b1),providedIn:"root"})}}return i})(),b1=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),F0=new Ae(""),O0=new Ae("");function y1(i,r,e){let n=i.get(O0),t=i.get(Ze);return i.get(Re).runOutsideAngular(()=>{if(!t.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(v=>setTimeout(v));let o,l=new Promise(v=>{o=v}),d=t.startViewTransition(()=>(o(),C1(i))),{onViewTransitionCreated:m}=n;return m&&ti(i,()=>m({transition:d,from:r,to:e})),l})}function C1(i){return new Promise(r=>{cs(r,{injector:i})})}var Ml=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=ee(wl),this.environmentInjector=ee(Yt),this.urlSerializer=ee(gr),this.rootContexts=ee(_r),this.location=ee(Gn),this.inputBindingEnabled=ee(No,{optional:!0})!==null,this.titleStrategy=ee(k0),this.options=ee(yr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ee(El),this.createViewTransition=ee(F0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let e=t=>this.events.next(new il(t)),n=t=>this.events.next(new nl(t));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(De(q(q({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,t){return this.transitions=new Bt({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:or,restoredState:null,currentSnapshot:t.snapshot,targetSnapshot:null,currentRouterState:t,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kt(o=>o.id!==0),we(o=>De(q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),et(o=>{let l=!1,d=!1;return ae(o).pipe(et(m=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),ei;this.currentTransition=o,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?De(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let v=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=m.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!v&&p!=="reload"){let y="";return this.events.next(new Oi(m.id,this.urlSerializer.serialize(m.rawUrl),y,Eo.IgnoredSameUrlNavigation)),m.resolve(null),ei}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return ae(m).pipe(et(y=>{let C=this.transitions?.getValue();return this.events.next(new fn(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),C!==this.transitions?.getValue()?ei:Promise.resolve(y)}),u1(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ht(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=De(q({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let C=new Mo(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}));if(v&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:y,extractedUrl:C,source:E,restoredState:I,extras:k}=m,P=new fn(y,this.urlSerializer.serialize(C),E,I);this.events.next(P);let S=y0(this.rootComponentType).snapshot;return this.currentTransition=o=De(q({},m),{targetSnapshot:S,urlAfterRedirects:C,extras:De(q({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,ae(o)}else{let y="";return this.events.next(new Oi(m.id,this.urlSerializer.serialize(m.extractedUrl),y,Eo.IgnoredByUrlHandlingStrategy)),m.resolve(null),ei}}),ht(m=>{let v=new Ys(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),we(m=>(this.currentTransition=o=De(q({},m),{guards:Ag(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),o)),Lg(this.environmentInjector,m=>this.events.next(m)),ht(m=>{if(o.guardsResult=m.guardsResult,pn(m.guardsResult))throw w0(this.urlSerializer,m.guardsResult);let v=new Xs(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(v)}),kt(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",Wt.GuardRejected),!1)),qs(m=>{if(m.guards.canActivateChecks.length)return ae(m).pipe(ht(v=>{let p=new el(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(p)}),et(v=>{let p=!1;return ae(v).pipe(m1(this.paramsInheritanceStrategy,this.environmentInjector),ht({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(v,"",Wt.NoDataFromResolver)}}))}),ht(v=>{let p=new tl(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(p)}))}),qs(m=>{let v=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(ht(C=>{p.component=C}),we(()=>{})));for(let C of p.children)y.push(...v(C));return y};return Wi(v(m.targetSnapshot.root)).pipe(Ya(null),Vt(1))}),qs(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:m,targetSnapshot:v}=o,p=this.createViewTransition?.(this.environmentInjector,m.root,v.root);return p?Ct(p).pipe(we(()=>o)):ae(o)}),we(m=>{let v=Cg(e.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=o=De(q({},m),{targetRouterState:v}),this.currentNavigation.targetRouterState=v,o}),ht(()=>{this.events.next(new dr)}),Tg(this.rootContexts,e.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Vt(1),ht({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),St(this.transitionAbortSubject.pipe(ht(m=>{throw m}))),wi(()=>{!l&&!d&&this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xt(m=>{if(d=!0,M0(m))this.events.next(new Fi(o.id,this.urlSerializer.serialize(o.extractedUrl),m.message,m.cancellationCode)),wg(m)?this.events.next(new ur(m.url)):o.resolve(!1);else{this.events.next(new cr(o.id,this.urlSerializer.serialize(o.extractedUrl),m,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(m))}catch(v){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(v)}}return ei}))}))}cancelNavigationTransition(e,n,t){let o=new Fi(e.id,this.urlSerializer.serialize(e.extractedUrl),n,t);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function x1(i){return i!==or}var S1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>ee(w1),providedIn:"root"})}}return i})(),vl=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},w1=(()=>{class i extends vl{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),N0=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>ee(E1),providedIn:"root"})}}return i})(),E1=(()=>{class i extends N0{constructor(){super(...arguments),this.location=ee(Gn),this.urlSerializer=ee(gr),this.options=ee(yr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ee(El),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=y0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof fn)this.stateMemento=this.createStateMemento();else if(e instanceof Oi)this.rawUrlTree=n.initialUrl;else if(e instanceof Mo){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let t=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(t,n)}}else e instanceof dr?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):e instanceof Fi&&(e.code===Wt.GuardRejected||e.code===Wt.NoDataFromResolver)?this.restoreHistory(n):e instanceof cr?this.restoreHistory(n,!0):e instanceof ci&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let t=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(t)||n.extras.replaceUrl){let o=this.browserPageId,l=q(q({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(t,"",l)}else{let o=q(q({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(t,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let t=this.browserPageId,o=this.currentPageId-t;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),nr=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(nr||{});function B0(i,r){i.events.pipe(kt(e=>e instanceof ci||e instanceof Fi||e instanceof cr||e instanceof Oi),we(e=>e instanceof ci||e instanceof Oi?nr.COMPLETE:(e instanceof Fi?e.code===Wt.Redirect||e.code===Wt.SupersededByNewNavigation:!1)?nr.REDIRECTING:nr.FAILED),kt(e=>e!==nr.REDIRECTING),Vt(1)).subscribe(()=>{r()})}function M1(i){throw i}var D1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ee(eo),this.stateManager=ee(N0),this.options=ee(yr,{optional:!0})||{},this.pendingTasks=ee(Wn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ee(Ml),this.urlSerializer=ee(gr),this.location=ee(Gn),this.urlHandlingStrategy=ee(El),this._events=new Te,this.errorHandler=this.options.errorHandler||M1,this.navigated=!1,this.routeReuseStrategy=ee(S1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ee(Fo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ee(No,{optional:!0}),this.eventsSubscription=new Uc,this.isNgZoneEnabled=ee(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let t=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(t!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Fi&&n.code!==Wt.Redirect&&n.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ci)this.navigated=!0;else if(n instanceof ur){let l=this.urlHandlingStrategy.merge(n.url,t.currentRawUrl),d={info:t.extras.info,skipLocationChange:t.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||x1(t.source)};this.scheduleNavigation(l,or,null,d,{resolve:t.resolve,reject:t.reject,promise:t.promise})}}I1(n)&&this._events.next(n)}catch(t){this.navigationTransitions.transitionAbortSubject.next(t)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),or,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,t){let o={replaceUrl:!0},l=t?.navigationId?t:null;if(t){let m=q({},t);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(o.state=m)}let d=this.parseUrl(e);this.scheduleNavigation(d,n,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(xl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:t,queryParams:o,fragment:l,queryParamsHandling:d,preserveFragment:m}=n,v=m?this.currentUrlTree.fragment:l,p=null;switch(d){case"merge":p=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let C=t?t.snapshot:this.routerState.snapshot.root;y=g0(C)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),y=this.currentUrlTree.root}return _0(y,e,p,v??null)}navigateByUrl(e,n={skipLocationChange:!1}){let t=pn(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(t,this.rawUrlTree);return this.scheduleNavigation(o,or,null,n)}navigate(e,n={skipLocationChange:!1}){return A1(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let t;if(n===!0?t=q({},D1):n===!1?t=q({},T1):t=n,pn(e))return Yd(this.currentUrlTree,e,t);let o=this.parseUrl(e);return Yd(this.currentUrlTree,o,t)}removeEmptyProps(e){return Object.entries(e).reduce((n,[t,o])=>(o!=null&&(n[t]=o),n),{})}scheduleNavigation(e,n,t,o,l){if(this.disposed)return Promise.resolve(!1);let d,m,v;l?(d=l.resolve,m=l.reject,v=l.promise):v=new Promise((y,C)=>{d=y,m=C});let p=this.pendingTasks.add();return B0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:t,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:d,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(y=>Promise.reject(y))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function A1(i){for(let r=0;r<i.length;r++)if(i[r]==null)throw new Le(4008,!1)}function I1(i){return!(i instanceof dr)&&!(i instanceof ur)}var lt=(()=>{class i{constructor(e,n,t,o,l,d){this.router=e,this.route=n,this.tabIndexAttribute=t,this.renderer=o,this.el=l,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new Te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=e.events.subscribe(v=>{v instanceof ci&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e!=null?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,t,o,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(e!==0||n||t||o||l||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,m),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:cd(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let t=this.renderer,o=this.el.nativeElement;n!==null?t.setAttribute(o,e,n):t.removeAttribute(o,e)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(n){return new(n||i)(B(qe),B(dt),rs("tabindex"),B(Ti),B(gt),B(zn))}}static{this.\u0275dir=Be({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,t){n&1&&f("click",function(l){return t.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),n&2&&vt("target",t.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ft.HasDecoratorInputTransform,"preserveFragment","preserveFragment",si],skipLocationChange:[ft.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",si],replaceUrl:[ft.HasDecoratorInputTransform,"replaceUrl","replaceUrl",si],routerLink:"routerLink"},standalone:!0,features:[on,ii]})}}return i})();var Oo=class{};var k1=(()=>{class i{constructor(e,n,t,o,l){this.router=e,this.injector=t,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(kt(e=>e instanceof ci),Si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let t=[];for(let o of n){o.providers&&!o._injector&&(o._injector=us(o.providers,e,`Route: ${o.path}`));let l=o._injector??e,d=o._loadedInjector??l;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&t.push(this.preloadConfig(l,o)),(o.children||o._loadedRoutes)&&t.push(this.processRoutes(d,o.children??o._loadedRoutes))}return Ct(t).pipe(Ka())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let t;n.loadChildren&&n.canLoad===void 0?t=this.loader.loadChildren(e,n):t=ae(null);let o=t.pipe(It(l=>l===null?ae(void 0):(n._loadedRoutes=l.routes,n._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(n.loadComponent&&!n._loadedComponent){let l=this.loader.loadComponent(n);return Ct([o,l]).pipe(Ka())}else return o})}static{this.\u0275fac=function(n){return new(n||i)(L(qe),L(ro),L(Yt),L(Oo),L(wl))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),R0=new Ae(""),P1=(()=>{class i{constructor(e,n,t,o,l={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=t,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=ee(Yt),l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ci?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Oi&&e.code===Eo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Do&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>Bn(this,null,function*(){yield new Promise(t=>{setTimeout(()=>{t()}),cs(()=>{t()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Do(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){Kr()}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();function F1(i){return i.routerState.root}function Cr(i,r){return{\u0275kind:i,\u0275providers:r}}function O1(){let i=ee($t);return r=>{let e=i.get(oi);if(r!==e.components[0])return;let n=i.get(qe),t=i.get(V0);i.get(Dl)===1&&n.initialNavigation(),i.get(L0,null,is.Optional)?.setUpPreloading(),i.get(R0,null,is.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),t.closed||(t.next(),t.complete(),t.unsubscribe())}}var V0=new Ae("",{factory:()=>new Te}),Dl=new Ae("",{providedIn:"root",factory:()=>1});function N1(){return Cr(2,[{provide:Dl,useValue:0},{provide:_s,multi:!0,deps:[$t],useFactory:r=>{let e=r.get(xd,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let t=r.get(qe),o=r.get(V0);B0(t,()=>{n(!0)}),r.get(Ml).afterPreactivation=()=>(n(!0),o.closed?ae(void 0):o),t.initialNavigation()}))}}])}function B1(){return Cr(3,[{provide:_s,multi:!0,useFactory:()=>{let r=ee(qe);return()=>{r.setUpLocationChangeListener()}}},{provide:Dl,useValue:2}])}var L0=new Ae("");function R1(i){return Cr(0,[{provide:L0,useExisting:k1},{provide:Oo,useExisting:i}])}function V1(){return Cr(8,[i0,{provide:No,useExisting:i0}])}function L1(i){let r=[{provide:F0,useValue:y1},{provide:O0,useValue:q({skipNextTransition:!!i?.skipInitialTransition},i)}];return Cr(9,r)}var r0=new Ae("ROUTER_FORROOT_GUARD"),U1=[Gn,{provide:gr,useClass:sr},qe,_r,{provide:dt,useFactory:F1,deps:[qe]},wl,[]],Tl=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[U1,[],{provide:Fo,multi:!0,useValue:e},{provide:r0,useFactory:z1,deps:[[qe,new ns,new Yc]]},{provide:yr,useValue:n||{}},n?.useHash?H1():W1(),j1(),n?.preloadingStrategy?R1(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?G1(n):[],n?.bindToComponentInputs?V1().\u0275providers:[],n?.enableViewTransitions?L1().\u0275providers:[],q1()]}}static forChild(e){return{ngModule:i,providers:[{provide:Fo,multi:!0,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||i)(L(r0,8))}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({})}}return i})();function j1(){return{provide:R0,useFactory:()=>{let i=ee(Dd),r=ee(Re),e=ee(yr),n=ee(Ml),t=ee(gr);return e.scrollOffset&&i.setOffset(e.scrollOffset),new P1(t,n,i,r,e)}}}function H1(){return{provide:zn,useClass:wd}}function W1(){return{provide:zn,useClass:Sd}}function z1(i){return"guarded"}function G1(i){return[i.initialNavigation==="disabled"?B1().\u0275providers:[],i.initialNavigation==="enabledBlocking"?N1().\u0275providers:[]]}var o0=new Ae("");function q1(){return[{provide:o0,useFactory:O1},{provide:vs,multi:!0,useExisting:o0}]}var le={production:!0,baseUrl:"https://apiadm.mispeluquerias.com",socketUrl:"https://api.mispeluquerias.com"};var U0=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllSalon(e,n,t,o="",l=!1){let d=localStorage.getItem("permiso")||"",m=localStorage.getItem("usuarioId")||"",v=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(v=v.set("search",t)),o&&(v=v.set("filterState",o)),v=v.set("filterActive",l.toString()),v=v.set("permiso",d),v=v.set("usuarioId",m),this.http.get(`${this.baseUrl}/home/getAllSalon`,{params:v})}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-aside`,{params:{permiso:e||""}})}deleteBusiness(e){return this.http.post(`${this.baseUrl}/home/deleteBusiness`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var j0=["toast-component",""];function J1(i,r){if(i&1){let e=z();s(0,"button",5),f("click",function(){g(e);let t=x();return _(t.remove())}),s(1,"span",6),c(2,"\xD7"),a()()}}function Q1(i,r){if(i&1&&(he(0),c(1),pe()),i&2){let e=x(2);u(),Y("[",e.duplicatesCount+1,"]")}}function K1(i,r){if(i&1&&(s(0,"div"),c(1),M(2,Q1,2,1,"ng-container",4),a()),i&2){let e=x();Lt(e.options.titleClass),vt("aria-label",e.title),u(),Y(" ",e.title," "),u(),b("ngIf",e.duplicatesCount)}}function Z1(i,r){if(i&1&&h(0,"div",7),i&2){let e=x();Lt(e.options.messageClass),b("innerHTML",e.message,ss)}}function Y1(i,r){if(i&1&&(s(0,"div",8),c(1),a()),i&2){let e=x();Lt(e.options.messageClass),vt("aria-label",e.message),u(),Y(" ",e.message," ")}}function X1(i,r){if(i&1&&(s(0,"div"),h(1,"div",9),a()),i&2){let e=x();u(),an("width",e.width()+"%")}}function e_(i,r){if(i&1){let e=z();s(0,"button",5),f("click",function(){g(e);let t=x();return _(t.remove())}),s(1,"span",6),c(2,"\xD7"),a()()}}function t_(i,r){if(i&1&&(he(0),c(1),pe()),i&2){let e=x(2);u(),Y("[",e.duplicatesCount+1,"]")}}function i_(i,r){if(i&1&&(s(0,"div"),c(1),M(2,t_,2,1,"ng-container",4),a()),i&2){let e=x();Lt(e.options.titleClass),vt("aria-label",e.title),u(),Y(" ",e.title," "),u(),b("ngIf",e.duplicatesCount)}}function n_(i,r){if(i&1&&h(0,"div",7),i&2){let e=x();Lt(e.options.messageClass),b("innerHTML",e.message,ss)}}function r_(i,r){if(i&1&&(s(0,"div",8),c(1),a()),i&2){let e=x();Lt(e.options.messageClass),vt("aria-label",e.message),u(),Y(" ",e.message," ")}}function o_(i,r){if(i&1&&(s(0,"div"),h(1,"div",9),a()),i&2){let e=x();u(),an("width",e.width()+"%")}}var Al=class{_attachedHost;component;viewContainerRef;injector;constructor(r,e){this.component=r,this.injector=e}attach(r,e){return this._attachedHost=r,r.attach(this,e)}detach(){let r=this._attachedHost;if(r)return this._attachedHost=void 0,r.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(r){this._attachedHost=r}},Il=class{_attachedPortal;_disposeFn;attach(r,e){return this._attachedPortal=r,this.attachComponentPortal(r,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(r){this._disposeFn=r}},kl=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Te;_activate=new Te;_manualClose=new Te;_resetTimeout=new Te;_countDuplicate=new Te;constructor(r){this._overlayRef=r}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(r,e){r&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},vn=class{toastId;config;message;title;toastType;toastRef;_onTap=new Te;_onAction=new Te;constructor(r,e,n,t,o,l){this.toastId=r,this.config=e,this.message=n,this.title=t,this.toastType=o,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(r){this._onAction.next(r)}onAction(){return this._onAction.asObservable()}},H0={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},W0=new Ae("ToastConfig"),Pl=class extends Il{_hostDomElement;_componentFactoryResolver;_appRef;constructor(r,e,n){super(),this._hostDomElement=r,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(r,e){let n=this._componentFactoryResolver.resolveComponentFactory(r.component),t;return t=n.create(r.injector),this._appRef.attachView(t.hostView),this.setDisposeFn(()=>{this._appRef.detachView(t.hostView),t.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(t),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(t)),t}_getComponentRootNode(r){return r.hostView.rootNodes[0]}},a_=(()=>{class i{_document=ee(Ze);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Fl=class{_portalHost;constructor(r){this._portalHost=r}attach(r,e=!0){return this._portalHost.attach(r,e)}detach(){return this._portalHost.detach()}},s_=(()=>{class i{_overlayContainer=ee(a_);_componentFactoryResolver=ee(md);_appRef=ee(oi);_document=ee(Ze);_paneElements=new Map;create(e,n){return this._createOverlayRef(this.getPaneElement(e,n))}getPaneElement(e="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[e]||(this._paneElements.get(n)[e]=this._createPaneElement(e,n)),this._paneElements.get(n)[e]}_createPaneElement(e,n){let t=this._document.createElement("div");return t.id="toast-container",t.classList.add(e),t.classList.add("toast-container"),n?n.getContainerElement().appendChild(t):this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalHost(e){return new Pl(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Fl(this._createPortalHost(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),xe=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,n,t,o,l){this.overlay=n,this._injector=t,this.sanitizer=o,this.ngZone=l,this.toastrConfig=q(q({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=q(q({},e.default.iconClasses),e.config.iconClasses))}show(e,n,t={},o=""){return this._preBuildNotification(o,e,n,this.applyConfig(t))}success(e,n,t={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,n,this.applyConfig(t))}error(e,n,t={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,n,this.applyConfig(t))}info(e,n,t={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,n,this.applyConfig(t))}warning(e,n,t={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,n,this.applyConfig(t))}clear(e){for(let n of this.toasts)if(e!==void 0){if(n.toastId===e){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(e){let n=this._findToast(e);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(e="",n="",t,o){let{includeTitleDuplicates:l}=this.toastrConfig;for(let d of this.toasts){let m=l&&d.title===e;if((!l||m)&&d.message===n)return d.toastRef.onDuplicate(t,o),d}return null}applyConfig(e={}){return q(q({},this.toastrConfig),e)}_findToast(e){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===e)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(e,n,t,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,n,t,o)):this._buildNotification(e,n,t,o)}_buildNotification(e,n,t,o){if(!o.toastComponent)throw new Error("toastComponent required");let l=this.findDuplicate(t,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&t||n)&&this.toastrConfig.preventDuplicates&&l!==null)return l;this.previousToastMessage=n;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let m=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let v=n;n&&o.enableHtml&&(v=this.sanitizer.sanitize(pi.HTML,n));let p=new kl(m),y=new vn(this.index,o,v,t,e,p),C=[{provide:vn,useValue:y}],E=$t.create({providers:C,parent:this._injector}),I=new Al(o.toastComponent,E),k=m.attach(I,o.newestOnTop);p.componentInstance=k.instance;let P={toastId:this.index,title:t||"",message:n||"",toastRef:p,onShown:p.afterActivate(),onHidden:p.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:k};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{P.toastRef.activate()})),this.toasts.push(P),P}static \u0275fac=function(n){return new(n||i)(L(W0),L(s_),L($t),L(js),L(Re))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),l_=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Hn(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,t){this.toastrService=e,this.toastPackage=n,this.ngZone=t,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=Hn({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>De(q({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(t=>100-t),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>De(q({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>De(q({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),n)):this.timeout=setTimeout(()=>e(),n)}outsideInterval(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),n)):this.intervalId=setInterval(()=>e(),n)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(n){return new(n||i)(B(xe),B(vn),B(Re))};static \u0275cmp=re({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,t){n&1&&f("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),n&2&&(pd("@flyInOut",t._state),Lt(t.toastClasses),an("display",t.displayStyle))},standalone:!0,features:[ri],attrs:j0,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,t){n&1&&M(0,J1,3,0,"button",0)(1,K1,3,5,"div",1)(2,Z1,1,3,"div",2)(3,Y1,2,4,"div",3)(4,X1,2,2,"div",4),n&2&&(b("ngIf",t.options.closeButton),u(),b("ngIf",t.title),u(),b("ngIf",t.message&&t.options.enableHtml),u(),b("ngIf",t.message&&!t.options.enableHtml),u(),b("ngIf",t.options.progressBar))},dependencies:[ce],encapsulation:2,data:{animation:[Td("flyInOut",[uo("inactive",co({opacity:0})),uo("active",co({opacity:1})),uo("removed",co({opacity:0})),Cs("inactive => active",ys("{{ easeTime }}ms {{ easing }}")),Cs("active => removed",ys("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return i})(),c_=De(q({},H0),{toastComponent:l_}),d_=(i={})=>Di([{provide:W0,useValue:{default:c_,config:i}}]),z0=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[d_(e)]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=We({type:i});static \u0275inj=He({})}return i})();var u_=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Hn(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Hn("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,t){this.toastrService=e,this.toastPackage=n,this.appRef=t,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(t=>100-t),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||i)(B(xe),B(vn),B(oi))};static \u0275cmp=re({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,t){n&1&&f("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),n&2&&(Lt(t.toastClasses),an("display",t.displayStyle))},standalone:!0,features:[ri],attrs:j0,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,t){n&1&&M(0,e_,3,0,"button",0)(1,i_,3,5,"div",1)(2,n_,1,3,"div",2)(3,r_,2,4,"div",3)(4,o_,2,2,"div",4),n&2&&(b("ngIf",t.options.closeButton),u(),b("ngIf",t.title),u(),b("ngIf",t.message&&t.options.enableHtml),u(),b("ngIf",t.message&&!t.options.enableHtml),u(),b("ngIf",t.options.progressBar))},dependencies:[ce],encapsulation:2,changeDetection:0})}return i})(),D2=De(q({},H0),{toastComponent:u_});var eu=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(B(Ti),B(gt))}}static{this.\u0275dir=Be({type:i})}}return i})(),Mr=(()=>{class i extends eu{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,features:[_t]})}}return i})(),Ji=new Ae(""),m_={provide:Ji,useExisting:Dt(()=>Ve),multi:!0},Ve=(()=>{class i extends Mr{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,t){n&1&&f("change",function(l){return t.onChange(l.target.checked)})("blur",function(){return t.onTouched()})},features:[Et([m_]),_t]})}}return i})(),h_={provide:Ji,useExisting:Dt(()=>me),multi:!0};function p_(){let i=zi()?zi().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var f_=new Ae(""),me=(()=>{class i extends eu{constructor(e,n,t){super(e,n),this._compositionMode=t,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!p_())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(B(Ti),B(gt),B(f_,8))}}static{this.\u0275dir=Be({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,t){n&1&&f("input",function(l){return t._handleInput(l.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(l){return t._compositionEnd(l.target.value)})},features:[Et([h_]),_t]})}}return i})();function Bi(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function tu(i){return i!=null&&typeof i.length=="number"}var Ri=new Ae(""),Go=new Ae(""),g_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yn=class{static min(r){return __(r)}static max(r){return v_(r)}static required(r){return iu(r)}static requiredTrue(r){return b_(r)}static email(r){return nu(r)}static minLength(r){return y_(r)}static maxLength(r){return ru(r)}static pattern(r){return ou(r)}static nullValidator(r){return Vo(r)}static compose(r){return uu(r)}static composeAsync(r){return mu(r)}};function __(i){return r=>{if(Bi(r.value)||Bi(i))return null;let e=parseFloat(r.value);return!isNaN(e)&&e<i?{min:{min:i,actual:r.value}}:null}}function v_(i){return r=>{if(Bi(r.value)||Bi(i))return null;let e=parseFloat(r.value);return!isNaN(e)&&e>i?{max:{max:i,actual:r.value}}:null}}function iu(i){return Bi(i.value)?{required:!0}:null}function b_(i){return i.value===!0?null:{required:!0}}function nu(i){return Bi(i.value)||g_.test(i.value)?null:{email:!0}}function y_(i){return r=>Bi(r.value)||!tu(r.value)?null:r.value.length<i?{minlength:{requiredLength:i,actualLength:r.value.length}}:null}function ru(i){return r=>tu(r.value)&&r.value.length>i?{maxlength:{requiredLength:i,actualLength:r.value.length}}:null}function ou(i){if(!i)return Vo;let r,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),r=new RegExp(e)):(e=i.toString(),r=i),n=>{if(Bi(n.value))return null;let t=n.value;return r.test(t)?null:{pattern:{requiredPattern:e,actualValue:t}}}}function Vo(i){return null}function au(i){return i!=null}function su(i){return no(i)?Ct(i):i}function lu(i){let r={};return i.forEach(e=>{r=e!=null?q(q({},r),e):r}),Object.keys(r).length===0?null:r}function cu(i,r){return r.map(e=>e(i))}function C_(i){return!i.validate}function du(i){return i.map(r=>C_(r)?r:e=>r.validate(e))}function uu(i){if(!i)return null;let r=i.filter(au);return r.length==0?null:function(e){return lu(cu(e,r))}}function Rl(i){return i!=null?uu(du(i)):null}function mu(i){if(!i)return null;let r=i.filter(au);return r.length==0?null:function(e){let n=cu(e,r).map(su);return zc(n).pipe(we(lu))}}function Vl(i){return i!=null?mu(du(i)):null}function G0(i,r){return i===null?[r]:Array.isArray(i)?[...i,r]:[i,r]}function hu(i){return i._rawValidators}function pu(i){return i._rawAsyncValidators}function Ol(i){return i?Array.isArray(i)?i:[i]:[]}function Lo(i,r){return Array.isArray(i)?i.includes(r):i===r}function q0(i,r){let e=Ol(r);return Ol(i).forEach(t=>{Lo(e,t)||e.push(t)}),e}function $0(i,r){return Ol(r).filter(e=>!Lo(i,e))}var Uo=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Rl(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Vl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,e){return this.control?this.control.hasError(r,e):!1}getError(r,e){return this.control?this.control.getError(r,e):null}},fi=class extends Uo{get formDirective(){return null}get path(){return null}},$i=class extends Uo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jo=class{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},x_={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},z2=De(q({},x_),{"[class.ng-submitted]":"isSubmitted"}),fe=(()=>{class i extends jo{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(B($i,2))}}static{this.\u0275dir=Be({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,t){n&2&&W("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)},features:[_t]})}}return i})(),$e=(()=>{class i extends jo{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(B(fi,10))}}static{this.\u0275dir=Be({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,t){n&2&&W("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)("ng-submitted",t.isSubmitted)},features:[_t]})}}return i})();var xr="VALID",Ro="INVALID",bn="PENDING",Sr="DISABLED";function Ll(i){return(qo(i)?i.validators:i)||null}function S_(i){return Array.isArray(i)?Rl(i):i||null}function Ul(i,r){return(qo(r)?r.asyncValidators:i)||null}function w_(i){return Array.isArray(i)?Vl(i):i||null}function qo(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function fu(i,r,e){let n=i.controls;if(!(r?Object.keys(n):n).length)throw new Le(1e3,"");if(!n[e])throw new Le(1001,"")}function gu(i,r,e){i._forEachChild((n,t)=>{if(e[t]===void 0)throw new Le(1002,"")})}var Cn=class{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===xr}get invalid(){return this.status===Ro}get pending(){return this.status==bn}get disabled(){return this.status===Sr}get enabled(){return this.status!==Sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(q0(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(q0(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators($0(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators($0(r,this._rawAsyncValidators))}hasValidator(r){return Lo(this._rawValidators,r)}hasAsyncValidator(r){return Lo(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=bn,r.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){let e=this._parentMarkedDirty(r.onlySelf);this.status=Sr,this.errors=null,this._forEachChild(n=>{n.disable(De(q({},r),{onlySelf:!0}))}),this._updateValue(),r.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(q({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!0))}enable(r={}){let e=this._parentMarkedDirty(r.onlySelf);this.status=xr,this._forEachChild(n=>{n.enable(De(q({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(De(q({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xr||this.status===bn)&&this._runAsyncValidator(r.emitEvent)),r.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sr:xr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=bn,this._hasOwnPendingAsyncValidator=!0;let e=su(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(e.emitEvent!==!1)}get(r){let e=r;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,t)=>n&&n._find(t),this)}getError(r,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?Sr:this.errors?Ro:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bn)?bn:this._anyControlsHaveStatus(Ro)?Ro:xr}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){qo(r)&&r.updateOn!=null&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){let e=this._parent&&this._parent.dirty;return!r&&!!e&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=S_(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=w_(this._rawAsyncValidators)}},xn=class extends Cn{constructor(r,e,n){super(Ll(e),Ul(n,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,n={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,n={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){gu(this,!0,r),Object.keys(r).forEach(n=>{fu(this,!0,n),this.controls[n].setValue(r[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){r!=null&&(Object.keys(r).forEach(n=>{let t=this.controls[n];t&&t.patchValue(r[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((n,t)=>{n.reset(r?r[t]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,n)=>(r[n]=e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&r(n,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&r(n))return!0;return!1}_reduceValue(){let r={};return this._reduceChildren(r,(e,n,t)=>((n.enabled||this.disabled)&&(e[t]=n.value),e))}_reduceChildren(r,e){let n=r;return this._forEachChild((t,o)=>{n=e(n,t,o)}),n}_allControlsDisabled(){for(let r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null}};var Nl=class extends xn{};var Dr=new Ae("CallSetDisabledState",{providedIn:"root",factory:()=>$o}),$o="always";function _u(i,r){return[...r.path,i]}function Ho(i,r,e=$o){jl(i,r),r.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&r.valueAccessor.setDisabledState?.(i.disabled),M_(i,r),T_(i,r),D_(i,r),E_(i,r)}function J0(i,r,e=!0){let n=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(n),r.valueAccessor.registerOnTouched(n)),zo(i,r),i&&(r._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Wo(i,r){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function E_(i,r){if(r.valueAccessor.setDisabledState){let e=n=>{r.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function jl(i,r){let e=hu(i);r.validator!==null?i.setValidators(G0(e,r.validator)):typeof e=="function"&&i.setValidators([e]);let n=pu(i);r.asyncValidator!==null?i.setAsyncValidators(G0(n,r.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let t=()=>i.updateValueAndValidity();Wo(r._rawValidators,t),Wo(r._rawAsyncValidators,t)}function zo(i,r){let e=!1;if(i!==null){if(r.validator!==null){let t=hu(i);if(Array.isArray(t)&&t.length>0){let o=t.filter(l=>l!==r.validator);o.length!==t.length&&(e=!0,i.setValidators(o))}}if(r.asyncValidator!==null){let t=pu(i);if(Array.isArray(t)&&t.length>0){let o=t.filter(l=>l!==r.asyncValidator);o.length!==t.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return Wo(r._rawValidators,n),Wo(r._rawAsyncValidators,n),e}function M_(i,r){r.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&vu(i,r)})}function D_(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&vu(i,r),i.updateOn!=="submit"&&i.markAsTouched()})}function vu(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function T_(i,r){let e=(n,t)=>{r.valueAccessor.writeValue(n),t&&r.viewToModelUpdate(n)};i.registerOnChange(e),r._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function bu(i,r){i==null,jl(i,r)}function A_(i,r){return zo(i,r)}function yu(i,r){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(r,e.currentValue)}function I_(i){return Object.getPrototypeOf(i.constructor)===Mr}function Cu(i,r){i._syncPendingControls(),r.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function xu(i,r){if(!r)return null;Array.isArray(r);let e,n,t;return r.forEach(o=>{o.constructor===me?e=o:I_(o)?n=o:t=o}),t||n||e||null}function k_(i,r){let e=i.indexOf(r);e>-1&&i.splice(e,1)}var P_={provide:fi,useExisting:Dt(()=>Ye)},wr=Promise.resolve(),Ye=(()=>{class i extends fi{constructor(e,n,t){super(),this.callSetDisabledState=t,this.submitted=!1,this._directives=new Set,this.ngSubmit=new wt,this.form=new xn({},Rl(e),Vl(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wr.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Ho(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wr.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){wr.then(()=>{let n=this._findContainer(e.path),t=new xn({});bu(t,e),n.registerControl(e.name,t),t.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wr.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){wr.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Cu(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(n){return new(n||i)(B(Ri,10),B(Go,10),B(Dr,8))}}static{this.\u0275dir=Be({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,t){n&1&&f("submit",function(l){return t.onSubmit(l)})("reset",function(){return t.onReset()})},inputs:{options:[ft.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Et([P_]),_t]})}}return i})();function Q0(i,r){let e=i.indexOf(r);e>-1&&i.splice(e,1)}function K0(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Er=class extends Cn{constructor(r=null,e,n){super(Ll(e),Ul(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qo(e)&&(e.nonNullable||e.initialValueIsDefault)&&(K0(r)?this.defaultValue=r.value:this.defaultValue=r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Q0(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Q0(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(r){K0(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}};var F_=i=>i instanceof Er;var O_={provide:$i,useExisting:Dt(()=>Ce)},Z0=Promise.resolve(),Ce=(()=>{class i extends $i{constructor(e,n,t,o,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new Er,this._registered=!1,this.name="",this.update=new wt,this._parent=e,this._setValidators(n),this._setAsyncValidators(t),this.valueAccessor=xu(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),yu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ho(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Z0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,t=n!==0&&si(n);Z0.then(()=>{t&&!this.control.disabled?this.control.disable():!t&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?_u(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(B(fi,9),B(Ri,10),B(Go,10),B(Ji,10),B(ai,8),B(Dr,8))}}static{this.\u0275dir=Be({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ft.None,"disabled","isDisabled"],model:[ft.None,"ngModel","model"],options:[ft.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Et([O_]),_t,ii]})}}return i})(),Je=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Be({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),N_={provide:Ji,useExisting:Dt(()=>Tr),multi:!0},Tr=(()=>{class i extends Mr{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,t){n&1&&f("input",function(l){return t.onChange(l.target.value)})("blur",function(){return t.onTouched()})},features:[Et([N_]),_t]})}}return i})();var Su=new Ae("");var B_={provide:fi,useExisting:Dt(()=>Hl)},Hl=(()=>{class i extends fi{constructor(e,n,t){super(),this.callSetDisabledState=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new wt,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return Ho(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){J0(e.control||null,e,!1),k_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,Cu(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,t=this.form.get(e.path);n!==t&&(J0(n||null,e),F_(t)&&(Ho(t,e,this.callSetDisabledState),e.control=t))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);bu(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&A_(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jl(this.form,this),this._oldForm&&zo(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(n){return new(n||i)(B(Ri,10),B(Go,10),B(Dr,8))}}static{this.\u0275dir=Be({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,t){n&1&&f("submit",function(l){return t.onSubmit(l)})("reset",function(){return t.onReset()})},inputs:{form:[ft.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Et([B_]),_t,ii]})}}return i})();var R_={provide:$i,useExisting:Dt(()=>Wl)},Wl=(()=>{class i extends $i{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,n,t,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new wt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(t),this.valueAccessor=xu(this,o)}ngOnChanges(e){this._added||this._setUpControl(),yu(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return _u(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||i)(B(fi,13),B(Ri,10),B(Go,10),B(Ji,10),B(Su,8))}}static{this.\u0275dir=Be({type:i,selectors:[["","formControlName",""]],inputs:{name:[ft.None,"formControlName","name"],isDisabled:[ft.None,"disabled","isDisabled"],model:[ft.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Et([R_]),_t,ii]})}}return i})(),V_={provide:Ji,useExisting:Dt(()=>je),multi:!0};function wu(i,r){return i==null?`${r}`:(r&&typeof r=="object"&&(r="Object"),`${i}: ${r}`.slice(0,50))}function L_(i){return i.split(":")[0]}var je=(()=>{class i extends Mr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),t=wu(n,e);this.setProperty("value",t)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=L_(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,t){n&1&&f("change",function(l){return t.onChange(l.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Et([V_]),_t]})}}return i})(),Qe=(()=>{class i{constructor(e,n,t){this._element=e,this._renderer=n,this._select=t,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(wu(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(B(gt),B(Ti),B(je,9))}}static{this.\u0275dir=Be({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),U_={provide:Ji,useExisting:Dt(()=>Eu),multi:!0};function Y0(i,r){return i==null?`${r}`:(typeof r=="string"&&(r=`'${r}'`),r&&typeof r=="object"&&(r="Object"),`${i}: ${r}`.slice(0,50))}function j_(i){return i.split(":")[0]}var Eu=(()=>{class i extends Mr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let t=e.map(o=>this._getOptionId(o));n=(o,l)=>{o._setSelected(t.indexOf(l.toString())>-1)}}else n=(t,o)=>{t._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let t=[],o=n.selectedOptions;if(o!==void 0){let l=o;for(let d=0;d<l.length;d++){let m=l[d],v=this._getOptionValue(m.value);t.push(v)}}else{let l=n.options;for(let d=0;d<l.length;d++){let m=l[d];if(m.selected){let v=this._getOptionValue(m.value);t.push(v)}}}this.value=t,e(t)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=j_(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,t){n&1&&f("change",function(l){return t.onChange(l.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Et([U_]),_t]})}}return i})(),Ke=(()=>{class i{constructor(e,n,t){this._element=e,this._renderer=n,this._select=t,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Y0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Y0(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(B(gt),B(Ti),B(Eu,9))}}static{this.\u0275dir=Be({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function H_(i){return typeof i=="number"?i:parseInt(i,10)}var Jo=(()=>{class i{constructor(){this._validator=Vo}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Vo,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Be({type:i,features:[ii]})}}return i})();var W_={provide:Ri,useExisting:Dt(()=>ut),multi:!0};var ut=(()=>{class i extends Jo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=si,this.createValidator=e=>iu}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,t){n&2&&vt("required",t._enabled?"":null)},inputs:{required:"required"},features:[Et([W_]),_t]})}}return i})();var z_={provide:Ri,useExisting:Dt(()=>Ar),multi:!0},Ar=(()=>{class i extends Jo{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=si,this.createValidator=e=>nu}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Et([z_]),_t]})}}return i})();var G_={provide:Ri,useExisting:Dt(()=>Ir),multi:!0},Ir=(()=>{class i extends Jo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>H_(e),this.createValidator=e=>ru(e)}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,t){n&2&&vt("maxlength",t._enabled?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Et([G_]),_t]})}}return i})(),q_={provide:Ri,useExisting:Dt(()=>gi),multi:!0},gi=(()=>{class i extends Jo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>ou(e)}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,t){n&2&&vt("pattern",t._enabled?t.pattern:null)},inputs:{pattern:"pattern"},features:[Et([q_]),_t]})}}return i})();var Mu=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({})}}return i})(),Bl=class extends Cn{constructor(r,e,n){super(Ll(e),Ul(n,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[this._adjustIndex(r)]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,n={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(r,e={}){let n=this._adjustIndex(r);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,n={}){let t=this._adjustIndex(r);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){gu(this,!1,r),r.forEach((n,t)=>{fu(this,!1,t),this.at(t).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){r!=null&&(r.forEach((n,t)=>{this.at(t)&&this.at(t).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((n,t)=>{n.reset(r[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_adjustIndex(r){return r<0?r+this.length:r}_syncPendingControls(){let r=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){this.controls.forEach((e,n)=>{r(e,n)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_allControlsDisabled(){for(let r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}_find(r){return this.at(r)??null}};function X0(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Du=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let t=this._reduceControls(e),o={};return X0(n)?o=n:n!==null&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new xn(t,o)}record(e,n=null){let t=this._reduceControls(e);return new Nl(t,n)}control(e,n,t){let o={};return this.useNonNullable?(X0(n)?o=n:(o.validators=n,o.asyncValidators=t),new Er(e,De(q({},o),{nonNullable:!0}))):new Er(e,n,t)}array(e,n,t){let o=e.map(l=>this._createControl(l));return new Bl(o,n,t)}_reduceControls(e){let n={};return Object.keys(e).forEach(t=>{n[t]=this._createControl(e[t])}),n}_createControl(e){if(e instanceof Er)return e;if(e instanceof Cn)return e;if(Array.isArray(e)){let n=e[0],t=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(n,t,o)}else return this.control(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Tu=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Dr,useValue:e.callSetDisabledState??$o}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[Mu]})}}return i})(),Au=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Su,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Dr,useValue:e.callSetDisabledState??$o}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[Mu]})}}return i})();var Xt=Object.create(null);Xt.open="0";Xt.close="1";Xt.ping="2";Xt.pong="3";Xt.message="4";Xt.upgrade="5";Xt.noop="6";var kr=Object.create(null);Object.keys(Xt).forEach(i=>{kr[Xt[i]]=i});var Pr={type:"error",data:"parser error"};var Pu=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Fu=typeof ArrayBuffer=="function",Ou=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Fr=({type:i,data:r},e,n)=>Pu&&r instanceof Blob?e?n(r):Iu(r,n):Fu&&(r instanceof ArrayBuffer||Ou(r))?e?n(r):Iu(new Blob([r]),n):n(Xt[i]+(r||"")),Iu=(i,r)=>{let e=new FileReader;return e.onload=function(){let n=e.result.split(",")[1];r("b"+(n||""))},e.readAsDataURL(i)};function ku(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var zl;function Nu(i,r){if(Pu&&i.data instanceof Blob)return i.data.arrayBuffer().then(ku).then(r);if(Fu&&(i.data instanceof ArrayBuffer||Ou(i.data)))return r(ku(i.data));Fr(i,!1,e=>{zl||(zl=new TextEncoder),r(zl.encode(e))})}var Bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Or=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Bu.length;i++)Or[Bu.charCodeAt(i)]=i;var Ru=i=>{let r=i.length*.75,e=i.length,n,t=0,o,l,d,m;i[i.length-1]==="="&&(r--,i[i.length-2]==="="&&r--);let v=new ArrayBuffer(r),p=new Uint8Array(v);for(n=0;n<e;n+=4)o=Or[i.charCodeAt(n)],l=Or[i.charCodeAt(n+1)],d=Or[i.charCodeAt(n+2)],m=Or[i.charCodeAt(n+3)],p[t++]=o<<2|l>>4,p[t++]=(l&15)<<4|d>>2,p[t++]=(d&3)<<6|m&63;return v};var $_=typeof ArrayBuffer=="function",Nr=(i,r)=>{if(typeof i!="string")return{type:"message",data:Vu(i,r)};let e=i.charAt(0);return e==="b"?{type:"message",data:J_(i.substring(1),r)}:kr[e]?i.length>1?{type:kr[e],data:i.substring(1)}:{type:kr[e]}:Pr},J_=(i,r)=>{if($_){let e=Ru(i);return Vu(e,r)}else return{base64:!0,data:i}},Vu=(i,r)=>{switch(r){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var Lu="",Uu=(i,r)=>{let e=i.length,n=new Array(e),t=0;i.forEach((o,l)=>{Fr(o,!1,d=>{n[l]=d,++t===e&&r(n.join(Lu))})})},ju=(i,r)=>{let e=i.split(Lu),n=[];for(let t=0;t<e.length;t++){let o=Nr(e[t],r);if(n.push(o),o.type==="error")break}return n};function Hu(){return new TransformStream({transform(i,r){Nu(i,e=>{let n=e.length,t;if(n<126)t=new Uint8Array(1),new DataView(t.buffer).setUint8(0,n);else if(n<65536){t=new Uint8Array(3);let o=new DataView(t.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{t=new Uint8Array(9);let o=new DataView(t.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}i.data&&typeof i.data!="string"&&(t[0]|=128),r.enqueue(t),r.enqueue(e)})}})}var Gl;function Qo(i){return i.reduce((r,e)=>r+e.length,0)}function Ko(i,r){if(i[0].length===r)return i.shift();let e=new Uint8Array(r),n=0;for(let t=0;t<r;t++)e[t]=i[0][n++],n===i[0].length&&(i.shift(),n=0);return i.length&&n<i[0].length&&(i[0]=i[0].slice(n)),e}function Wu(i,r){Gl||(Gl=new TextDecoder);let e=[],n=0,t=-1,o=!1;return new TransformStream({transform(l,d){for(e.push(l);;){if(n===0){if(Qo(e)<1)break;let m=Ko(e,1);o=(m[0]&128)===128,t=m[0]&127,t<126?n=3:t===126?n=1:n=2}else if(n===1){if(Qo(e)<2)break;let m=Ko(e,2);t=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),n=3}else if(n===2){if(Qo(e)<8)break;let m=Ko(e,8),v=new DataView(m.buffer,m.byteOffset,m.length),p=v.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(Pr);break}t=p*Math.pow(2,32)+v.getUint32(4),n=3}else{if(Qo(e)<t)break;let m=Ko(e,t);d.enqueue(Nr(o?m:Gl.decode(m),r)),n=0}if(t===0||t>i){d.enqueue(Pr);break}}}})}var ql=4;function tt(i){if(i)return Q_(i)}function Q_(i){for(var r in tt.prototype)i[r]=tt.prototype[r];return i}tt.prototype.on=tt.prototype.addEventListener=function(i,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(r),this};tt.prototype.once=function(i,r){function e(){this.off(i,e),r.apply(this,arguments)}return e.fn=r,this.on(i,e),this};tt.prototype.off=tt.prototype.removeListener=tt.prototype.removeAllListeners=tt.prototype.removeEventListener=function(i,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,t=0;t<e.length;t++)if(n=e[t],n===r||n.fn===r){e.splice(t,1);break}return e.length===0&&delete this._callbacks["$"+i],this};tt.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),e=this._callbacks["$"+i],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,t=e.length;n<t;++n)e[n].apply(this,r)}return this};tt.prototype.emitReserved=tt.prototype.emit;tt.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};tt.prototype.hasListeners=function(i){return!!this.listeners(i).length};var _i=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,e)=>e(r,0),Tt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),zu="arraybuffer";function Zo(i,...r){return r.reduce((e,n)=>(i.hasOwnProperty(n)&&(e[n]=i[n]),e),{})}var K_=Tt.setTimeout,Z_=Tt.clearTimeout;function vi(i,r){r.useNativeTimers?(i.setTimeoutFn=K_.bind(Tt),i.clearTimeoutFn=Z_.bind(Tt)):(i.setTimeoutFn=Tt.setTimeout.bind(Tt),i.clearTimeoutFn=Tt.clearTimeout.bind(Tt))}var Y_=1.33;function Gu(i){return typeof i=="string"?X_(i):Math.ceil((i.byteLength||i.size)*Y_)}function X_(i){let r=0,e=0;for(let n=0,t=i.length;n<t;n++)r=i.charCodeAt(n),r<128?e+=1:r<2048?e+=2:r<55296||r>=57344?e+=3:(n++,e+=4);return e}function Yo(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function qu(i){let r="";for(let e in i)i.hasOwnProperty(e)&&(r.length&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return r}function $u(i){let r={},e=i.split("&");for(let n=0,t=e.length;n<t;n++){let o=e[n].split("=");r[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return r}var Xo=class extends Error{constructor(r,e,n){super(r),this.description=e,this.context=n,this.type="TransportError"}},bi=class extends tt{constructor(r){super(),this.writable=!1,vi(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,e,n){return super.emitReserved("error",new Xo(r,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){let e=Nr(r,this.socket.binaryType);this.onPacket(e)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,e={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){let e=qu(r);return e.length?"?"+e:""}};var Br=class extends bi{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";let e=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){let e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ju(r,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,Uu(r,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let r=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Yo()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(r,e)}};var Ju=!1;try{Ju=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Qu=Ju;function ev(){}var $l=class extends Br{constructor(r){if(super(r),typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n!==r.port}}doWrite(r,e){let n=this.request({method:"POST",data:r});n.on("success",e),n.on("error",(t,o)=>{this.onError("xhr post error",t,o)})}doPoll(){let r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=r}},ea=(()=>{class i extends tt{constructor(e,n,t){super(),this.createRequest=e,vi(this,t),this._opts=t,this._method=t.method||"GET",this._uri=n,this._data=t.data!==void 0?t.data:null,this._create()}_create(){var e;let n=Zo(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;let t=this._xhr=this.createRequest(n);try{t.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(t),"withCredentials"in t&&(t.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(t.timeout=this._opts.requestTimeout),t.onreadystatechange=()=>{var o;t.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(t.getResponseHeader("set-cookie"))),t.readyState===4&&(t.status===200||t.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof t.status=="number"?t.status:0)},0))},t.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=i.requestsCount++,i.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ev,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ku);else if(typeof addEventListener=="function"){let i="onpagehide"in Tt?"pagehide":"unload";addEventListener(i,Ku,!1)}}function Ku(){for(let i in ea.requests)ea.requests.hasOwnProperty(i)&&ea.requests[i].abort()}var tv=function(){let i=Zu({xdomain:!1});return i&&i.responseType!==null}(),Vi=class extends $l{constructor(r){super(r);let e=r&&r.forceBase64;this.supportsBinary=tv&&!e}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new ea(Zu,this.uri(),r)}};function Zu(i){let r=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||Qu))return new XMLHttpRequest}catch{}if(!r)try{return new Tt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Yu=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Ql=class extends bi{get name(){return"websocket"}doOpen(){let r=this.uri(),e=this.opts.protocols,n=Yu?{}:Zo(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,e,n)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let e=0;e<r.length;e++){let n=r[e],t=e===r.length-1;Fr(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}t&&_i(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let r=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Yo()),this.supportsBinary||(e.b64=1),this.createUri(r,e)}},Jl=Tt.WebSocket||Tt.MozWebSocket,Li=class extends Ql{createSocket(r,e,n){return Yu?new Jl(r,e,n):e?new Jl(r,e):new Jl(r)}doWrite(r,e){this.ws.send(e)}};var Sn=class extends bi{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{let e=Wu(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(e).getReader(),t=Hu();t.readable.pipeTo(r.writable),this._writer=t.writable.getWriter();let o=()=>{n.read().then(({done:d,value:m})=>{d||(this.onPacket(m),o())}).catch(d=>{})};o();let l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let e=0;e<r.length;e++){let n=r[e],t=e===r.length-1;this._writer.write(n).then(()=>{t&&_i(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}};var Kl={websocket:Li,webtransport:Sn,polling:Vi};var iv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wn(i){if(i.length>8e3)throw"URI too long";let r=i,e=i.indexOf("["),n=i.indexOf("]");e!=-1&&n!=-1&&(i=i.substring(0,e)+i.substring(e,n).replace(/:/g,";")+i.substring(n,i.length));let t=iv.exec(i||""),o={},l=14;for(;l--;)o[nv[l]]=t[l]||"";return e!=-1&&n!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=rv(o,o.path),o.queryKey=ov(o,o.query),o}function rv(i,r){let e=/\/{2,9}/g,n=r.replace(e,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function ov(i,r){let e={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,t,o){t&&(e[t]=o)}),e}var Zl=typeof addEventListener=="function"&&typeof removeEventListener=="function",ta=[];Zl&&addEventListener("offline",()=>{ta.forEach(i=>i())},!1);var ia=(()=>{class i extends tt{constructor(e,n){if(super(),this.binaryType=zu,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){let t=wn(e);n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)}else n.host&&(n.hostname=wn(n.host).host);vi(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(t=>{let o=t.prototype.name;this.transports.push(o),this._transportsByName[o]=t}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$u(this.opts.query)),Zl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ta.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let n=Object.assign({},this.opts.query);n.EIO=ql,n.transport=e,this.id&&(n.sid=this.id);let t=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](t)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let t=0;t<this.writeBuffer.length;t++){let o=this.writeBuffer[t].data;if(o&&(n+=Gu(o)),t>0&&n>this._maxPayload)return this.writeBuffer.slice(0,t);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,_i(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,t){return this._sendPacket("message",e,n,t),this}send(e,n,t){return this._sendPacket("message",e,n,t),this}_sendPacket(e,n,t,o){if(typeof n=="function"&&(o=n,n=void 0),typeof t=="function"&&(o=t,t=null),this.readyState==="closing"||this.readyState==="closed")return;t=t||{},t.compress=t.compress!==!1;let l={type:e,data:n,options:t};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},t=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?t():e()}):this.upgrading?t():e()),this}_onError(e){if(i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Zl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let t=ta.indexOf(this._offlineEventListener);t!==-1&&ta.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}return i.protocol=ql,i})(),na=class extends ia{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let e=this.createTransport(r),n=!1;ia.priorWebsocketSuccess=!1;let t=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",y=>{if(!n)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;ia.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let C=new Error("probe error");C.transport=e.name,this.emitReserved("upgradeError",C)}}))};function o(){n||(n=!0,p(),e.close(),e=null)}let l=y=>{let C=new Error("probe error: "+y);C.transport=e.name,o(),this.emitReserved("upgradeError",C)};function d(){l("transport closed")}function m(){l("socket closed")}function v(y){e&&y.name!==e.name&&o()}let p=()=>{e.removeListener("open",t),e.removeListener("error",l),e.removeListener("close",d),this.off("close",m),this.off("upgrading",v)};e.once("open",t),e.once("error",l),e.once("close",d),this.once("close",m),this.once("upgrading",v),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){let e=[];for(let n=0;n<r.length;n++)~this.transports.indexOf(r[n])&&e.push(r[n]);return e}},En=class extends na{constructor(r,e={}){let n=typeof r=="object"?r:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(t=>Kl[t]).filter(t=>!!t)),super(r,n)}};var Zw=En.protocol;function Xu(i,r="",e){let n=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),n=wn(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+r,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}var nc={};Xp(nc,{Decoder:()=>tc,Encoder:()=>ec,PacketType:()=>Ne,protocol:()=>rm});var sv=typeof ArrayBuffer=="function",lv=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,em=Object.prototype.toString,cv=typeof Blob=="function"||typeof Blob<"u"&&em.call(Blob)==="[object BlobConstructor]",dv=typeof File=="function"||typeof File<"u"&&em.call(File)==="[object FileConstructor]";function Vr(i){return sv&&(i instanceof ArrayBuffer||lv(i))||cv&&i instanceof Blob||dv&&i instanceof File}function Rr(i,r){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,n=i.length;e<n;e++)if(Rr(i[e]))return!0;return!1}if(Vr(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Rr(i.toJSON(),!0);for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&Rr(i[e]))return!0;return!1}function tm(i){let r=[],e=i.data,n=i;return n.data=Yl(e,r),n.attachments=r.length,{packet:n,buffers:r}}function Yl(i,r){if(!i)return i;if(Vr(i)){let e={_placeholder:!0,num:r.length};return r.push(i),e}else if(Array.isArray(i)){let e=new Array(i.length);for(let n=0;n<i.length;n++)e[n]=Yl(i[n],r);return e}else if(typeof i=="object"&&!(i instanceof Date)){let e={};for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=Yl(i[n],r));return e}return i}function im(i,r){return i.data=Xl(i.data,r),delete i.attachments,i}function Xl(i,r){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<r.length)return r[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=Xl(i[e],r);else if(typeof i=="object")for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=Xl(i[e],r));return i}var uv=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],rm=5,Ne=function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i}(Ne||{}),ec=class{constructor(r){this.replacer=r}encode(r){return(r.type===Ne.EVENT||r.type===Ne.ACK)&&Rr(r)?this.encodeAsBinary({type:r.type===Ne.EVENT?Ne.BINARY_EVENT:Ne.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let e=""+r.type;return(r.type===Ne.BINARY_EVENT||r.type===Ne.BINARY_ACK)&&(e+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(e+=r.nsp+","),r.id!=null&&(e+=r.id),r.data!=null&&(e+=JSON.stringify(r.data,this.replacer)),e}encodeAsBinary(r){let e=tm(r),n=this.encodeAsString(e.packet),t=e.buffers;return t.unshift(n),t}};function nm(i){return Object.prototype.toString.call(i)==="[object Object]"}var tc=class i extends tt{constructor(r){super(),this.reviver=r}add(r){let e;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(r);let n=e.type===Ne.BINARY_EVENT;n||e.type===Ne.BINARY_ACK?(e.type=n?Ne.EVENT:Ne.ACK,this.reconstructor=new ic(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(Vr(r)||r.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(r),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let e=0,n={type:Number(r.charAt(0))};if(Ne[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ne.BINARY_EVENT||n.type===Ne.BINARY_ACK){let o=e+1;for(;r.charAt(++e)!=="-"&&e!=r.length;);let l=r.substring(o,e);if(l!=Number(l)||r.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(r.charAt(e+1)==="/"){let o=e+1;for(;++e&&!(r.charAt(e)===","||e===r.length););n.nsp=r.substring(o,e)}else n.nsp="/";let t=r.charAt(e+1);if(t!==""&&Number(t)==t){let o=e+1;for(;++e;){let l=r.charAt(e);if(l==null||Number(l)!=l){--e;break}if(e===r.length)break}n.id=Number(r.substring(o,e+1))}if(r.charAt(++e)){let o=this.tryParse(r.substr(e));if(i.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,e){switch(r){case Ne.CONNECT:return nm(e);case Ne.DISCONNECT:return e===void 0;case Ne.CONNECT_ERROR:return typeof e=="string"||nm(e);case Ne.EVENT:case Ne.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&uv.indexOf(e[0])===-1);case Ne.ACK:case Ne.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},ic=class{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){let e=im(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function zt(i,r,e){return i.on(r,e),function(){i.off(r,e)}}var mv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Mn=class extends tt{constructor(r,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let r=this.io;this.subs=[zt(r,"open",this.onopen.bind(this)),zt(r,"packet",this.onpacket.bind(this)),zt(r,"error",this.onerror.bind(this)),zt(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...e){var n,t,o;if(mv.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(e.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let l={type:Ne.EVENT,data:e};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let p=this.ids++,y=e.pop();this._registerAckCallback(p,y),l.id=p}let d=(t=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||t===void 0?void 0:t.writable,m=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!d||(m?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(r,e){var n;let t=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(t===void 0){this.acks[r]=e;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===r&&this.sendBuffer.splice(d,1);e.call(this,new Error("operation has timed out"))},t),l=(...d)=>{this.io.clearTimeoutFn(o),e.apply(this,d)};l.withError=!0,this.acks[r]=l}emitWithAck(r,...e){return new Promise((n,t)=>{let o=(l,d)=>l?t(l):n(d);o.withError=!0,e.push(o),this.emit(r,...e)})}_addToQueue(r){let e;typeof r[r.length-1]=="function"&&(e=r.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((t,...o)=>n!==this._queue[0]?void 0:(t!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!r||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Ne.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){let n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Ne.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ne.EVENT:case Ne.BINARY_EVENT:this.onevent(r);break;case Ne.ACK:case Ne.BINARY_ACK:this.onack(r);break;case Ne.DISCONNECT:this.ondisconnect();break;case Ne.CONNECT_ERROR:this.destroy();let n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){let e=r.data||[];r.id!=null&&e.push(this.ack(r.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let n of e)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){let e=this,n=!1;return function(...t){n||(n=!0,e.packet({type:Ne.ACK,id:r,data:t}))}}onack(r){let e=this.acks[r.id];typeof e=="function"&&(delete this.acks[r.id],e.withError&&r.data.unshift(null),e.apply(this,r.data))}onconnect(r,e){this.id=r,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){let e=this._anyListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){let e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let n of e)n.apply(this,r.data)}}};function Qi(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Qi.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),e=Math.floor(r*this.jitter*i);i=Math.floor(r*10)&1?i+e:i-e}return Math.min(i,this.max)|0};Qi.prototype.reset=function(){this.attempts=0};Qi.prototype.setMin=function(i){this.ms=i};Qi.prototype.setMax=function(i){this.max=i};Qi.prototype.setJitter=function(i){this.jitter=i};var Dn=class extends tt{constructor(r,e){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(e=r,r=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,vi(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Qi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=r;let t=e.parser||nc;this.encoder=new t.Encoder,this.decoder=new t.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var e;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(e=this.backoff)===null||e===void 0||e.setMin(r),this)}randomizationFactor(r){var e;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(e=this.backoff)===null||e===void 0||e.setJitter(r),this)}reconnectionDelayMax(r){var e;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(e=this.backoff)===null||e===void 0||e.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new En(this.uri,this.opts);let e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let t=zt(e,"open",function(){n.onopen(),r&&r()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),r?r(d):this.maybeReconnectOnOpen()},l=zt(e,"error",o);if(this._timeout!==!1){let d=this._timeout,m=this.setTimeoutFn(()=>{t(),o(new Error("timeout")),e.close()},d);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(t),this.subs.push(l),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let r=this.engine;this.subs.push(zt(r,"ping",this.onping.bind(this)),zt(r,"data",this.ondata.bind(this)),zt(r,"error",this.onerror.bind(this)),zt(r,"close",this.onclose.bind(this)),zt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(e){this.onclose("parse error",e)}}ondecoded(r){_i(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,e){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new Mn(this,r,e),this.nsps[r]=n),n}_destroy(r){let e=Object.keys(this.nsps);for(let n of e)if(this.nsps[n].active)return;this._close()}_packet(r){let e=this.encoder.encode(r);for(let n=0;n<e.length;n++)this.engine.write(e[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(t=>{t?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",t)):r.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}};var Lr={};function Ur(i,r){typeof i=="object"&&(r=i,i=void 0),r=r||{};let e=Xu(i,r.path||"/socket.io"),n=e.source,t=e.id,o=e.path,l=Lr[t]&&o in Lr[t].nsps,d=r.forceNew||r["force new connection"]||r.multiplex===!1||l,m;return d?m=new Dn(n,r):(Lr[t]||(Lr[t]=new Dn(n,r)),m=Lr[t]),e.query&&!r.query&&(r.query=e.queryKey),m.socket(e.path,r)}Object.assign(Ur,{Manager:Dn,Socket:Mn,io:Ur,connect:Ur});var om={production:!0,baseUrl:"https://apiadm.mispeluquerias.com",socketUrl:"https://api.mispeluquerias.com"};var Ui=(()=>{class i{constructor(e,n){this.router=e,this.http=n,this.baseUrl=le.baseUrl}isAuthenticated(){return this.isLocalStorageAvailable()?!!localStorage.getItem("Token"):!1}getUserType(){let e=localStorage.getItem("permiso");return e?this.http.post(`${this.baseUrl}/decode-permiso`,{permiso:e}).pipe(we(n=>n.permiso||"client")):new ui(n=>{n.next("client"),n.complete()})}isLocalStorageAvailable(){try{let e="test";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}logout(){localStorage.removeItem("Token"),localStorage.removeItem("usuarioId"),localStorage.removeItem("permiso"),this.router.navigate(["/login"])}static{this.\u0275fac=function(n){return new(n||i)(L(qe),L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var am=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getImgUser(e){let n=new ye().set("id_user",e.toString());return this.http.get(`${this.baseUrl}/header/getImgUser`,{params:n})}getAlertCount(){return this.http.get(`${this.baseUrl}/notifications/count`)}getAllNotifications(){return this.http.get(`${this.baseUrl}/notifications/all`)}deleteNotification(e){return this.http.delete(`${this.baseUrl}/notifications/delete/${e}`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function pv(i,r){if(i&1){let e=z();s(0,"li",23)(1,"a",24),h(2,"i",25),c(3),a(),s(4,"button",26),f("click",function(){let t=g(e).$implicit,o=x(3);return _(o.removeNotification(t.id_alert_admin))}),h(5,"i",27),a()()}if(i&2){let e=r.$implicit;u(),sn("href",e.url,Ie),u(2),Y(" ",e.text," ")}}function fv(i,r){if(i&1&&(he(0),M(1,pv,6,2,"li",22),pe()),i&2){let e=x(2);u(),b("ngForOf",e.notifications)}}function gv(i,r){i&1&&(s(0,"li")(1,"a",28),c(2,"Sin notificaciones"),a()())}function _v(i,r){if(i&1&&(s(0,"li",16)(1,"a",17),h(2,"i",18),s(3,"span",19),c(4),a()(),s(5,"ul",20),M(6,fv,2,1,"ng-container",21)(7,gv,3,0,"ng-template",null,0,ln),a()()),i&2){let e=Se(8),n=x();u(4),V(n.alertCount),u(2),b("ngIf",n.notifications.length>0)("ngIfElse",e)}}var ge=(()=>{class i{constructor(e,n){this.authService=e,this.headerService=n,this.userImagePath="",this.id_user=localStorage.getItem("usuarioId"),this.alertCount=0,this.notifications=[],this.userType=null}ngOnInit(){this.id_user?this.getImgUser(this.id_user):console.error("El usuarioId no est\xE1 disponible en localStorage"),this.socket=Ur(om.socketUrl),this.socket.on("new-alert",e=>{this.getAlertCount(),this.getNotifications()}),this.authService.getUserType().subscribe(e=>{this.userType=e},e=>{console.error("Error al obtener el tipo de usuario:",e)}),console.log(this.userImagePath),this.getAlertCount(),this.getNotifications()}getAlertCount(){this.headerService.getAlertCount().subscribe({next:e=>{this.alertCount=e.total},error:e=>{console.error("Error al obtener el total de alertas:",e)}})}getNotifications(){this.headerService.getAllNotifications().subscribe({next:e=>{this.notifications=e},error:e=>{console.error("Error al obtener las notificaciones:",e)}})}ngAfterViewInit(){try{let e=document.querySelector("#sidebarToggle");e?e.addEventListener("click",n=>{n.preventDefault(),document.body.classList.toggle("sb-sidenav-toggled"),localStorage.setItem("sb|sidebar-toggle",document.body.classList.contains("sb-sidenav-toggled").toString())}):console.log("Elemento #sidebarToggle no encontrado")}catch(e){console.log("Error al inicializar el toggle de la barra lateral:",e)}}getImgUser(e){this.headerService.getImgUser(e).subscribe(n=>{n.data&&n.data.length>0?this.userImagePath=n.data[0].avatar_path:(console.error("No se encontr\xF3 la imagen en la respuesta."),this.userImagePath="../../../../assets/img/sello.jpg")},n=>{console.error("Error al obtener la imagen del usuario:",n),this.userImagePath="../../../../assets/img/sello.jpg"})}logout(){this.authService.logout()}removeNotification(e){console.log(e),this.headerService.deleteNotification(e).subscribe({next:n=>{this.notifications=n,this.getAlertCount(),this.getNotifications()},error:n=>{console.error("Error al eliminar la notificaci\xF3n:",n)}})}static{this.\u0275fac=function(n){return new(n||i)(B(Ui),B(am))}}static{this.\u0275cmp=re({type:i,selectors:[["app-header"]],decls:21,vars:2,consts:[["noNotifications",""],[1,"sb-topnav","navbar","navbar-expand","navbar-dark","bg-dark"],["routerLink","/home",1,"navbar-brand","ps-3",2,"color","#fff !important"],["id","sidebarToggle",1,"btn","btn-link","btn-sm","order-1","order-lg-0","me-4","me-lg-0"],[1,"fas","fa-bars"],[1,"navbar-nav","ms-auto"],["class","nav-item dropdown me-3",4,"ngIf"],[1,"nav-item","dropdown"],["id","navbarDropdownUser","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","d-flex","align-items-center","me-4"],["alt","Foto de perfil","width","40","height","40",1,"rounded-circle",3,"src"],["aria-labelledby","navbarDropdownUser",1,"dropdown-menu","dropdown-menu-end","bg-light","text"],["href","profile",1,"dropdown-item"],[1,"las","la-user-circle"],[1,"dropdown-divider"],["href","#",1,"dropdown-item",3,"click"],[1,"las","la-sign-out-alt"],[1,"nav-item","dropdown","me-3"],["id","navbarDropdownCampaign","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","custom-badge","position-relative","d-flex","align-items-center"],[1,"fas","fa-bell","fa-xl",2,"margin-top","9px","color","#fff"],[1,"badge","bg-danger","position-absolute","translate-middle",2,"top","20px","left","75%"],["aria-labelledby","navbarDropdownCampaign",1,"dropdown-menu","dropdown-menu-end",2,"cursor","pointer","margin-top","-4px"],[4,"ngIf","ngIfElse"],["style","border-bottom: darkgrey solid 1px; padding: 0.3rem;","class","d-flex align-items-center justify-content-between",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between",2,"border-bottom","darkgrey solid 1px","padding","0.3rem"],[1,"dropdown-item",2,"font-size","0.9rem",3,"href"],[1,"fa-regular","fa-bell"],["type","button",1,"btn","btn-danger","btn-sm","ms-2",2,"font-size","0.5rem",3,"click"],[1,"las","la-times"],[1,"dropdown-item"]],template:function(n,t){n&1&&(s(0,"nav",1)(1,"a",2),c(2,"Mis peluquer\xEDas \xAE"),a(),s(3,"button",3),h(4,"i",4),a(),s(5,"ul",5),M(6,_v,9,3,"li",6),s(7,"li",7)(8,"a",8),h(9,"img",9),a(),s(10,"ul",10)(11,"li")(12,"a",11),h(13,"i",12),c(14," Mi perfil"),a()(),s(15,"li"),h(16,"hr",13),a(),s(17,"li")(18,"a",14),f("click",function(){return t.logout()}),h(19,"i",15),c(20," Salir"),a()()()()()()),n&2&&(u(6),b("ngIf",t.userType==="admin"),u(3),b("src",t.userImagePath||"../../../../assets/img/sello.jpg",Ie))},dependencies:[ue,ce,lt],styles:["a[_ngcontent-%COMP%]{color:#000}"]})}}return i})();var _e=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"py-4","bg-light","mt-auto"],[1,"container-fluid","px-4"],[1,"d-flex","align-items-center","justify-content-between","small"],[1,"text-muted"],["href","#"]],template:function(n,t){n&1&&(s(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"Copyright \xA9 Mis Peluquerias"),a(),s(5,"div")(6,"a",4),c(7,"Privacy Policy"),a(),c(8," \xB7 "),s(9,"a",4),c(10,"Terms & Conditions"),a()()()()())}})}}return i})();var sm=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getUserName(e){let n=new ye().set("id_user",e.toString());return this.http.get(`${this.baseUrl}/aside/getUserName`,{params:n})}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-aside`,{params:{permiso:e||""}})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function bv(i,r){i&1&&(he(0),s(1,"a",11)(2,"div",12),h(3,"i",13),a(),c(4," Negocios "),a(),s(5,"a",14)(6,"div",12),h(7,"i",15),a(),c(8," Propietarios "),a(),s(9,"a",16)(10,"div",12),h(11,"i",17),a(),c(12," Reclamaciones "),a(),s(13,"a",18)(14,"div",12),h(15,"i",19),a(),c(16," Contacto Profesional "),a(),s(17,"div",7),c(18,"Portal de Empleo"),a(),s(19,"a",20)(20,"div",12),h(21,"i",21),a(),c(22," Categor\xEDas Empleo "),a(),s(23,"a",22)(24,"div",12),h(25,"i",23),a(),c(26," Im\xE1genes Anuncios "),a(),s(27,"a",24)(28,"div",12),h(29,"i",25),a(),c(30," Ofertas de empleo "),a(),pe())}function yv(i,r){i&1&&(he(0),s(1,"a",11)(2,"div",12),h(3,"i",13),a(),c(4," Negocios "),a(),s(5,"div",7),c(6,"Portal de Empleo"),a(),s(7,"a",24)(8,"div",12),h(9,"i",25),a(),c(10," Ofertas de empleo "),a(),pe())}function Cv(i,r){i&1&&(he(0),s(1,"div",7),c(2,"Clientes Web"),a(),s(3,"a",26)(4,"div",12),h(5,"i",27),a(),c(6," Clientes "),a(),s(7,"a",28)(8,"div",12),h(9,"i",29),a(),c(10," Contacto "),a(),pe())}function xv(i,r){i&1&&(he(0),s(1,"div",7),c(2,"Administraci\xF3n"),a(),s(3,"a",30)(4,"div",12),h(5,"i",31),a(),c(6," Administradores "),a(),s(7,"a",32)(8,"div",12),h(9,"i",33),a(),c(10," Poblaciones "),a(),s(11,"a",34)(12,"div",12),h(13,"i",35),a(),c(14," Categorias "),a(),s(15,"a",36)(16,"div",12),h(17,"i",37),a(),c(18," Servicios "),a(),s(19,"a",38)(20,"div",12),h(21,"i",39),a(),c(22," Marcas "),a(),s(23,"a",40)(24,"div",12),h(25,"i",41),a(),c(26," Exportar "),a(),s(27,"a",42)(28,"div",12),h(29,"i",43),a(),c(30," Importar "),a(),pe())}var ve=(()=>{class i{constructor(e,n){this.asideService=e,this.route=n,this.id_user="",this.userName="",this.salonPermiso="",this.mostrarNegocios=!1,this.contactId=0}ngOnInit(){this.id_user=localStorage.getItem("usuarioId"),this.id_user?this.getUserName():console.log("No userId found in localStorage"),this.contactId=Number(this.route.snapshot.paramMap.get("id")),this.asideService.getUserPermiso().subscribe(e=>{e.permiso==="salon"?(this.salonPermiso="salon",this.mostrarNegocios=!0):e.permiso==="admin"?(this.salonPermiso="admin",this.mostrarNegocios=!0):this.mostrarNegocios=!1},e=>{console.log("Error fetching permiso:",e)})}getUserName(){this.asideService.getUserName(this.id_user).subscribe(e=>{e&&e.success?e.data&&e.data.length>0?this.userName=e.data[0].name:console.error("No user name found in response data"):console.error("Error: ",e.message)},e=>{console.error("Error fetching user name:",e)})}static{this.\u0275fac=function(n){return new(n||i)(B(sm),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-aside"]],decls:17,vars:5,consts:[["id","layoutSidenav"],["id","layoutSidenav_nav"],["id","sidenavAccordion",1,"sb-sidenav","accordion","sb-sidenav-light"],[1,"sb-sidenav-menu"],[1,"nav"],[1,"d-flex","justify-content-center"],["src","../../../../assets/img/sello.jpg","alt","","width","75",1,"img-fluid","mt-4",2,"border-radius","39px"],[1,"sb-sidenav-menu-heading"],[4,"ngIf"],[1,"sb-sidenav-footer"],[1,"small"],["routerLink","/home",1,"nav-link"],[1,"sb-nav-link-icon"],[1,"fas","fa-briefcase",2,"font-size","1.1rem"],["routerLink","/owners",1,"nav-link"],[1,"fa-solid","fa-user-check",2,"font-size","1.1rem"],["routerLink","/reclamations",1,"nav-link"],[1,"fa-solid","fa-file-circle-exclamation",2,"font-size","1.1rem"],["routerLink","/contact-proffesional",1,"nav-link"],[1,"fa-solid","fa-envelope-open",2,"font-size","1.1rem"],["routerLink","/categories-jobs",1,"nav-link"],[1,"fa-solid","fa-table-list",2,"font-size","1.1rem"],["routerLink","/img-jobs",1,"nav-link"],[1,"fa-regular","fa-image",2,"font-size","1.1rem"],["routerLink","/job-offer",1,"nav-link"],[1,"fa-solid","fa-envelope-open-text",2,"font-size","1.1rem"],["routerLink","/clients",1,"nav-link"],[1,"fa-solid","fa-users",2,"font-size","1.1rem"],["routerLink","/contact",1,"nav-link"],[1,"fa-solid","fa-envelope",2,"font-size","1.1rem"],["routerLink","/administrators",1,"nav-link"],[1,"fa-solid","fa-user-tie",2,"font-size","1.1rem"],["routerLink","/cities",1,"nav-link"],[1,"fa-solid","fa-map-location-dot",2,"font-size","1.1rem"],["routerLink","/categories",1,"nav-link"],[1,"fa-regular","fa-folder-open",2,"font-size","1.1rem"],["routerLink","/services",1,"nav-link"],[1,"fa-solid","fa-scissors",2,"font-size","1.1rem"],["routerLink","/brands",1,"nav-link"],[1,"fa-solid","fa-copyright",2,"font-size","1.1rem"],["routerLink","/export",1,"nav-link"],[1,"fa-solid","fa-file-export",2,"font-size","1.1rem"],["routerLink","/import",1,"nav-link"],[1,"fa-solid","fa-file-import",2,"font-size","1.1rem"]],template:function(n,t){n&1&&(s(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"img",6),a(),s(7,"div",7),c(8,"Propietarios"),a(),M(9,bv,31,0,"ng-container",8)(10,yv,11,0,"ng-container",8)(11,Cv,11,0,"ng-container",8)(12,xv,31,0,"ng-container",8),a()(),s(13,"div",9)(14,"div",10),c(15,"Iniciado sesi\xF3n como:"),a(),c(16),a()()()()),n&2&&(u(9),b("ngIf",t.salonPermiso==="admin"),u(),b("ngIf",t.salonPermiso==="salon"),u(),b("ngIf",t.salonPermiso==="admin"),u(),b("ngIf",t.salonPermiso==="admin"),u(4),Y(" ",t.userName," "))},dependencies:[ce,lt],styles:["nav[_ngcontent-%COMP%]{background-color:#fff!important}a[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#b91622!important}"]})}}return i})();function Sv(i,r){i&1&&(s(0,"button",57),c(1,"Nuevo"),a())}function wv(i,r){i&1&&(s(0,"div",58)(1,"button",59),c(2,"Eliminar seleccionados"),a()())}function Ev(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",60),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",61),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td")(11,"a",62),c(12," Ir al sitio "),a()(),s(13,"td"),c(14),a(),s(15,"td")(16,"button",63),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editSalon(t.id_salon))}),h(17,"i",64),a()()()}if(i&2){let e=r.$implicit,n=x();u(2),D("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),V(e.email),u(2),V(e.phone),u(2),b("href",n.getSalonUrl(e),Ie),u(3),V(e.state)}}function Mv(i,r){i&1&&(he(0),s(1,"span",66),c(2,"..."),a(),pe())}function Dv(i,r){if(i&1){let e=z();he(0),s(1,"a",67),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Tv(i,r){if(i&1&&(s(0,"li",38),M(1,Mv,3,0,"ng-container",65)(2,Dv,3,1,"ng-container",65),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var lm=(()=>{class i{constructor(e,n,t){this.homeService=e,this.router=n,this.toastr=t,this.AllSalon=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.searchText="",this.filterState="",this.filterActive=!0,this.salonPermiso="",this.showBoton=!1,this.allSelected=!1}ngOnInit(){this.loadAllSalon(this.currentPage),this.homeService.getUserPermiso().subscribe(e=>{e.permiso==="salon"?(this.salonPermiso="salon",this.showBoton=!1):e.permiso==="admin"?(this.salonPermiso="admin",this.showBoton=!0):this.showBoton=!1},e=>{console.log("Error fetching permiso:",e)})}loadAllSalon(e){this.homeService.loadAllSalon(e,this.pageSize,this.searchText,this.filterState,this.filterActive).subscribe({next:n=>{this.AllSalon=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}onFilterChange(){this.currentPage=1,this.loadAllSalon(this.currentPage)}onSearch(){this.loadAllSalon(this.currentPage),this.searchText.trim()===""&&this.loadAllSalon(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllSalon(e)}getSalonUrl(e){return!e||!e.name||!e.id_salon?"#":`https://www.mispeluquerias.com/centro/${e.name.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-")}/${e.id_salon}`}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllSalon.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllSalon.every(e=>e.selected)}hasSelected(){return this.AllSalon.some(e=>e.selected)}editSalon(e){this.router.navigate(["home/edit",e])}confirmDelete(){let e=this.AllSalon.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn negocio para eliminar.");return}console.log("Negocios seleccionados para eliminar:",e);let n=e.map(t=>t.id_salon);this.homeService.deleteBusiness(n).subscribe({next:()=>{this.toastr.success("Negocio/s eliminados con \xE9xito"),this.loadAllSalon(this.currentPage),this.AllSalon.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando negocios",t),this.toastr.error("Error al eliminar los negocio/s seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(U0),B(qe),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-home"]],decls:106,vars:16,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-2"],[1,"dropdown-menu","p-3",2,"min-width","200px"],[1,"mb-2"],["for","largeSelect",1,"form-label"],["id","largeSelect",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","No reclamado"],["value","Validado"],["value","Reclamado"],[1,"dropdown-divider"],["for","flexSwitchCheckDefault",1,"form-label","d-block"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModelChange","change","ngModel"],["class","btn btn-danger","routerLink","/new-home",4,"ngIf"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","deleteBusinessModal","tabindex","-1","aria-labelledby","deleteBusinessModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","deleteBusinessModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["routerLink","/new-home",1,"btn","btn-danger"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteBusinessModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-house"],["target","_blank",1,"text-dark",3,"href"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Administraci\xF3n / "),s(11,"b"),c(12,"Negocios"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Negocios "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"div",14)(23,"button",15),c(24," Filtro "),a(),s(25,"ul",16)(26,"li",17)(27,"label",18),c(28,"Estado"),a(),s(29,"select",19),A("ngModelChange",function(l){return T(t.filterState,l)||(t.filterState=l),l}),f("change",function(){return t.onFilterChange()}),s(30,"option",20),c(31,"Todos"),a(),s(32,"option",21),c(33,"No reclamado"),a(),s(34,"option",22),c(35,"Validado"),a(),s(36,"option",23),c(37,"Reclamado"),a()()(),s(38,"li"),h(39,"hr",24),a(),s(40,"li",17)(41,"label",25),c(42,"\xBFActivo?"),a(),s(43,"div",26)(44,"input",27),A("ngModelChange",function(l){return T(t.filterActive,l)||(t.filterActive=l),l}),f("change",function(){return t.onFilterChange()}),a()()(),s(45,"li"),h(46,"hr",24),a()()(),M(47,Sv,2,0,"button",28),a(),M(48,wv,3,0,"div",29),a(),s(49,"div",30)(50,"table",31)(51,"thead",32)(52,"tr")(53,"th")(54,"input",33),f("change",function(){return t.toggleAllSelection()}),a()(),s(55,"th"),c(56,"Nombre"),a(),s(57,"th"),c(58,"Email"),a(),s(59,"th"),c(60,"Telefono"),a(),s(61,"th"),c(62,"URl"),a(),s(63,"th"),c(64,"Estado"),a(),s(65,"th",34),c(66,"Editar"),a()()(),s(67,"tbody"),M(68,Ev,18,6,"tr",35),a()()(),s(69,"nav",36)(70,"ul",37)(71,"li",38)(72,"a",39),f("click",function(){return t.onPageChange(1)}),s(73,"span",40),c(74,"\xAB\xAB"),a()()(),s(75,"li",38)(76,"a",41),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(77,"span",40),c(78,"\xAB"),a()()(),M(79,Tv,3,6,"li",42),s(80,"li",38)(81,"a",43),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(82,"span",40),c(83,"\xBB"),a()()(),s(84,"li",38)(85,"a",44),f("click",function(){return t.onPageChange(t.pageCount)}),s(86,"span",40),c(87,"\xBB\xBB"),a()()()()()()()()(),h(88,"app-footer"),a()(),s(89,"div",45)(90,"div",46)(91,"div",47)(92,"div",48)(93,"h5",49),c(94,"Eliminar Negocios"),a(),h(95,"button",50),a(),s(96,"div",51)(97,"div",52),h(98,"img",53),a(),s(99,"p"),c(100,"\xBFEst\xE1s seguro que deseas eliminar los negicio/os seleccionados?"),a()(),s(101,"div",54)(102,"button",55),f("click",function(){return t.confirmDelete()}),c(103,"Eliminar"),a(),s(104,"button",56),c(105,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(9),D("ngModel",t.filterState),u(15),D("ngModel",t.filterActive),u(3),b("ngIf",t.salonPermiso=="admin"),u(),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(14),b("ngForOf",t.AllSalon),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,lt,Qe,Ke,me,Ve,je,fe,Ce,ge,_e,ve],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Hr=$a(_h());function Av(i,r){i&1&&(s(0,"div"),c(1,"Email es requerido."),a())}function Iv(i,r){i&1&&(s(0,"div"),c(1,"Email no es v\xE1lido."),a())}function kv(i,r){if(i&1&&(s(0,"div",44),M(1,Av,2,0,"div",45)(2,Iv,2,0,"div",45),a()),i&2){let e=x();u(),b("ngIf",e.loginForm.controls.email.errors==null?null:e.loginForm.controls.email.errors.required),u(),b("ngIf",e.loginForm.controls.email.errors==null?null:e.loginForm.controls.email.errors.email)}}function Pv(i,r){if(i&1&&(s(0,"div",46),c(1),a()),i&2){let e=x();u(),V(e.errorMessage)}}var ac=(()=>{class i{constructor(e,n,t){this.fb=e,this.http=n,this.router=t,this.errorMessage="",this.encryptionKey="b3d5b524b5064bf7714c59261101b842ad378f2ba94d98a739b9b01cf219515f",this.showPassword=!1,this.baseUrl=le.baseUrl,this.loginForm=this.fb.group({email:["",[yn.required,yn.email]],password:["",yn.required],rememberMe:[!1]})}togglePasswordVisibility(){this.showPassword=!this.showPassword}ngOnInit(){if(typeof window<"u"&&typeof window.localStorage<"u"){let e=this.getDecryptedData(localStorage,"email"),n=this.getDecryptedData(localStorage,"password");e&&n&&this.loginForm.patchValue({email:e,password:n,rememberMe:!0})}}onSubmit(){this.loginForm.valid&&this.http.post(`${this.baseUrl}/login`,this.loginForm.value).subscribe({next:e=>{e.token?(localStorage.setItem("Token",e.token),localStorage.setItem("usuarioId",e.usuarioId),localStorage.setItem("permiso",e.permiso),this.loginForm.get("rememberMe")?.value?(this.saveEncryptedData(localStorage,"email",this.loginForm.get("email")?.value),this.saveEncryptedData(localStorage,"password",this.loginForm.get("password")?.value)):(localStorage.removeItem("email"),localStorage.removeItem("password")),this.errorMessage="",this.router.navigate(["/home"])):this.errorMessage="Faltan datos en la respuesta del servidor"},error:e=>{console.error("Error en login",e),this.errorMessage=e.error.message||"Credenciales inv\xE1lidas. Por favor, int\xE9ntalo de nuevo."}})}saveEncryptedData(e,n,t){let o=Hr.AES.encrypt(t,this.encryptionKey).toString();e.setItem(n,o)}getDecryptedData(e,n){let t=e.getItem(n);return t?Hr.AES.decrypt(t,this.encryptionKey).toString(Hr.enc.Utf8):null}static{this.\u0275fac=function(n){return new(n||i)(B(Du),B(se),B(qe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-login"]],decls:54,vars:6,consts:[[1,"bg-light"],[1,"container-fluid","vh-100","d-flex","align-items-center","justify-content-center"],[1,"authentication-wrapper","authentication-cover","w-100"],[1,"authentication-inner","row","m-0"],[1,"d-none","d-lg-flex","col-lg-7","col-xl-8","align-items-center","p-5"],[1,"w-100","d-flex","justify-content-center"],["src","../../../assets/img/login-image.png","alt","Login image","width","700",1,"img-fluid"],[1,"d-flex","col-12","col-lg-5","col-xl-4","align-items-center","bg-white","p-sm-5","p-4"],[1,"w-100","mx-auto"],[1,"app-brand","mb-3","text-center"],["href","/",1,"app-brand-link","gap-2"],[1,"app-brand-logo","demo"],["width","400","src","../../../assets/img/logo-mis-peluquerias-bk.svg",1,"img-fluid"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Introduce tu Email","autofocus","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"mb-3","form-password-toggle"],["for","password",1,"form-label"],[1,"input-group","input-group-merge"],["id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","aria-describedby","password",1,"form-control",3,"type"],[1,"input-group-text","cursor-pointer",3,"click"],[3,"ngClass"],[1,"mb-3","d-flex","justify-content-between"],[1,"form-check"],["type","checkbox","id","remember-me","formControlName","rememberMe",1,"form-check-input"],["for","remember-me",1,"form-check-label"],["type","button","data-bs-toggle","modal","data-bs-target","#modal_add_item",1,"btn","btn-link","d-none"],["type","submit",1,"btn","btn-danger","d-grid","w-100",3,"disabled"],["class","text-danger mt-3",4,"ngIf"],["id","modal_add_item","tabindex","-1","aria-hidden","true","aria-modal","true","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-simple","modal-lg"],[1,"modal-content","p-3","p-md-5"],[1,"modal-body","py-2","px-4"],["id","modal_add_item_header",1,"text-center","mb-4"],["id","modal_title"],["type","reset","data-item-modal-action","close","aria-label","Close",1,"btn-close"],[1,"form-group","col-12"],["for","email_restore",1,"form-label"],["type","email","name","email","id","email_restore",1,"form-control"],[1,"col-12","text-center"],["type","reset","data-item-modal-action","cancel","aria-label","Close",1,"btn","btn-label-secondary","me-sm-3","me-1"],["type","submit","data-item-modal-action","submit",1,"btn","btn-primary"],[1,"text-danger"],[4,"ngIf"],[1,"text-danger","mt-3"]],template:function(n,t){n&1&&(s(0,"body",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"img",6),a()(),s(7,"div",7)(8,"div",8)(9,"div",9)(10,"a",10)(11,"span",11),h(12,"img",12),a()()(),s(13,"form",13),f("ngSubmit",function(){return t.onSubmit()}),s(14,"div",14)(15,"label",15),c(16,"Email"),a(),h(17,"input",16),M(18,kv,3,2,"div",17),a(),s(19,"div",18)(20,"label",19),c(21,"Contrase\xF1a"),a(),s(22,"div",20),h(23,"input",21),s(24,"span",22),f("click",function(){return t.togglePasswordVisibility()}),h(25,"i",23),a()()(),s(26,"div",24)(27,"div",25),h(28,"input",26),s(29,"label",27),c(30," Recu\xE9rdame"),a()(),s(31,"button",28)(32,"small"),c(33,"Olvid\xF3 su contrase\xF1a"),a()()(),s(34,"button",29),c(35,"Entrar"),a(),M(36,Pv,2,1,"div",30),a()()()()()(),s(37,"div",31)(38,"div",32)(39,"div",33)(40,"div",34)(41,"div",35)(42,"h3",36),c(43,"Cambiar contrase\xF1a"),a()(),h(44,"button",37),s(45,"div",38)(46,"label",39),c(47,"Email"),a(),h(48,"input",40),a(),s(49,"div",41)(50,"button",42),c(51," Cancelar "),a(),s(52,"button",43),c(53," Guardar "),a()()()()()()()),n&2&&(u(13),b("formGroup",t.loginForm),u(5),b("ngIf",t.loginForm.controls.email.invalid&&(t.loginForm.controls.email.dirty||t.loginForm.controls.email.touched)),u(5),b("type",t.showPassword?"text":"password"),u(2),b("ngClass",t.showPassword?"las la-eye-slash":"las la-eye"),u(9),b("disabled",t.loginForm.invalid),u(2),b("ngIf",t.errorMessage))},dependencies:[Ai,ce,Je,me,Ve,fe,$e,Hl,Wl],styles:['@charset "UTF-8";.input-group-text[_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:none}.input-group-text[_ngcontent-%COMP%]   .bx[_ngcontent-%COMP%]{font-size:18px}.input-group-text.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}']})}}return i})();var vh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllClients(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/clients/getAllClients`,{params:o})}deleteClients(e){return this.http.post(`${this.baseUrl}/clients/deleteClients`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ov(i,r){i&1&&(s(0,"div",43)(1,"button",44),c(2,"Eliminar seleccionados"),a()())}function Nv(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",45),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",46),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),Mt(10,"date"),a(),s(11,"td"),c(12),a(),s(13,"td")(14,"button",47),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editClient(t.id_user))}),h(15,"i",48),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),V(e.email),u(2),V(Ut(10,5,e.created_at,"dd-MM-yyyy")),u(3),V(e.phone)}}function Bv(i,r){i&1&&(he(0),s(1,"span",50),c(2,"..."),a(),pe())}function Rv(i,r){if(i&1){let e=z();he(0),s(1,"a",51),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Vv(i,r){if(i&1&&(s(0,"li",24),M(1,Bv,3,0,"ng-container",49)(2,Rv,3,1,"ng-container",49),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var bh=(()=>{class i{constructor(e,n,t){this.clientsService=e,this.router=n,this.toastr=t,this.AllClients=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.searchText="",this.allSelected=!1}ngOnInit(){this.loadAllClients(this.currentPage)}loadAllClients(e){this.clientsService.loadAllClients(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllClients=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}onSearch(){this.loadAllClients(this.currentPage),this.searchText.trim()===""&&this.loadAllClients(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllClients(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllClients.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllClients.every(e=>e.selected)}hasSelected(){return this.AllClients.some(e=>e.selected)}editClient(e){this.router.navigate(["edit-client/edit",e])}confirmDelete(){let e=this.AllClients.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn cliente para eliminar.");return}console.log("Cliente seleccionados para eliminar:",e);let n=e.map(t=>t.id_user);this.clientsService.deleteClients(n).subscribe({next:()=>{this.toastr.success("Cliente/s eliminados con \xE9xito"),this.loadAllClients(this.currentPage),this.AllClients.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando clientes",t),this.toastr.error("Error al eliminar los cliente/s seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(vh),B(qe),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-clients"]],decls:80,vars:13,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["routerLink","/new-client",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","deleteClientModal","tabindex","-1","aria-labelledby","deleteClientModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","deleteClientModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteClientModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-user"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Clientes"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Clientes "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),M(24,Ov,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32," Nombre"),a(),s(33,"th"),c(34,"Email"),a(),s(35,"th"),c(36,"Creado"),a(),s(37,"th"),c(38,"Telefono"),a(),s(39,"th",20),c(40,"Acciones"),a()()(),s(41,"tbody"),M(42,Nv,16,8,"tr",21),a()()(),s(43,"nav",22)(44,"ul",23)(45,"li",24)(46,"a",25),f("click",function(){return t.onPageChange(1)}),s(47,"span",26),c(48,"\xAB\xAB"),a()()(),s(49,"li",24)(50,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(51,"span",26),c(52,"\xAB"),a()()(),M(53,Vv,3,6,"li",28),s(54,"li",24)(55,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(56,"span",26),c(57,"\xBB"),a()()(),s(58,"li",24)(59,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(60,"span",26),c(61,"\xBB\xBB"),a()()()()()()()()(),h(62,"app-footer"),a()(),s(63,"div",31)(64,"div",32)(65,"div",33)(66,"div",34)(67,"h5",35),c(68,"Eliminar Clientes"),a(),h(69,"button",36),a(),s(70,"div",37)(71,"div",38),h(72,"img",39),a(),s(73,"p"),c(74,"\xBFEst\xE1s seguro que deseas eliminar el cliente/s seleccionados?"),a()(),s(75,"div",40)(76,"button",41),f("click",function(){return t.confirmDelete()}),c(77,"Eliminar"),a(),s(78,"button",42),c(79,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(12),b("ngForOf",t.AllClients),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,lt,me,Ve,fe,Ce,ge,_e,ve,Ft],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var yh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllCities(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/cities/getAllCities`,{params:o})}deleteCities(e){return this.http.post(`${this.baseUrl}/cities/deleteCities`,e)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Uv(i,r){i&1&&(s(0,"div",30)(1,"button",31),c(2,"Eliminar seleccionados"),a()())}function jv(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),h(2,"i",32),c(3),a(),s(4,"td"),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td")(13,"button",33),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editCity(t.id_city))}),h(14,"i",34),a()()()}if(i&2){let e=r.$implicit;u(3),Y(" ",e.province_name," "),u(2),V(e.name),u(2),V(e.zip_code),u(2),V(e.latitud),u(2),V(e.longitud)}}function Hv(i,r){i&1&&(he(0),s(1,"span",36),c(2,"..."),a(),pe())}function Wv(i,r){if(i&1){let e=z();he(0),s(1,"a",37),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function zv(i,r){if(i&1&&(s(0,"li",23),M(1,Hv,3,0,"ng-container",35)(2,Wv,3,1,"ng-container",35),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Ch=(()=>{class i{constructor(e,n){this.citiesService=e,this.router=n,this.AllCities=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText=""}ngOnInit(){this.loadAllCities(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllCities(e)}loadAllCities(e){this.citiesService.loadAllCities(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllCities=n.data,this.totalItems=n.totalItems,console.log("ciudades cargadas",this.AllCities)},error:n=>{console.error("Error loading cities",n)}})}onSearch(){this.currentPage=1,this.loadAllCities(this.currentPage)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllCities.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllCities.every(e=>e.selected)}hasSelected(){return this.AllCities.some(e=>e.selected)}deleteSelected(){this.AllCities=this.AllCities.filter(e=>!e.selected),this.allSelected=!1}editCity(e){this.router.navigate(["edit-city/edit",e])}static{this.\u0275fac=function(n){return new(n||i)(B(yh),B(qe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-cities"]],decls:63,vars:12,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn","btn-danger",2,"display","none"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteCitiesModal",1,"btn","btn-danger",2,"background-color","darkorange"],[1,"fa-solid","fa-map-location-dot"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Poblaciones"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Poblaciones "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),M(24,Uv,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th"),c(30,"Provincia"),a(),s(31,"th"),c(32,"Ciudad"),a(),s(33,"th"),c(34,"Cod.Postal"),a(),s(35,"th"),c(36,"Latitud"),a(),s(37,"th"),c(38,"Longitud"),a(),s(39,"th",19),c(40,"Acciones"),a()()(),s(41,"tbody"),M(42,jv,15,5,"tr",20),a()()(),s(43,"nav",21)(44,"ul",22)(45,"li",23)(46,"a",24),f("click",function(){return t.onPageChange(1)}),s(47,"span",25),c(48,"\xAB\xAB"),a()()(),s(49,"li",23)(50,"a",26),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(51,"span",25),c(52,"\xAB"),a()()(),M(53,zv,3,6,"li",27),s(54,"li",23)(55,"a",28),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(56,"span",25),c(57,"\xBB"),a()()(),s(58,"li",23)(59,"a",29),f("click",function(){return t.onPageChange(t.pageCount)}),s(60,"span",25),c(61,"\xBB\xBB"),a()()()()()()()()(),h(62,"app-footer"),a()()),n&2&&(u(20),D("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(18),b("ngForOf",t.AllCities),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,me,fe,Ce,ge,_e,ve]})}}return i})();var xh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllCategories(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/categories/getAllCategories`,{params:o})}addCategory(e){let n={category:e};return this.http.post(`${this.baseUrl}/categories/addCategory`,n)}updateCategoryName(e,n){let t={newCategory:e,OldCategory:n};return this.http.put(`${this.baseUrl}/categories/updateCategory`,t)}deleteCategories(e){return this.http.post(`${this.baseUrl}/categories/delete`,{names:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function qv(i,r){i&1&&(s(0,"div",55)(1,"button",56),c(2," Eliminar seleccionados "),a()())}function $v(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",57),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",58),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td")(11,"button",59),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectCategory(t))}),h(12,"i",60),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(3),Y(" ",e.category,""),u(2),V(e.totalSalones),u(2),V(e.active?"No":"Si")}}function Jv(i,r){if(i&1){let e=z();s(0,"li",24)(1,"a",61),f("click",function(){let t=g(e).$implicit,o=x();return _(o.onPageChange(t))}),c(2),a()()}if(i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage),u(2),V(e)}}var Sh=(()=>{class i{constructor(e,n){this.categoriesService=e,this.toastr=n,this.AllCategories=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.selectedCategory={name:""}}ngOnInit(){this.loadAllCategories(this.currentPage)}loadAllCategories(e){this.categoriesService.loadAllCategories(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllCategories=n.data,this.totalItems=n.totalItems,console.log("Categorias cargadas",this.AllCategories)},error:n=>{console.error("Error loading salons",n)}})}selectCategory(e){this.oldCategory=e.category,this.selectedCategory=e.category,this.category=e,console.log("nombre de categoria antigua",this.oldCategory)}updateCategoryName(){if(!this.selectedCategory||this.selectedCategory.trim()===""){this.toastr.warning("El nombre de la categor\xEDa no puede estar vac\xEDo","Advertencia");return}this.categoriesService.updateCategoryName(this.selectedCategory,this.oldCategory).subscribe({next:e=>{this.toastr.success("Categor\xEDa actualizada con \xE9xito"),setTimeout(()=>{window.location.reload()},1e3),this.loadAllCategories(this.currentPage)},error:e=>{console.error("Error updating category",e),this.toastr.error("Hubo un error al actualizar la categor\xEDa","Error"),setTimeout(()=>{window.location.reload()},2e3)}})}onSearch(){this.loadAllCategories(this.currentPage),this.searchText.trim()===""&&this.loadAllCategories(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllCategories(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllCategories.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllCategories.every(e=>e.selected)}hasSelected(){return this.AllCategories.some(e=>e.selected)}confirmDelete(){let n=this.AllCategories.filter(t=>t.selected).map(t=>t.category);n.length>0&&this.categoriesService.deleteCategories(n).subscribe({next:()=>{this.toastr.success("Categor\xEDas eliminadas con \xE9xito"),this.loadAllCategories(this.currentPage)},error:t=>{console.error("Error eliminando categor\xEDas",t),this.toastr.error("Hubo un error al eliminar las categor\xEDas","Error")}})}addCategory(){if(!this.newCategory||this.newCategory.trim()===""){this.toastr.warning("El nombre de la categor\xEDa no puede estar vac\xEDo","Advertencia");return}this.categoriesService.addCategory(this.newCategory).subscribe({next:e=>{this.toastr.success("Categor\xEDa a\xF1adida con \xE9xito","\xC9xito"),this.loadAllCategories(this.currentPage),this.newCategory=""},error:e=>{console.error("Error a\xF1adiendo categor\xEDa",e),this.toastr.error("Hubo un error al a\xF1adir la categor\xEDa","Error")}})}static{this.\u0275fac=function(n){return new(n||i)(B(xh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-categories"]],decls:118,vars:15,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newCategoryModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","editCategoryModal","tabindex","-1","aria-labelledby","editCategoryLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","editCategoryLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","newCategoryModal","tabindex","-1","aria-labelledby","newCategoryLabel","aria-hidden","true",1,"modal","fade"],["id","newCategoryLabel",1,"modal-title"],["for","newCategoryName",1,"form-label"],["type","text","id","newCategoryName","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","deleteCategoryModal","tabindex","-1","aria-labelledby","deleteCategoryModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteCategoryModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteCategoryModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-tag"],["data-bs-toggle","modal","data-bs-target","#editCategoryModal",1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Categor\xEDas"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Categor\xEDas "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),M(24,qv,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Nombre"),a(),s(33,"th"),c(34,"Asignaciones a Sal\xF3n"),a(),s(35,"th"),c(36,"Activo"),a(),s(37,"th",20),c(38,"Editar"),a()()(),s(39,"tbody"),M(40,$v,13,4,"tr",21),a()()(),s(41,"nav",22)(42,"ul",23)(43,"li",24)(44,"a",25),f("click",function(){return t.onPageChange(1)}),s(45,"span",26),c(46,"\xAB\xAB"),a()()(),s(47,"li",24)(48,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(49,"span",26),c(50,"\xAB"),a()()(),M(51,Jv,3,3,"li",28),s(52,"li",24)(53,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(54,"span",26),c(55,"\xBB"),a()()(),s(56,"li",24)(57,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(58,"span",26),c(59,"\xBB\xBB"),a()()()()()()()()(),h(60,"app-footer"),a()(),s(61,"div",31)(62,"div",32)(63,"div",33)(64,"div",34)(65,"h5",35),c(66,"Editar Categor\xEDa"),a(),h(67,"button",36),a(),s(68,"div",37)(69,"div",38),h(70,"img",39),a(),s(71,"div",40)(72,"div",41)(73,"label",42),c(74,"Nombre de la Categor\xEDa:"),a(),s(75,"input",43),A("ngModelChange",function(l){return T(t.selectedCategory,l)||(t.selectedCategory=l),l}),a()()()(),s(76,"div",44)(77,"button",45),f("click",function(){return t.updateCategoryName()}),c(78,"Guardar"),a(),s(79,"button",46),c(80,"Cancelar"),a()()()()(),s(81,"div",47)(82,"div",32)(83,"div",33)(84,"div",34)(85,"h5",48),c(86,"Nueva Categor\xEDa"),a(),h(87,"button",36),a(),s(88,"div",37)(89,"div",38),h(90,"img",39),a(),s(91,"div",40)(92,"div",41)(93,"label",49),c(94,"Introduce Categor\xEDa:"),a(),s(95,"input",50),A("ngModelChange",function(l){return T(t.newCategory,l)||(t.newCategory=l),l}),a()()()(),s(96,"div",44)(97,"button",51),f("click",function(){return t.addCategory()}),c(98,"Guardar"),a(),s(99,"button",46),c(100,"Cancelar"),a()()()()(),s(101,"div",52)(102,"div",32)(103,"div",33)(104,"div",34)(105,"h5",53),c(106,"Eliminar Categor\xEDas"),a(),h(107,"button",36),a(),s(108,"div",37)(109,"div",54),h(110,"img",39),a(),s(111,"p"),c(112,"\xBFEst\xE1s seguro que deseas eliminar las categor\xEDa/as seleccionadas?"),a()(),s(113,"div",44)(114,"button",51),f("click",function(){return t.confirmDelete()}),c(115,"Eliminar"),a(),s(116,"button",46),c(117,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(10),b("ngForOf",t.AllCategories),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),D("ngModel",t.selectedCategory),u(20),D("ngModel",t.newCategory))},dependencies:[ue,ce,me,Ve,fe,Ce,ge,_e,ve],styles:["#categoryName[_ngcontent-%COMP%], #newCategoryName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Eh=$a(cc());var wh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllSalonToExport(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/export/getAllSalon`,{params:o})}exportSalonsToExcel(){return this.http.get(`${this.baseUrl}/export/exportSalonsToExcel`,{responseType:"blob"})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Kv(i,r){i&1&&(s(0,"div",29)(1,"p"),c(2,"Descargando, por favor espera..."),a()())}function Zv(i,r){if(i&1&&(s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),Mt(7,"date"),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td"),c(13),a(),s(14,"td"),c(15),a()()),i&2){let e=r.$implicit;u(2),V(e.name),u(2),V(e.email),u(2),V(Ut(7,7,e.created_at,"dd-MM-yyyy")),u(3),V(e.phone),u(2),V(e.active?"Si":"No"),u(2),V(e.state),u(2),V(e.categories)}}function Yv(i,r){i&1&&(he(0),s(1,"span",31),c(2,"..."),a(),pe())}function Xv(i,r){if(i&1){let e=z();he(0),s(1,"a",32),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function eb(i,r){if(i&1&&(s(0,"li",22),M(1,Yv,3,0,"ng-container",30)(2,Xv,3,1,"ng-container",30),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Mh=(()=>{class i{constructor(e){this.exportService=e,this.AllSalon=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.searchText="",this.isLoading=!1}ngOnInit(){this.loadAllSalon(this.currentPage)}loadAllSalon(e){this.exportService.loadAllSalonToExport(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllSalon=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}onSearch(){this.loadAllSalon(this.currentPage),this.searchText.trim()===""&&this.loadAllSalon(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllSalon(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}exportToExcel(){this.isLoading=!0,this.exportService.exportSalonsToExcel().subscribe({next:e=>{(0,Eh.saveAs)(e,"actulizar_salones.xlsx"),this.isLoading=!1},error:e=>{console.error("Error exporting to Excel",e)}})}static{this.\u0275fac=function(n){return new(n||i)(B(wh))}}static{this.\u0275cmp=re({type:i,selectors:[["app-export"]],decls:65,vars:12,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["class","loading-indicator",4,"ngIf"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn","btn-secondary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],[1,"loading-indicator"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Exportar Negocios"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Negocios "),a(),s(17,"div",9)(18,"div",10)(19,"div",11),M(20,Kv,3,0,"div",12),s(21,"input",13),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(22,"div",14)(23,"button",15),f("click",function(){return t.exportToExcel()}),c(24,"Exportar a Excel"),a()()(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th"),c(30,"Nombre"),a(),s(31,"th"),c(32,"Email"),a(),s(33,"th"),c(34,"Creado"),a(),s(35,"th"),c(36,"Telefono"),a(),s(37,"th"),c(38,"Activo"),a(),s(39,"th"),c(40,"Estado"),a(),s(41,"th"),c(42,"Categor\xEDas"),a()()(),s(43,"tbody"),M(44,Zv,16,10,"tr",19),a()()(),s(45,"nav",20)(46,"ul",21)(47,"li",22)(48,"a",23),f("click",function(){return t.onPageChange(1)}),s(49,"span",24),c(50,"\xAB\xAB"),a()()(),s(51,"li",22)(52,"a",25),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(53,"span",24),c(54,"\xAB"),a()()(),M(55,eb,3,6,"li",26),s(56,"li",22)(57,"a",27),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(58,"span",24),c(59,"\xBB"),a()()(),s(60,"li",22)(61,"a",28),f("click",function(){return t.onPageChange(t.pageCount)}),s(62,"span",24),c(63,"\xBB\xBB"),a()()()()()()()()(),h(64,"app-footer"),a()()),n&2&&(u(20),b("ngIf",t.isLoading),u(),D("ngModel",t.searchText),u(23),b("ngForOf",t.AllSalon),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,me,fe,Ce,ge,_e,ve,Ft],styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:1000}.loading-indicator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em;color:#333}"]})}}return i})();var Th=$a(cc());var Dh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllSalonToExport(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/import/getAllSalon`,{params:o})}importUpdateExcel(e){let n=new FormData;return n.append("file",e,e.name),this.http.post(`${this.baseUrl}/import/updateExcel`,n,{responseType:"blob"})}uploadNewSalons(e){let n=new FormData;return n.append("file",e,e.name),this.http.post(`${this.baseUrl}/import/addExcel`,n)}downloadTemplateExcel(){return this.http.get(`${this.baseUrl}/import/downloadExcel`,{responseType:"blob"})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ib(i,r){i&1&&(s(0,"div",34)(1,"p"),c(2,"Procesando, por favor espera..."),a()())}function nb(i,r){if(i&1&&(s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),Mt(7,"date"),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td"),c(13),a(),s(14,"td"),c(15),a()()),i&2){let e=r.$implicit;u(2),V(e.name),u(2),V(e.email),u(2),V(Ut(7,7,e.created_at,"dd-MM-yyyy")),u(3),V(e.phone),u(2),V(e.active?"Si":"No"),u(2),V(e.state),u(2),V(e.categories)}}function rb(i,r){i&1&&(he(0),s(1,"span",36),c(2,"..."),a(),pe())}function ob(i,r){if(i&1){let e=z();he(0),s(1,"a",37),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function ab(i,r){if(i&1&&(s(0,"li",27),M(1,rb,3,0,"ng-container",35)(2,ob,3,1,"ng-container",35),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Ah=(()=>{class i{constructor(e,n){this.importService=e,this.toastr=n,this.AllSalon=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.isLoading=!1,this.searchText=""}ngOnInit(){this.loadAllSalon(this.currentPage)}loadAllSalon(e){this.importService.loadAllSalonToExport(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllSalon=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}onSearch(){this.loadAllSalon(this.currentPage),this.searchText.trim()===""&&this.loadAllSalon(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllSalon(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}updateWithExcel(e){let n=e.target.files[0];n&&(this.isLoading=!0,this.importService.importUpdateExcel(n).subscribe(t=>{this.isLoading=!1,t.error?alert("Error: "+t.error):(this.toastr.success('<i class="las la-info-circle"> Actualizaci\xF3n completada con \xE9xito.</i>'),setTimeout(()=>{window.location.reload()},2e3))},t=>{this.toastr.success('<i class="las la-info-circle"> Error: Revisar el fichero.</i>'),setTimeout(()=>{this.isLoading=!1,window.location.reload()},2e3)}))}downloadTemplateExcel(){this.isLoading=!0,this.importService.downloadTemplateExcel().subscribe({next:e=>{(0,Th.saveAs)(e,"plantilla_nuevos.xlsx"),this.isLoading=!1},error:e=>{console.error("Error exporting to Excel",e)}})}uploadNewSalons(e){let n=e.target.files[0];n&&(this.isLoading=!0,this.importService.uploadNewSalons(n).subscribe(t=>{console.log("File uploaded successfully",t),this.isLoading=!1,t.error?alert("Error: "+t.error):(this.toastr.success('<i class="las la-info-circle">Nuevos salones a\xF1adidos.</i>'),setTimeout(()=>{window.location.reload()},2e3))},t=>{console.error("Error uploading file",t),this.toastr.success('<i class="las la-info-circle"> Error: Revisar el fichero no cumple los requisitos</i>'),setTimeout(()=>{this.isLoading=!1},2e3)}))}static{this.\u0275fac=function(n){return new(n||i)(B(Dh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-import"]],decls:75,vars:12,consts:[["fileInput",""],["fileNewSalons",""],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["class","loading-indicator",4,"ngIf"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["type","file",2,"display","none",3,"change"],[1,"btn","btn-primary","me-2",2,"color","white",3,"click"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],[1,"loading-indicator"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){if(n&1){let o=z();h(0,"app-header"),s(1,"div",2),h(2,"app-aside"),s(3,"div",3)(4,"main")(5,"div",4)(6,"h1",5),c(7,"Panel de control"),a(),s(8,"ol",6)(9,"li",7),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Importar Negocios"),a()()(),s(13,"div",8)(14,"div",9),h(15,"img",10),c(16," Lista de Negocios "),a(),s(17,"div",11)(18,"div",12)(19,"div",13),M(20,ib,3,0,"div",14),s(21,"input",15),A("ngModelChange",function(d){return g(o),T(t.searchText,d)||(t.searchText=d),_(d)}),f("input",function(){return g(o),_(t.onSearch())}),a()(),s(22,"div",16)(23,"input",17,0),f("change",function(d){return g(o),_(t.updateWithExcel(d))}),a(),s(25,"button",18),f("click",function(){return g(o),_(t.downloadTemplateExcel())}),c(26,"Plantilla Nuevos"),a(),s(27,"input",17,1),f("change",function(d){return g(o),_(t.uploadNewSalons(d))}),a(),s(29,"button",19),f("click",function(){g(o);let d=Se(28);return _(d.click())}),c(30,"Subir Nuevos"),a(),s(31,"input",17,0),f("change",function(d){return g(o),_(t.updateWithExcel(d))}),a(),s(33,"button",20),f("click",function(){g(o);let d=Se(24);return _(d.click())}),c(34,"Actualizar Existentes"),a()()(),s(35,"div",21)(36,"table",22)(37,"thead",23)(38,"tr")(39,"th"),c(40,"Nombre"),a(),s(41,"th"),c(42,"Email"),a(),s(43,"th"),c(44,"Creado"),a(),s(45,"th"),c(46,"Telefono"),a(),s(47,"th"),c(48,"Activo"),a(),s(49,"th"),c(50,"Estado"),a(),s(51,"th"),c(52,"Categor\xEDas"),a()()(),s(53,"tbody"),M(54,nb,16,10,"tr",24),a()()(),s(55,"nav",25)(56,"ul",26)(57,"li",27)(58,"a",28),f("click",function(){return g(o),_(t.onPageChange(1))}),s(59,"span",29),c(60,"\xAB\xAB"),a()()(),s(61,"li",27)(62,"a",30),f("click",function(){return g(o),_(t.onPageChange(t.currentPage-1))}),s(63,"span",29),c(64,"\xAB"),a()()(),M(65,ab,3,6,"li",31),s(66,"li",27)(67,"a",32),f("click",function(){return g(o),_(t.onPageChange(t.currentPage+1))}),s(68,"span",29),c(69,"\xBB"),a()()(),s(70,"li",27)(71,"a",33),f("click",function(){return g(o),_(t.onPageChange(t.pageCount))}),s(72,"span",29),c(73,"\xBB\xBB"),a()()()()()()()()(),h(74,"app-footer"),a()()}n&2&&(u(20),b("ngIf",t.isLoading),u(),D("ngModel",t.searchText),u(33),b("ngForOf",t.AllSalon),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,me,fe,Ce,ge,_e,ve,Ft],styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:1000}.loading-indicator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em;color:#333}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Ih=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllAdministrators(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/administrators/getAllAdministrators`,{params:o})}getUserEmail(e){return this.http.get(`${this.baseUrl}/administrators/searchEmailInLive`,{params:{email:e}})}addnewAdmin(e){return console.log("email enviado desde el servicio",e),this.http.put(`${this.baseUrl}/administrators/addNewAdmin`,{email:e})}deleteAdministrators(e){return this.http.post(`${this.baseUrl}/administrators/deleteAdministrators`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function lb(i,r){i&1&&(s(0,"div",53)(1,"button",54),c(2,"Eliminar seleccionados"),a()())}function cb(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",55),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",56),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),Mt(10,"date"),a(),s(11,"td"),c(12),a(),s(13,"td")(14,"button",57),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editAdministrator(t.id_user))}),h(15,"i",58),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),V(e.email),u(2),V(fs(10,5,e.created_at)),u(3),V(e.phone)}}function db(i,r){i&1&&(he(0),s(1,"span",60),c(2,"..."),a(),pe())}function ub(i,r){if(i&1){let e=z();he(0),s(1,"a",61),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function mb(i,r){if(i&1&&(s(0,"li",24),M(1,db,3,0,"ng-container",59)(2,ub,3,1,"ng-container",59),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}function hb(i,r){if(i&1){let e=z();s(0,"li",64),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectEmail(t))}),h(1,"i",65),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function pb(i,r){if(i&1&&(s(0,"ul",62),M(1,hb,3,1,"li",63),a()),i&2){let e=x();u(),b("ngForOf",e.emailUsers)}}var kh=(()=>{class i{constructor(e,n,t){this.administratorsService=e,this.toastr=n,this.router=t,this.AllAdministrators=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.newAdmin=[],this.emailUsers=[],this.searchTermsEmail=new Te}ngOnInit(){this.loadAllAministrators(this.currentPage),this.searchTermsEmail.pipe(Rt(300),qt(),et(e=>e.length>=2?this.administratorsService.getUserEmail(e):ae([]))).subscribe({next:e=>{this.emailUsers=e.filter(n=>n&&n.email).map(n=>n.email),console.log("Resultados de la b\xFAsqueda de emails:",this.emailUsers)},error:e=>{console.error("Error al buscar emails:",e)}})}searchEmail(e){this.searchTermsEmail.next(e)}selectEmail(e){this.newAdmin.email=e,this.emailUsers=[]}loadAllAministrators(e){this.administratorsService.loadAllAdministrators(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllAdministrators=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading administrators",n)}})}addNewAdmin(e){this.administratorsService.addnewAdmin(e).subscribe({next:n=>{this.toastr.success("Administrador a\xF1adido con \xE9xito"),setTimeout(()=>{window.location.reload()},1e3)},error:n=>{console.error("Error al a\xF1adir el administrador:",n),this.toastr.success("Error, no se pudo a\xF1adir el administrador"),setTimeout(()=>{window.location.reload()},2e3)}})}onSearch(){this.loadAllAministrators(this.currentPage),this.searchText.trim()===""&&this.loadAllAministrators(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllAministrators(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllAdministrators.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllAdministrators.every(e=>e.selected)}hasSelected(){return this.AllAdministrators.some(e=>e.selected)}editAdministrator(e){this.router.navigate(["edit-administrator/edit",e])}confirmDelete(){let e=this.AllAdministrators.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn administrador para eliminar.");return}console.log("Administradores seleccionados para eliminar:",e);let n=e.map(t=>t.id_user);this.administratorsService.deleteAdministrators(n).subscribe({next:()=>{this.toastr.success("Administrador/es eliminados con \xE9xito"),this.loadAllAministrators(this.currentPage),this.AllAdministrators.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando administradores",t),this.toastr.error("Error al eliminar los adminsitradores seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(Ih),B(xe),B(qe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-administrators"]],decls:101,vars:15,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newAdminModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","newAdminModal","tabindex","-1","aria-labelledby","newAdminModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","newAdminModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"mb-3","position-relative"],["for","adminEmail",1,"form-label"],["type","email","id","adminEmail","name","email","required","","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group email-list",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","deleteAdministratorModal","tabindex","-1","aria-labelledby","deleteAdministratorModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteAdministratorModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteAdministratorModal","tabindex","-1","aria-labelledby","deleteAdministratorModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-user-gear"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"],[1,"list-group","email-list"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-user"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Administradores"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Administradores "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),M(24,lb,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Nombre"),a(),s(33,"th"),c(34,"Email"),a(),s(35,"th"),c(36,"Creado"),a(),s(37,"th"),c(38,"Telefono"),a(),s(39,"th",20),c(40,"Acciones"),a()()(),s(41,"tbody"),M(42,cb,16,7,"tr",21),a()()(),s(43,"nav",22)(44,"ul",23)(45,"li",24)(46,"a",25),f("click",function(){return t.onPageChange(1)}),s(47,"span",26),c(48,"\xAB\xAB"),a()()(),s(49,"li",24)(50,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(51,"span",26),c(52,"\xAB"),a()()(),M(53,mb,3,6,"li",28),s(54,"li",24)(55,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(56,"span",26),c(57,"\xBB"),a()()(),s(58,"li",24)(59,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(60,"span",26),c(61,"\xBB\xBB"),a()()()()()()()()(),h(62,"app-footer"),a()(),s(63,"div",31)(64,"div",32)(65,"div",33)(66,"div",34)(67,"h5",35),c(68,"Nuevo Administrador"),a(),h(69,"button",36),a(),s(70,"div",37)(71,"div",38),h(72,"img",39),a(),s(73,"form")(74,"div",40)(75,"label",41),c(76,"Introduce Email:"),a(),s(77,"input",42),A("ngModelChange",function(l){return T(t.newAdmin.email,l)||(t.newAdmin.email=l),l}),f("input",function(){return t.searchEmail(t.newAdmin.email)}),a(),M(78,pb,2,1,"ul",43),a(),s(79,"div",44)(80,"button",45),f("click",function(){return t.addNewAdmin(t.newAdmin.email)}),c(81,"A\xF1adir"),a(),s(82,"button",46),c(83,"Cancelar"),a()()()()()()(),s(84,"div",47)(85,"div",32)(86,"div",33)(87,"div",34)(88,"h5",48),c(89,"Eliminar Administradores"),a(),h(90,"button",36),a(),s(91,"div",37)(92,"div",49),h(93,"img",39),a(),s(94,"p"),c(95,"\xBFEst\xE1s seguro que deseas eliminar el administrador/es seleccionados?"),a()(),s(96,"div",50)(97,"button",51),f("click",function(){return t.confirmDelete()}),c(98,"Eliminar"),a(),s(99,"button",52),c(100,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(12),b("ngForOf",t.AllAdministrators),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),D("ngModel",t.newAdmin.email),u(),b("ngIf",t.emailUsers.length>0))},dependencies:[ue,ce,Je,me,Ve,fe,$e,ut,Ce,Ye,ge,_e,ve,Ft],styles:['@charset "UTF-8";.email-list[_ngcontent-%COMP%]{position:absolute;top:10;left:0;right:0;z-index:1000;max-height:150px;overflow-y:auto;background-color:#fff;border:1px solid rgba(0,0,0,.125);border-top:none;margin-top:0;padding-top:0}.email-list[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:gray}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#adminEmail[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}']})}}return i})();var Ph=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadContactMenssage(e,n,t,o=""){let l=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(l=l.set("search",t)),o&&(l=l.set("filterState",o)),this.http.get(`${this.baseUrl}/contact/getAllMessageContact`,{params:l})}updateStateContact(e,n){let t={id_contact:e,state:n};return this.http.put(`${this.baseUrl}/contact/updateStateContact`,t)}sendEmailContact(e,n,t,o,l){let d={id_contact:e,to:n,subject:t,message:o,replyMessage:l};return this.http.post(`${this.baseUrl}/contact/send-reply-contact`,d)}sendNewEmailContact(e,n,t){let o={to:e,subject:n,message:t};return this.http.post(`${this.baseUrl}/contact/send-new-email-contact`,o)}deleteContacts(e){return this.http.post(`${this.baseUrl}/contact/deleteContacts`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function gb(i,r){i&1&&(s(0,"div",79)(1,"button",80),c(2,"Eliminar seleccionados"),a()())}function _b(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",81),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td"),c(8),a(),s(9,"td"),c(10),a(),s(11,"td"),c(12),a(),s(13,"td"),c(14),a(),s(15,"td")(16,"button",82),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectedStateContact(t))}),h(17,"i",83),a()(),s(18,"td")(19,"button",84),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectMessageToReply(t))}),h(20,"i",85),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(2),V(e.name),u(2),V(e.email),u(2),V(e.phone),u(2),V(e.text),u(2),V(e.answer||"No contestado"),u(2),V(e.state)}}function vb(i,r){i&1&&(he(0),s(1,"span",87),c(2,"..."),a(),pe())}function bb(i,r){if(i&1){let e=z();he(0),s(1,"a",88),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function yb(i,r){if(i&1&&(s(0,"li",34),M(1,vb,3,0,"ng-container",86)(2,bb,3,1,"ng-container",86),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Fh=(()=>{class i{constructor(e,n){this.contactService=e,this.toastr=n,this.AllContactMenssage=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.selectStateContact={},this.selectedMessage={},this.replySubject="",this.replyMessage="",this.filterState="",this.addressNewEmail="",this.replyNewEmailSubject="",this.replyNewEmailMessage=""}ngOnInit(){this.loadAllContactMenssage(this.currentPage)}onFilterChange(){this.currentPage=1,this.loadAllContactMenssage(this.currentPage)}loadAllContactMenssage(e){this.contactService.loadContactMenssage(e,this.pageSize,this.searchText,this.filterState).subscribe({next:n=>{this.AllContactMenssage=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}sendReply(){if(!this.replyMessage.trim()){alert("El mensaje no puede estar vac\xEDo.");return}}selectMessageToReply(e){this.selectedMessage=e,this.replySubject="",this.replyMessage=""}onSearch(){this.loadAllContactMenssage(this.currentPage),this.searchText.trim()===""&&this.loadAllContactMenssage(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllContactMenssage(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllContactMenssage.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllContactMenssage.every(e=>e.selected)}hasSelected(){return this.AllContactMenssage.some(e=>e.selected)}selectedStateContact(e){this.selectStateContact={id_contact:e.id_contact,state:e.state}}confirUpdateStateContact(){this.contactService.updateStateContact(this.selectStateContact.id_contact,this.selectStateContact.state).subscribe({next:()=>{this.loadAllContactMenssage(this.currentPage),this.allSelected=!1},error:e=>{console.error("Error updating contact state",e)}})}sendReplyContact(){let e=this.selectedMessage.id_contact,n=this.selectedMessage.email,t=this.replySubject,o=this.replyMessage,l=this.replyMessage;this.contactService.sendEmailContact(e,n,t,o,l).subscribe(d=>{this.toastr.success("Correo enviado con \xE9xito"),this.loadAllContactMenssage(this.currentPage)},d=>{this.toastr.error("Error al enviar el correo"),console.error(d)})}sendNewEmailContact(){let e=this.addressNewEmail,n=this.replyNewEmailSubject,t=this.replyNewEmailMessage,o=this.replyNewEmailMessage;this.contactService.sendNewEmailContact(e,n,t).subscribe(l=>{this.toastr.success("Correo enviado con \xE9xito"),this.loadAllContactMenssage(this.currentPage),this.addressNewEmail="",this.replyNewEmailSubject="",this.replyNewEmailMessage=""},l=>{this.toastr.error("Error al enviar el correo"),console.error(l),this.addressNewEmail="",this.replyNewEmailSubject="",this.replyNewEmailMessage=""})}confirmDelete(){let e=this.AllContactMenssage.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn mensaje para eliminar.");return}console.log("Contactos seleccionados para eliminar:",e);let n=e.map(t=>t.id_contact);this.contactService.deleteContacts(n).subscribe({next:()=>{this.toastr.success("Mensajes eliminados con \xE9xito"),this.loadAllContactMenssage(this.currentPage),this.AllContactMenssage.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando contactos",t),this.toastr.error("Error al eliminar los mensajes seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(Ph),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-contact"]],decls:190,vars:22,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-2"],[1,"dropdown-menu","p-3",2,"min-width","200px"],[1,"mb-2"],["for","largeSelect",1,"form-label"],["id","largeSelect",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","Pendiente"],["value","En revisi\xF3n"],["value","Contestado"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#sendMailModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","changeStateModal","tabindex","-1","aria-labelledby","changeStateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","changeStateModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-4"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid","rounded-circle","shadow"],[1,"mb-3"],["for","state",1,"form-label"],["name","state","id","state","aria-label","Large select example",1,"form-select","form-select-lg","mb-3",3,"ngModelChange","ngModel"],[1,"text-end"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","replyModal","tabindex","-1","aria-labelledby","replyModalLabel","aria-hidden","true",1,"modal","fade"],["id","replyModalLabel",1,"modal-title"],[3,"ngSubmit"],["for","replyEmail",1,"form-label"],["type","email","id","replyEmail","name","replyEmail","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","replySubject",1,"form-label"],["type","text","id","replySubject","name","replySubject","placeholder","Escribe el asunto...",1,"form-control",3,"ngModelChange","ngModel"],["for","originalMessage",1,"form-label"],["id","originalMessage","name","originalMessage","readonly","","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["for","replyMessage",1,"form-label"],["id","replyMessage","name","replyMessage","rows","5","placeholder","Escribe tu respuesta...",1,"form-control",3,"ngModelChange","ngModel"],["id","sendMailModal","tabindex","-1","aria-labelledby","sendMailModalLabel","aria-hidden","true",1,"modal","fade"],["id","sendMailModalLabel",1,"modal-title"],["type","email","id","replyEmail","placeholder","Escribe el correo...","name","replyEmail",1,"form-control",3,"ngModelChange","ngModel"],["for","replyNewEmailMessage",1,"form-label"],["id","replyNewEmailMessage","name","replyNewEmailMessage","rows","5","placeholder","Escribe aqui...",1,"form-control",3,"ngModelChange","ngModel"],["id","deleteContactModal","tabindex","-1","aria-labelledby","deleteContactModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteContactModalLabel",1,"modal-title"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteContactModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],["title","Cambiar estado","data-bs-toggle","modal","data-bs-target","#changeStateModal",1,"btn","btn-dark","btn-icon",3,"click"],[1,"fas","fa-sync-alt"],["data-bs-toggle","modal","data-bs-target","#replyModal","title","Contestar",1,"btn","btn-dark","btn-icon",3,"click"],[1,"fas","fa-reply"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Contacto"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Mensajes "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"div",14)(23,"button",15),c(24," Filtro "),a(),s(25,"ul",16)(26,"li",17)(27,"label",18),c(28,"Estado"),a(),s(29,"select",19),A("ngModelChange",function(l){return T(t.filterState,l)||(t.filterState=l),l}),f("change",function(){return t.onFilterChange()}),s(30,"option",20),c(31,"Todos"),a(),s(32,"option",21),c(33,"Pendiente"),a(),s(34,"option",22),c(35,"En revisi\xF3n"),a(),s(36,"option",23),c(37,"Contestado"),a()()(),s(38,"li"),h(39,"hr",24),a()()(),s(40,"button",25),c(41,"Nuevo"),a()(),M(42,gb,3,0,"div",26),a(),s(43,"div",27)(44,"table",28)(45,"thead",29)(46,"tr")(47,"th")(48,"input",30),f("change",function(){return t.toggleAllSelection()}),a()(),s(49,"th"),c(50,"Nombre"),a(),s(51,"th"),c(52,"Email"),a(),s(53,"th"),c(54,"Telefono"),a(),s(55,"th"),c(56,"Mensaje"),a(),s(57,"th"),c(58,"Respuesta"),a(),s(59,"th"),c(60,"Estado"),a(),s(61,"th"),c(62,"Cambiar estado"),a(),s(63,"th"),c(64,"Contestar"),a()()(),s(65,"tbody"),M(66,_b,21,7,"tr",31),a()()(),s(67,"nav",32)(68,"ul",33)(69,"li",34)(70,"a",35),f("click",function(){return t.onPageChange(1)}),s(71,"span",36),c(72,"\xAB\xAB"),a()()(),s(73,"li",34)(74,"a",37),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(75,"span",36),c(76,"\xAB"),a()()(),M(77,yb,3,6,"li",38),s(78,"li",34)(79,"a",39),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(80,"span",36),c(81,"\xBB"),a()()(),s(82,"li",34)(83,"a",40),f("click",function(){return t.onPageChange(t.pageCount)}),s(84,"span",36),c(85,"\xBB\xBB"),a()()()()()()()()(),h(86,"app-footer"),a()(),s(87,"div",41)(88,"div",42)(89,"div",43)(90,"div",44)(91,"h5",45),c(92,"Cambiar estado email contacto"),a(),h(93,"button",46),a(),s(94,"div",47)(95,"div",48),h(96,"img",49),a(),s(97,"form")(98,"div",50)(99,"label",51),c(100,"Estado del mail de contacto"),a(),s(101,"select",52),A("ngModelChange",function(l){return T(t.selectStateContact.state,l)||(t.selectStateContact.state=l),l}),s(102,"option",21),c(103,"Pendiente"),a(),s(104,"option",22),c(105,"En revisi\xF3n"),a(),s(106,"option",23),c(107,"Contestado"),a()()(),s(108,"div",53)(109,"button",54),f("click",function(){return t.confirUpdateStateContact()}),c(110,"Guardar cambios"),a(),s(111,"button",55),c(112,"Cancelar"),a()()()()()()(),s(113,"div",56)(114,"div",42)(115,"div",43)(116,"div",44)(117,"h5",57),c(118,"Responder al Mensaje"),a(),h(119,"button",46),a(),s(120,"div",47)(121,"div",48),h(122,"img",49),a(),s(123,"form",58),f("ngSubmit",function(){return t.sendReply()}),s(124,"div",50)(125,"label",59),c(126,"Para:"),a(),s(127,"input",60),A("ngModelChange",function(l){return T(t.selectedMessage.email,l)||(t.selectedMessage.email=l),l}),a()(),s(128,"div",50)(129,"label",61),c(130,"Asunto:"),a(),s(131,"input",62),A("ngModelChange",function(l){return T(t.replySubject,l)||(t.replySubject=l),l}),a()(),s(132,"div",50)(133,"label",63),c(134,"Mensaje Original:"),a(),s(135,"textarea",64),A("ngModelChange",function(l){return T(t.selectedMessage.text,l)||(t.selectedMessage.text=l),l}),a()(),s(136,"div",50)(137,"label",65),c(138,"Respuesta:"),a(),s(139,"textarea",66),A("ngModelChange",function(l){return T(t.replyMessage,l)||(t.replyMessage=l),l}),a()(),s(140,"div",53)(141,"button",54),f("click",function(){return t.sendReplyContact()}),c(142,"Enviar Respuesta"),a(),s(143,"button",55),c(144,"Cancelar"),a()()()()()()(),s(145,"div",67)(146,"div",42)(147,"div",43)(148,"div",44)(149,"h5",68),c(150,"Nuevo Correo"),a(),h(151,"button",46),a(),s(152,"div",47)(153,"div",48),h(154,"img",49),a(),s(155,"form")(156,"div",50)(157,"label",59),c(158,"Para:"),a(),s(159,"input",69),A("ngModelChange",function(l){return T(t.addressNewEmail,l)||(t.addressNewEmail=l),l}),a()(),s(160,"div",50)(161,"label",61),c(162,"Asunto:"),a(),s(163,"input",62),A("ngModelChange",function(l){return T(t.replyNewEmailSubject,l)||(t.replyNewEmailSubject=l),l}),a()(),s(164,"div",50)(165,"label",70),c(166,"Mensaje:"),a(),s(167,"textarea",71),A("ngModelChange",function(l){return T(t.replyNewEmailMessage,l)||(t.replyNewEmailMessage=l),l}),a()(),s(168,"div",53)(169,"button",54),f("click",function(){return t.sendNewEmailContact()}),c(170,"Enviar Respuesta"),a(),s(171,"button",55),c(172,"Cancelar"),a()()()()()()(),s(173,"div",72)(174,"div",42)(175,"div",43)(176,"div",44)(177,"h5",73),c(178,"Eliminar Contacto"),a(),h(179,"button",46),a(),s(180,"div",47)(181,"div",74),h(182,"img",75),a(),s(183,"p"),c(184,"\xBFEst\xE1s seguro que deseas eliminar el contacto/s seleccionadas?"),a()(),s(185,"div",76)(186,"button",77),f("click",function(){return t.confirmDelete()}),c(187,"Eliminar"),a(),s(188,"button",78),c(189,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(9),D("ngModel",t.filterState),u(13),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(18),b("ngForOf",t.AllContactMenssage),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),D("ngModel",t.selectStateContact.state),u(26),D("ngModel",t.selectedMessage.email),u(4),D("ngModel",t.replySubject),u(4),D("ngModel",t.selectedMessage.text),u(4),D("ngModel",t.replyMessage),u(20),D("ngModel",t.addressNewEmail),u(4),D("ngModel",t.replyNewEmailSubject),u(4),D("ngModel",t.replyNewEmailMessage))},dependencies:[ue,ce,Je,Qe,Ke,me,Ve,je,fe,$e,Ce,Ye,ge,_e,ve],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Oh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadContacProffesionaltMenssage(e,n,t,o=""){let l=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(l=l.set("search",t)),o&&(l=l.set("filterState",o)),this.http.get(`${this.baseUrl}/contact-proffesional/getAllMessageContactProffesional`,{params:l})}updateStateContactProffesional(e,n){let t={id_contact:e,state:n};return console.log(t),this.http.put(`${this.baseUrl}/contact-proffesional/updateStateContactProffesional`,t)}sendEmailContactProffesional(e,n,t,o,l){let d={id_contact:e,to:n,subject:t,message:o,replyMessage:l};return this.http.post(`${this.baseUrl}/contact-proffesional/send-reply-contactProffesional`,d)}sendNewEmailContactProffesional(e,n,t){let o={to:e,subject:n,message:t};return this.http.post(`${this.baseUrl}/contact-proffesional/send-new-email-contactProffesional`,o)}deleteContactsProfessional(e){return this.http.post(`${this.baseUrl}/contact-proffesional/deleteContactsProfessional`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xb(i,r){i&1&&(s(0,"div",82)(1,"button",83),c(2,"Eliminar seleccionados"),a()())}function Sb(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",84),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td"),c(8),a(),s(9,"td"),c(10),a(),s(11,"td"),c(12),a(),s(13,"td"),c(14),a(),s(15,"td"),c(16),a(),s(17,"td"),c(18),a(),s(19,"td"),c(20),a(),s(21,"td"),c(22),a(),s(23,"td")(24,"button",85),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectedStateContactProffesional(t))}),h(25,"i",86),a()(),s(26,"td")(27,"button",87),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectMessageToReply(t))}),h(28,"i",88),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(2),V(e.name),u(2),V(e.email),u(2),V(e.phone),u(2),V(e.text),u(2),V(e.salon_name||"No definido"),u(2),V(e.province_name||"No definida"),u(2),V(e.city_name||"No definida"),u(2),V(e.address||"No definida"),u(2),V(e.answer||"No constestado"),u(2),V(e.state)}}function wb(i,r){i&1&&(he(0),s(1,"span",90),c(2,"..."),a(),pe())}function Eb(i,r){if(i&1){let e=z();he(0),s(1,"a",91),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Mb(i,r){if(i&1&&(s(0,"li",34),M(1,wb,3,0,"ng-container",89)(2,Eb,3,1,"ng-container",89),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Nh=(()=>{class i{constructor(e,n){this.contactProffesionalService=e,this.toastr=n,this.AllContactMenssage=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.replyMessage="",this.reply="",this.selectedContactProffesional={},this.selectedMessage={},this.replySubject="",this.filterState="",this.addressNewEmail="",this.replyNewEmailSubject="",this.replyNewEmailMessage=""}ngOnInit(){this.loadAllContactProffesionalMenssage(this.currentPage)}onFilterChange(){this.currentPage=1,this.loadAllContactProffesionalMenssage(this.currentPage)}loadAllContactProffesionalMenssage(e){this.contactProffesionalService.loadContacProffesionaltMenssage(e,this.pageSize,this.searchText,this.filterState).subscribe({next:n=>{this.AllContactMenssage=n.data,this.totalItems=n.totalItems,console.log("Mensajes cargados:",this.AllContactMenssage)},error:n=>{console.error("Error loading salons",n)}})}selectMessageToReply(e){this.selectedMessage=e,this.replySubject="",this.replyMessage=""}sendReply(){if(!this.replyMessage.trim()){alert("El mensaje no puede estar vac\xEDo.");return}console.log("Enviando respuesta:",{to:this.selectedMessage.email,subject:this.replySubject,message:this.replyMessage})}onSearch(){this.loadAllContactProffesionalMenssage(this.currentPage),this.searchText.trim()===""&&this.loadAllContactProffesionalMenssage(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllContactProffesionalMenssage(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllContactMenssage.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllContactMenssage.every(e=>e.selected)}hasSelected(){return this.AllContactMenssage.some(e=>e.selected)}deleteSelected(){this.AllContactMenssage=this.AllContactMenssage.filter(e=>!e.selected),this.allSelected=!1}selectedStateContactProffesional(e){this.selectedContactProffesional={id_contact:e.id_contact,state:e.state}}UpdateStateContactProffesional(){this.contactProffesionalService.updateStateContactProffesional(this.selectedContactProffesional.id_contact,this.selectedContactProffesional.state).subscribe({next:()=>{this.loadAllContactProffesionalMenssage(this.currentPage),this.allSelected=!1,this.toastr.success("Estado actualizado con \xE9xito")},error:e=>{console.error("Error updating contact state",e),this.toastr.error("Error al actualizar el estado del contacto profesional")}})}sendReplyContactProffesional(){let e=this.selectedMessage.id_contact,n=this.selectedMessage.email,t=this.replySubject,o=this.replyMessage,l=this.replyMessage;this.contactProffesionalService.sendEmailContactProffesional(e,n,t,o,l).subscribe(d=>{this.toastr.success("Correo enviado con \xE9xito"),this.loadAllContactProffesionalMenssage(this.currentPage)},d=>{this.toastr.error("Error al enviar el correo"),console.error(d)})}sendNewEmailContactProffesional(){let e=this.addressNewEmail,n=this.replyNewEmailSubject,t=this.replyNewEmailMessage;this.contactProffesionalService.sendNewEmailContactProffesional(e,n,t).subscribe(o=>{this.toastr.success("Correo enviado con \xE9xito"),this.loadAllContactProffesionalMenssage(this.currentPage)},o=>{this.toastr.error("Error al enviar el correo"),console.error(o)})}confirmDelete(){let e=this.AllContactMenssage.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn mensaje para eliminar.");return}console.log("Contactos seleccionados para eliminar:",e);let n=e.map(t=>t.id_contact);this.contactProffesionalService.deleteContactsProfessional(n).subscribe({next:()=>{this.toastr.success("Mensajes eliminados con \xE9xito"),this.loadAllContactProffesionalMenssage(this.currentPage),this.AllContactMenssage.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando contactos",t),this.toastr.error("Error al eliminar los mensajes seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(Oh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-contact-proffesional"]],decls:198,vars:22,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-2"],[1,"dropdown-menu","p-3",2,"min-width","200px"],[1,"mb-2"],["for","largeSelect",1,"form-label"],["id","largeSelect",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","Pendiente"],["value","En revisi\xF3n"],["value","Contestado"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#sendMailModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","changeStateModal","tabindex","-1","aria-labelledby","changeStateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","changeStateModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-4"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid","rounded-circle","shadow"],[1,"mb-3"],["for","state",1,"form-label"],["name","state","id","state","aria-label","Large select example",1,"form-select","form-select-lg","mb-3",3,"ngModelChange","ngModel"],[1,"text-end"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","replyModal","tabindex","-1","aria-labelledby","replyModalLabel","aria-hidden","true",1,"modal","fade"],["id","replyModalLabel",1,"modal-title"],[3,"ngSubmit"],["for","replyEmail",1,"form-label"],["type","email","id","replyEmail","name","replyEmail","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","replySubject",1,"form-label"],["type","text","id","replySubject","name","replySubject","placeholder","Escribe el asunto...",1,"form-control",3,"ngModelChange","ngModel"],["for","originalMessage",1,"form-label"],["id","originalMessage","name","originalMessage","readonly","","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["for","replyMessage",1,"form-label"],["id","replyMessage","name","replyMessage","rows","5","placeholder","Escribe tu respuesta...",1,"form-control",3,"ngModelChange","ngModel"],["id","sendMailModal","tabindex","-1","aria-labelledby","sendMailModalLabel","aria-hidden","true",1,"modal","fade"],["id","sendMailModalLabel",1,"modal-title"],["for","addressNewEmail",1,"form-label"],["type","email","id","replyEmail","placeholder","Escribe el correo...","name","addressNewEmail",1,"form-control",3,"ngModelChange","ngModel"],["for","replyNewEmailSubject",1,"form-label"],["type","text","id","replyNewEmailSubject","name","replyNewEmailSubject","placeholder","Escribe el asunto...",1,"form-control",3,"ngModelChange","ngModel"],["for","replyNewEmailMessage",1,"form-label"],["id","replyNewEmailMessage","name","replyNewEmailMessage","rows","5","placeholder","Escribe aqu\xED...",1,"form-control",3,"ngModelChange","ngModel"],["id","deleteContactProfessionalModal","tabindex","-1","aria-labelledby","deleteContactProfessionalModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteContactProfessionalModalLabel",1,"modal-title"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteContactProfessionalModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],["title","Cambiar estado","data-bs-toggle","modal","data-bs-target","#changeStateModal",1,"btn","btn-dark","btn-icon",3,"click"],[1,"fas","fa-sync-alt"],["data-bs-toggle","modal","data-bs-target","#replyModal","title","Contestar",1,"btn","btn-dark","btn-icon",3,"click"],[1,"fas","fa-reply"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Contacto Profesional"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Mensajes "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"div",14)(23,"button",15),c(24," Filtro "),a(),s(25,"ul",16)(26,"li",17)(27,"label",18),c(28,"Estado"),a(),s(29,"select",19),A("ngModelChange",function(l){return T(t.filterState,l)||(t.filterState=l),l}),f("change",function(){return t.onFilterChange()}),s(30,"option",20),c(31,"Todos"),a(),s(32,"option",21),c(33,"Pendiente"),a(),s(34,"option",22),c(35,"En revisi\xF3n"),a(),s(36,"option",23),c(37,"Contestado"),a()()(),s(38,"li"),h(39,"hr",24),a()()(),s(40,"button",25),c(41,"Nuevo"),a()(),M(42,xb,3,0,"div",26),a(),s(43,"div",27)(44,"table",28)(45,"thead",29)(46,"tr")(47,"th")(48,"input",30),f("change",function(){return t.toggleAllSelection()}),a()(),s(49,"th"),c(50,"Nombre"),a(),s(51,"th"),c(52,"Email"),a(),s(53,"th"),c(54,"Telefono"),a(),s(55,"th"),c(56,"Mensaje"),a(),s(57,"th"),c(58,"Nombre del salon"),a(),s(59,"th"),c(60,"Provincia"),a(),s(61,"th"),c(62,"Poblaci\xF3n"),a(),s(63,"th"),c(64,"Direcci\xF3n"),a(),s(65,"th"),c(66,"Respuesta"),a(),s(67,"th"),c(68,"Estado"),a(),s(69,"th"),c(70,"Cambiar estado"),a(),s(71,"th"),c(72,"Contestar"),a()()(),s(73,"tbody"),M(74,Sb,29,11,"tr",31),a()()(),s(75,"nav",32)(76,"ul",33)(77,"li",34)(78,"a",35),f("click",function(){return t.onPageChange(1)}),s(79,"span",36),c(80,"\xAB\xAB"),a()()(),s(81,"li",34)(82,"a",37),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(83,"span",36),c(84,"\xAB"),a()()(),M(85,Mb,3,6,"li",38),s(86,"li",34)(87,"a",39),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(88,"span",36),c(89,"\xBB"),a()()(),s(90,"li",34)(91,"a",40),f("click",function(){return t.onPageChange(t.pageCount)}),s(92,"span",36),c(93,"\xBB\xBB"),a()()()()()()()()(),h(94,"app-footer"),a()(),s(95,"div",41)(96,"div",42)(97,"div",43)(98,"div",44)(99,"h5",45),c(100,"Cambiar estado email contacto profesional"),a(),h(101,"button",46),a(),s(102,"div",47)(103,"div",48),h(104,"img",49),a(),s(105,"form")(106,"div",50)(107,"label",51),c(108,"Estado del mail de contacto profesional"),a(),s(109,"select",52),A("ngModelChange",function(l){return T(t.selectedContactProffesional.state,l)||(t.selectedContactProffesional.state=l),l}),s(110,"option",21),c(111,"Pendiente"),a(),s(112,"option",22),c(113,"En revisi\xF3n"),a(),s(114,"option",23),c(115,"Contestado"),a()()(),s(116,"div",53)(117,"button",54),f("click",function(){return t.UpdateStateContactProffesional()}),c(118,"Guardar cambios"),a(),s(119,"button",55),c(120,"Cancelar"),a()()()()()()(),s(121,"div",56)(122,"div",42)(123,"div",43)(124,"div",44)(125,"h5",57),c(126,"Responder al Mensaje"),a(),h(127,"button",46),a(),s(128,"div",47)(129,"div",48),h(130,"img",49),a(),s(131,"form",58),f("ngSubmit",function(){return t.sendReply()}),s(132,"div",50)(133,"label",59),c(134,"Para:"),a(),s(135,"input",60),A("ngModelChange",function(l){return T(t.selectedMessage.email,l)||(t.selectedMessage.email=l),l}),a()(),s(136,"div",50)(137,"label",61),c(138,"Asunto:"),a(),s(139,"input",62),A("ngModelChange",function(l){return T(t.replySubject,l)||(t.replySubject=l),l}),a()(),s(140,"div",50)(141,"label",63),c(142,"Mensaje Original:"),a(),s(143,"textarea",64),A("ngModelChange",function(l){return T(t.selectedMessage.text,l)||(t.selectedMessage.text=l),l}),a()(),s(144,"div",50)(145,"label",65),c(146,"Respuesta:"),a(),s(147,"textarea",66),A("ngModelChange",function(l){return T(t.replyMessage,l)||(t.replyMessage=l),l}),a()(),s(148,"div",53)(149,"button",54),f("click",function(){return t.sendReplyContactProffesional()}),c(150,"Enviar Respuesta"),a(),s(151,"button",55),c(152,"Cancelar"),a()()()()()()(),s(153,"div",67)(154,"div",42)(155,"div",43)(156,"div",44)(157,"h5",68),c(158,"Nuevo Correo"),a(),h(159,"button",46),a(),s(160,"div",47)(161,"div",48),h(162,"img",49),a(),s(163,"form")(164,"div",50)(165,"label",69),c(166,"Para:"),a(),s(167,"input",70),A("ngModelChange",function(l){return T(t.addressNewEmail,l)||(t.addressNewEmail=l),l}),a()(),s(168,"div",50)(169,"label",71),c(170,"Asunto:"),a(),s(171,"input",72),A("ngModelChange",function(l){return T(t.replyNewEmailSubject,l)||(t.replyNewEmailSubject=l),l}),a()(),s(172,"div",50)(173,"label",73),c(174,"Mensaje:"),a(),s(175,"textarea",74),A("ngModelChange",function(l){return T(t.replyNewEmailMessage,l)||(t.replyNewEmailMessage=l),l}),a()(),s(176,"div",53)(177,"button",54),f("click",function(){return t.sendNewEmailContactProffesional()}),c(178,"Enviar Respuesta"),a(),s(179,"button",55),c(180,"Cancelar"),a()()()()()()(),s(181,"div",75)(182,"div",42)(183,"div",43)(184,"div",44)(185,"h5",76),c(186,"Eliminar Contacto Profesional"),a(),h(187,"button",46),a(),s(188,"div",47)(189,"div",77),h(190,"img",78),a(),s(191,"p"),c(192,"\xBFEst\xE1s seguro que deseas eliminar el contacto/s profesionales seleccionados?"),a()(),s(193,"div",79)(194,"button",80),f("click",function(){return t.confirmDelete()}),c(195,"Eliminar"),a(),s(196,"button",81),c(197,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(9),D("ngModel",t.filterState),u(13),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(26),b("ngForOf",t.AllContactMenssage),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),D("ngModel",t.selectedContactProffesional.state),u(26),D("ngModel",t.selectedMessage.email),u(4),D("ngModel",t.replySubject),u(4),D("ngModel",t.selectedMessage.text),u(4),D("ngModel",t.replyMessage),u(20),D("ngModel",t.addressNewEmail),u(4),D("ngModel",t.replyNewEmailSubject),u(4),D("ngModel",t.replyNewEmailMessage))},dependencies:[ue,ce,Je,Qe,Ke,me,Ve,je,fe,$e,Ce,Ye,ge,_e,ve],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Bh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllReclamation(e,n,t,o=""){let l=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(l=l.set("search",t)),o&&(l=l.set("filterState",o)),this.http.get(`${this.baseUrl}/reclamations/getAllReclamations`,{params:l})}updateStateReclamation(e,n,t,o,l){let d={id_salon_reclamacion:e,id_user:n,salon_name:t,state:o,email:l};return this.http.put(`${this.baseUrl}/reclamations/updateStateReclamation`,d)}deleteReclamations(e){let n="http://localhost:3900/salon-reclamation/delete",t="https://api.mispeluquerias.com/salon-reclamation/delete";return this.http.post(n,{id_salon_reclamacion:e}).pipe(xt(o=>(console.log("Eliminando reclamacion/es..."),this.http.post(t,{id_salon_reclamacion:e}))))}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Tb(i,r){i&1&&(s(0,"div",65)(1,"button",66),c(2," Eliminar seleccionados "),a()())}function Ab(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",67),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",68),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td"),c(13),a(),s(14,"td"),c(15),a(),s(16,"td")(17,"a",69)(18,"img",70),f("error",function(t){g(e);let o=x();return _(o.setDefaultImg(t))}),a()()(),s(19,"td")(20,"a",69)(21,"img",71),f("error",function(t){g(e);let o=x();return _(o.setDefaultImg(t))}),a()()(),s(22,"td")(23,"a",69)(24,"img",72),f("error",function(t){g(e);let o=x();return _(o.setDefaultImg(t))}),a()()(),s(25,"td")(26,"a",69)(27,"img",72),f("error",function(t){g(e);let o=x();return _(o.setDefaultImg(t))}),a()()(),s(28,"td"),c(29),a(),s(30,"td")(31,"button",73),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectedReclamationUpdate(t))}),h(32,"i",74),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(3),Y(" ",e.user_name,""),u(2),V(e.email),u(2),V(e.salon_name),u(2),V(e.observation),u(2),V(e.city_name),u(2),V(e.province_name),u(2),b("href",e.dnifront_path,Ie),u(),b("src",e.dnifront_path,Ie),u(2),b("href",e.dniback_path,Ie),u(),b("src",e.dniback_path,Ie),u(2),b("href",e.file_path,Ie),u(),b("src",e.file_path,Ie),u(2),b("href",e.invoice_path,Ie),u(),b("src",e.invoice_path,Ie),u(2),V(e.state)}}function Ib(i,r){i&1&&(he(0),s(1,"span",76),c(2,"..."),a(),pe())}function kb(i,r){if(i&1){let e=z();he(0),s(1,"a",77),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Pb(i,r){if(i&1&&(s(0,"li",35),M(1,Ib,3,0,"ng-container",75)(2,kb,3,1,"ng-container",75),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Rh=(()=>{class i{constructor(e,n){this.reclamationService=e,this.toastr=n,this.AllReclamations=[],this.currentPage=1,this.pageSize=3,this.totalItems=0,this.allSelected=!1,this.searchText="",this.selectedReclamation={},this.filterState=""}ngOnInit(){this.loadAllReclamations(this.currentPage)}onFilterChange(){this.currentPage=1,this.loadAllReclamations(this.currentPage)}loadAllReclamations(e){this.reclamationService.loadAllReclamation(this.currentPage,this.pageSize,this.searchText,this.filterState).subscribe({next:n=>{this.AllReclamations=n.data,this.totalItems=n.pagination.totalItems},error:n=>{console.error("Error loading reclamations",n)}})}onSearch(){this.currentPage=1,this.loadAllReclamations(this.currentPage)}onPageChange(e){e>0&&e<=this.pageCount&&(this.currentPage=e,this.loadAllReclamations(this.currentPage))}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllReclamations.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllReclamations.every(e=>e.selected)}hasSelected(){return this.AllReclamations.some(e=>e.selected)}selectedReclamationUpdate(e){this.selectedReclamation={id_salon_reclamacion:e.id_salon_reclamacion,id_user:e.id_user,salon_name:e.salon_name,state:e.state,email:e.email},console.log("selectedReclamation:",this.selectedReclamation)}cofirmUpdateState(){this.reclamationService.updateStateReclamation(this.selectedReclamation.id_salon_reclamacion,this.selectedReclamation.id_user,this.selectedReclamation.salon_name,this.selectedReclamation.state,this.selectedReclamation.email).subscribe({next:()=>{this.loadAllReclamations(this.currentPage),this.allSelected=!1,this.toastr.success("Estado actualizado con \xE9xito")},error:e=>{this.toastr.error("Error al actualizar el estado del reclamaci\xF3n"),console.error("Error updating reclamation state",e)}})}confirmDelete(){let e=this.AllReclamations.filter(n=>n.selected).map(n=>n.id_salon_reclamacion);e.length>0?this.reclamationService.deleteReclamations(e).subscribe({next:()=>{this.AllReclamations=this.AllReclamations.filter(n=>!n.selected),this.allSelected=!1,this.toastr.success("Reclamaciones eliminadas correctamente")},error:n=>{console.error("Error eliminando reclamaciones",n),this.toastr.error("Error al eliminar reclamaciones")}}):this.toastr.warning("No hay reclamaciones seleccionadas para eliminar")}setDefaultImg(e){let n=e.target;n.src="../../../assets/img/file.png"}static{this.\u0275fac=function(n){return new(n||i)(B(Bh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-reclamations"]],decls:138,vars:15,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-4"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-8","d-flex","justify-content-md-end"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-2"],[1,"dropdown-menu","p-3",2,"min-width","200px"],[1,"mb-2"],["for","largeSelect",1,"form-label"],["id","largeSelect",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","Pendiente"],["value","En revisi\xF3n"],["value","Validado"],[1,"dropdown-divider"],["class","text-end mb-3",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-2"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","changeStateModal","tabindex","-1","aria-labelledby","changeStateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","changeStateModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-4"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid","rounded-circle","shadow"],[1,"mb-3"],["for","state",1,"form-label"],["name","state","id","state","aria-label","Large select example",1,"form-select","form-select-lg","mb-3",3,"ngModelChange","ngModel"],["value","Reclamado"],[1,"text-end"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","deleteReclamationModal","tabindex","-1","aria-labelledby","deleteReclamationModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteReclamationModalLabel",1,"modal-title"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"text-end","mb-3"],["data-bs-toggle","modal","data-bs-target","#deleteReclamationModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-regular","fa-clipboard"],["target","_blank",3,"href"],["alt","DNI Frontal",1,"fixed-size-img",3,"error","src"],["alt","DNI Trasero",1,"fixed-size-img",3,"error","src"],["alt","Documentos",1,"fixed-size-img",3,"error","src"],["data-bs-toggle","modal","data-bs-target","#changeStateModal",1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Administraci\xF3n / "),s(11,"b"),c(12,"Reclamaciones"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Reclamaciones "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"div",14)(23,"button",15),c(24," Filtro "),a(),s(25,"ul",16)(26,"li",17)(27,"label",18),c(28,"Estado"),a(),s(29,"select",19),A("ngModelChange",function(l){return T(t.filterState,l)||(t.filterState=l),l}),f("change",function(){return t.onFilterChange()}),s(30,"option",20),c(31,"Todos"),a(),s(32,"option",21),c(33,"Pendiente"),a(),s(34,"option",22),c(35,"En revisi\xF3n"),a(),s(36,"option",23),c(37,"Validado"),a()()(),s(38,"li"),h(39,"hr",24),a()()()()(),M(40,Tb,3,0,"div",25),s(41,"div",26)(42,"table",27)(43,"thead",28)(44,"tr")(45,"th")(46,"input",29),f("change",function(){return t.toggleAllSelection()}),a()(),s(47,"th",30),c(48,"Usuario"),a(),s(49,"th"),c(50,"Email"),a(),s(51,"th"),c(52,"Negocio"),a(),s(53,"th"),c(54,"Observacion"),a(),s(55,"th"),c(56,"Ciudad"),a(),s(57,"th"),c(58,"Provincia"),a(),s(59,"th"),c(60,"DNI Frontal"),a(),s(61,"th"),c(62,"DNI Trasero"),a(),s(63,"th"),c(64,"Documentos"),a(),s(65,"th"),c(66,"Facturas"),a(),s(67,"th"),c(68,"Estado"),a(),s(69,"th",31),c(70,"Cambiar Estado"),a()()(),s(71,"tbody"),M(72,Ab,33,16,"tr",32),a()()(),s(73,"nav",33)(74,"ul",34)(75,"li",35)(76,"a",36),f("click",function(){return t.onPageChange(1)}),s(77,"span",37),c(78,"\xAB\xAB"),a()()(),s(79,"li",35)(80,"a",38),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(81,"span",37),c(82,"\xAB"),a()()(),M(83,Pb,3,6,"li",39),s(84,"li",35)(85,"a",40),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(86,"span",37),c(87,"\xBB"),a()()(),s(88,"li",35)(89,"a",41),f("click",function(){return t.onPageChange(t.pageCount)}),s(90,"span",37),c(91,"\xBB\xBB"),a()()()()()()()()(),h(92,"app-footer"),a()(),s(93,"div",42)(94,"div",43)(95,"div",44)(96,"div",45)(97,"h5",46),c(98," Cambiar estado reclamaci\xF3n "),a(),h(99,"button",47),a(),s(100,"div",48)(101,"div",49),h(102,"img",50),a(),s(103,"form")(104,"div",51)(105,"label",52),c(106,"Estado de la reclamaci\xF3n"),a(),s(107,"select",53),A("ngModelChange",function(l){return T(t.selectedReclamation.state,l)||(t.selectedReclamation.state=l),l}),s(108,"option",21),c(109,"Pendiente"),a(),s(110,"option",22),c(111,"En revisi\xF3n"),a(),s(112,"option",23),c(113,"Validado"),a(),s(114,"option",54),c(115,"Reclamado"),a()()(),s(116,"div",55)(117,"button",56),f("click",function(){return t.cofirmUpdateState()}),c(118," Guardar cambios "),a(),s(119,"button",57),c(120," Cancelar "),a()()()()()()(),s(121,"div",58)(122,"div",43)(123,"div",44)(124,"div",45)(125,"h5",59),c(126,"Eliminar Reclamaciones"),a(),h(127,"button",47),a(),s(128,"div",48)(129,"div",60),h(130,"img",61),a(),s(131,"p"),c(132,"\xBFEst\xE1s seguro que deseas eliminar la reclamaci\xF3n/es seleccionadas?"),a()(),s(133,"div",62)(134,"button",63),f("click",function(){return t.confirmDelete()}),c(135,"Eliminar"),a(),s(136,"button",64),c(137,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(9),D("ngModel",t.filterState),u(11),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(26),b("ngForOf",t.AllReclamations),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),D("ngModel",t.selectedReclamation.state))},dependencies:[ue,ce,Je,Qe,Ke,me,Ve,je,fe,$e,Ce,Ye,ge,_e,ve],styles:['@charset "UTF-8";.fixed-size-img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover}.state-list[_ngcontent-%COMP%]{position:absolute;top:10;left:0;right:0;z-index:1000;max-height:150px;overflow-y:auto;background-color:#fff;border:1px solid rgba(0,0,0,.125);border-top:none;margin-top:0;padding-top:0}.state-list[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:gray}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}']})}}return i})();var Vh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllServices(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/services/getAllServices`,{params:o})}addNewService(e){return this.http.post(`${this.baseUrl}/services/addService`,e)}deleteServiceWithSubservice(e){return this.http.delete(`${this.baseUrl}/services/deleteServiceWithSubservices/${e}`)}updateSubservices(e,n){return this.http.put(`${this.baseUrl}/services/updateSubservices/${e}`,n)}updateCategories(e,n){return this.http.put(`${this.baseUrl}/services/updateCategories/${e}`,n)}updateService(e,n){return this.http.put(`${this.baseUrl}/services/updateService/${e}`,n)}getCategoryInLive(e){return this.http.get(`${this.baseUrl}/services/searchCategoryInLive`,{params:{category:e}})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ob(i,r){i&1&&(s(0,"div",77)(1,"button",78),c(2,"Eliminar seleccionados"),a()())}function Nb(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",79),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",80),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td",81)(11,"button",82),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectService(t))}),c(12,"Servicios"),a(),s(13,"button",83),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectSubService(t))}),c(14,"Subservicios"),a(),s(15,"button",84),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectCategories(t))}),c(16,"Categor\xEDas"),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(3),Y(" ",e.service_name,""),u(2),V(e.subservices||"Ninguno"),u(2),V(e.categories||"Ninguna")}}function Bb(i,r){i&1&&(he(0),s(1,"span",86),c(2,"..."),a(),pe())}function Rb(i,r){if(i&1){let e=z();he(0),s(1,"a",87),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Vb(i,r){if(i&1&&(s(0,"li",24),M(1,Bb,3,0,"ng-container",85)(2,Rb,3,1,"ng-container",85),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}function Lb(i,r){if(i&1){let e=z();s(0,"li",88),c(1),s(2,"button",89),f("click",function(){let t=g(e).index,o=x();return _(o.removeService(t))}),h(3,"i",90),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e," ")}}function Ub(i,r){if(i&1){let e=z();s(0,"li",93),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectCategory({name:t}))}),h(1,"i",94),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function jb(i,r){if(i&1&&(s(0,"ul",91),M(1,Ub,3,1,"li",92),a()),i&2){let e=x();u(),b("ngForOf",e.dataCategoryList)}}function Hb(i,r){if(i&1){let e=z();s(0,"li",88),c(1),s(2,"button",89),f("click",function(){let t=g(e).index,o=x();return _(o.removeCategory(t))}),h(3,"i",90),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e.name," ")}}var Lh=(()=>{class i{constructor(e,n){this.servicesService=e,this.toastr=n,this.AllServices=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.newService={name:"",subservices:[]},this.newSubservice=[],this.newSubserviceInput="",this.selectedService={service_name:""},this.selectedSubServices=[],this.subservicesAsText="",this.categoriesAsText="",this.selectedSubServiceIds=[],this.selectedCategoryIds=[],this.selectedCategory="",this.selectedCategories=[],this.searchTermsCategory=new Te,this.dataCategoryList=[],this.id_category="",this.newCategory={category:"",salons:[]}}ngOnInit(){this.loadAllServices(this.currentPage),this.searchTermsCategory.pipe(Rt(300),qt(),et(e=>e.length>=2?this.servicesService.getCategoryInLive(e):ae([]))).subscribe({next:e=>{this.dataCategoryList=e.map(n=>n.categories)},error:e=>{console.error("Error al buscar categorias:",e)}})}loadAllServices(e){this.servicesService.loadAllServices(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllServices=n.data,console.log("Servicios cargados:",this.AllServices),this.totalItems=n.totalItems},error:n=>{console.error("Error loading services",n)}})}searchCategory(e){this.searchTermsCategory.next(e)}removeCategory(e){this.newCategory.categories.splice(e,1)}selectService(e){this.selectedService=q({},e)}selectCategories(e){console.log("Contenido de service.categories:",e.categories),Array.isArray(e.categories)?this.selectedCategories=[...e.categories]:typeof e.categories=="string"?this.selectedCategories=e.categories.split(",").map(n=>n.trim()):this.selectedCategories=[],this.selectedService=q({},e),this.categoriesAsText=this.selectedCategories.join(", ")}selectCategory(e){this.newCategory.categories||(this.newCategory.categories=[]),this.newCategory.categories.push({name:e.name}),this.dataCategoryList=[],this.selectedCategory=""}selectSubService(e){Array.isArray(e.subservices)?this.selectedSubServices=[...e.subservices]:typeof e.subservices=="string"?this.selectedSubServices=e.subservices.split(",").map(n=>n.trim()):this.selectedSubServices=[],this.selectedService=q({},e),this.subservicesAsText=this.selectedSubServices.join(", ")}onSearch(){this.loadAllServices(this.currentPage),this.searchText.trim()===""&&this.loadAllServices(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllServices(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllServices.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllServices.every(e=>e.selected)}hasSelected(){return this.AllServices.some(e=>e.selected)}removeService(e){this.newSubservice.splice(e,1)}addSubservice(){this.newSubserviceInput.trim()!==""&&(this.newSubservice.push(this.newSubserviceInput.trim()),this.newSubserviceInput="")}addNewService(){this.newService.name.trim()!==""&&this.newSubservice.length>0?(this.newService.subservices=this.newSubservice,this.newService.categories=this.newCategory.categories,this.servicesService.addNewService(this.newService).subscribe({next:e=>{this.toastr.success("Servicios, subservicios y categor\xEDas a\xF1adidos con \xE9xito"),this.newService={name:"",subservices:[]},this.newSubservice=[],this.newCategory.categories=[],this.loadAllServices(this.currentPage)},error:e=>{this.toastr.error("No se pudo crear el servicio, subservicio y categor\xEDas"),console.error("Error creando el servicio:",e)}})):this.toastr.error("Por favor, rellene todos los campos")}deleteSelected(){let e=this.AllServices.filter(n=>n.selected);if(e.length===0){this.toastr.error("No hay servicios seleccionados para eliminar");return}e.forEach(n=>{this.servicesService.deleteServiceWithSubservice(n.id_service).subscribe({next:t=>{t.success?this.toastr.success("Servicio y subservicios eliminados con \xE9xito"):this.toastr.error("Error al eliminar el servicio")},error:t=>{this.toastr.error("Error al eliminar el servicio"),console.error("Error eliminando el servicio:",t)},complete:()=>{this.loadAllServices(this.currentPage)}})})}updateService(){if(this.selectedService.service_name.trim()===""){this.toastr.error("El nombre del servicio no puede estar vac\xEDo");return}let e={name:this.selectedService.service_name};this.servicesService.updateService(this.selectedService.id_service,e).subscribe({next:n=>{this.toastr.success("Servicio actualizado con \xE9xito"),this.loadAllServices(this.currentPage)},error:n=>{console.error("Error actualizando el servicio:",n),this.toastr.error("Error al actualizar el servicio")}})}updateSubService(){if(this.subservicesAsText.trim()===""||this.subservicesAsText===""){this.toastr.error("Error, Introduzca al menos un subservicio");return}this.selectedSubServices=this.subservicesAsText.split(",").map(n=>n.trim()).filter(n=>n.length>0);let e={subservices:this.selectedSubServices,id_service:this.selectedService.id_service,service_type_ids:this.selectedSubServiceIds};if(console.log("Servicio actualizado:",e),!this.selectedService.id_service){this.toastr.error("No se pudo actualizar los subservicios porque falta el ID del servicio");return}this.servicesService.updateSubservices(this.selectedService.service_type_ids,e).subscribe({next:n=>{this.toastr.success("Subservicios actualizados con \xE9xito"),this.loadAllServices(this.currentPage)},error:n=>{this.toastr.error("Error al actualizar los subservicios"),console.error("Error actualizando los subservicios:",n)}})}updateCategories(){if(this.categoriesAsText.trim()===""){this.toastr.error("Error, Introduzca al menos una categor\xEDa");return}this.selectedCategories=this.categoriesAsText.split(",").map(n=>n.trim()).filter(n=>n.length>0);let e={categories:this.selectedCategories,id_service:this.selectedService.id_service};if(console.log("Datos de categor\xEDas a enviar:",e),!this.selectedService.id_service){this.toastr.error("No se pudo actualizar las categor\xEDas porque falta el ID del servicio");return}this.servicesService.updateCategories(this.selectedService.id_service,e).subscribe({next:n=>{this.toastr.success("Categor\xEDas actualizadas con \xE9xito"),this.loadAllServices(this.currentPage)},error:n=>{this.toastr.error("Error al actualizar las categor\xEDas, por favor compruebe los nombres..."),console.error("Error actualizando las categor\xEDas:",n)}})}static{this.\u0275fac=function(n){return new(n||i)(B(Vh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-services"]],decls:172,vars:22,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newServiceModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],["colspan","2",1,"col-2"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","newServiceModal","tabindex","-1","aria-labelledby","newServiceModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","newServiceModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"mb-3","position-relative"],["for","newService",1,"form-label"],["type","text","id","newService","placeholder","Escriba aqu\xED...","name","newService","required","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["for","newSubservice",1,"form-label","mt-3"],["type","text","id","newSubservice","name","newSubservice","placeholder","Introduzca el nombre del subservicio y pulse enter para a\xF1adir...","autocomplete","off",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"mt-3"],[1,"form-label"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["for","categoryName",1,"form-label","mt-3"],["type","text","id","categoryName","name","category","placeholder","Introduzca el nombre de la categor\xEDa y haga clic para a\xF1adir...","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group email-list",4,"ngIf"],[1,"mt-3","mb-3"],[1,"d-flex","justify-content-end","me-2"],[1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","deleteServiceModal","tabindex","-1","aria-labelledby","deleteServiceModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteServiceModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","editServiceModal","tabindex","-1","aria-labelledby","editServiceLabel","aria-hidden","true",1,"modal","fade"],["id","editServiceLabel",1,"modal-title"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","serviceName",1,"form-label"],["type","text","id","editService","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-danger",3,"click"],["id","editSubServiceModal","tabindex","-1","aria-labelledby","editSubServiceLabel","aria-hidden","true",1,"modal","fade"],["id","editSubServiceLabel",1,"modal-title"],["for","subservicesTextarea",1,"form-label"],["id","subservicesTextarea","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["id","editCategoriesModal","tabindex","-1","aria-labelledby","editCategoriesLabel","aria-hidden","true",1,"modal","fade"],["id","editCategoriesLabel",1,"modal-title"],["for","categoriesTextarea",1,"form-label"],["id","categoriesTextarea","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteServiceModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-scissors"],[1,"d-flex","flex-wrap","flex-md-nowrap"],["data-bs-toggle","modal","data-bs-target","#editServiceModal",1,"btn","btn-dark","me-2","mb-2","mb-md-0","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#editSubServiceModal",1,"btn","btn-dark","mb-2","mb-md-0","btn-sm","me-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#editCategoriesModal",1,"btn","btn-dark","ms-2","ms-md-0","btn-sm",3,"click"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times"],[1,"list-group","email-list"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-tag"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Servicios"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Servicios "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),M(24,Ob,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Nombre"),a(),s(33,"th"),c(34,"Subservicios"),a(),s(35,"th"),c(36,"Categor\xEDas asociadas"),a(),s(37,"th",20),c(38,"Editar Servicios/Subservicios/Categor\xEDas"),a()()(),s(39,"tbody"),M(40,Nb,17,4,"tr",21),a()()(),s(41,"nav",22)(42,"ul",23)(43,"li",24)(44,"a",25),f("click",function(){return t.onPageChange(1)}),s(45,"span",26),c(46,"\xAB\xAB"),a()()(),s(47,"li",24)(48,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(49,"span",26),c(50,"\xAB"),a()()(),M(51,Vb,3,6,"li",28),s(52,"li",24)(53,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(54,"span",26),c(55,"\xBB"),a()()(),s(56,"li",24)(57,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(58,"span",26),c(59,"\xBB\xBB"),a()()()()()()()()(),h(60,"app-footer"),a()(),s(61,"div",31)(62,"div",32)(63,"div",33)(64,"div",34)(65,"h5",35),c(66,"Nuevo Servicio"),a(),h(67,"button",36),a(),s(68,"div",37)(69,"div",38),h(70,"img",39),a(),s(71,"div",40)(72,"label",41),c(73,"Introduce Servicio:"),a(),s(74,"input",42),A("ngModelChange",function(l){return T(t.newService.name,l)||(t.newService.name=l),l}),a(),s(75,"label",43),c(76,"Introduce el subservicio asociado:"),a(),s(77,"input",44),A("ngModelChange",function(l){return T(t.newSubserviceInput,l)||(t.newSubserviceInput=l),l}),f("keyup.enter",function(){return t.addSubservice()}),a(),s(78,"div",45)(79,"label",46),c(80,"Subservicios a\xF1adidos:"),a(),s(81,"ul",47),M(82,Lb,4,1,"li",48),a()(),s(83,"label",49),c(84,"Introduce categoria:"),a(),s(85,"input",50),A("ngModelChange",function(l){return T(t.selectedCategory,l)||(t.selectedCategory=l),l}),f("input",function(){return t.searchCategory(t.selectedCategory)}),a(),M(86,jb,2,1,"ul",51),s(87,"div",52)(88,"ul",47),M(89,Hb,4,1,"li",48),a()()(),s(90,"div",53)(91,"button",54),f("click",function(){return t.addNewService()}),c(92,"Guardar"),a(),s(93,"button",55),c(94," Cancelar "),a()()()()()(),s(95,"div",56)(96,"div",32)(97,"div",33)(98,"div",34)(99,"h5",57),c(100,"Eliminar Servicios"),a(),h(101,"button",36),a(),s(102,"div",37)(103,"div",58),h(104,"img",39),a(),s(105,"p"),c(106,"\xBFEst\xE1s seguro que deseas eliminar los servicios y subservicios seleccionados?"),a()(),s(107,"div",59)(108,"button",60),f("click",function(){return t.deleteSelected()}),c(109,"Eliminar"),a(),s(110,"button",61),c(111,"Cancelar"),a()()()()(),s(112,"div",62)(113,"div",32)(114,"div",33)(115,"div",34)(116,"h5",63),c(117,"Editar Servicio"),a(),h(118,"button",36),a(),s(119,"div",37)(120,"div",58),h(121,"img",39),a(),s(122,"div",64)(123,"div",65)(124,"label",66),c(125,"Introduce Nombre:"),a(),s(126,"input",67),A("ngModelChange",function(l){return T(t.selectedService.service_name,l)||(t.selectedService.service_name=l),l}),a()()()(),s(127,"div",59)(128,"button",68),f("click",function(){return t.updateService()}),c(129,"Guardar"),a(),s(130,"button",61),c(131,"Cancelar"),a()()()()(),s(132,"div",69)(133,"div",32)(134,"div",33)(135,"div",34)(136,"h5",70),c(137,"Editar Subservicios"),a(),h(138,"button",36),a(),s(139,"div",37)(140,"div",58),h(141,"img",39),a(),s(142,"div",64)(143,"div",65)(144,"label",71),c(145,"Subservicios:"),a(),s(146,"textarea",72),A("ngModelChange",function(l){return T(t.subservicesAsText,l)||(t.subservicesAsText=l),l}),a()()()(),s(147,"div",59)(148,"button",68),f("click",function(){return t.updateSubService()}),c(149,"Guardar"),a(),s(150,"button",61),c(151,"Cancelar"),a()()()()(),s(152,"div",73)(153,"div",32)(154,"div",33)(155,"div",34)(156,"h5",74),c(157,"Editar Categor\xEDas"),a(),h(158,"button",36),a(),s(159,"div",37)(160,"div",58),h(161,"img",39),a(),s(162,"div",64)(163,"div",65)(164,"label",75),c(165,"Categor\xEDas:"),a(),s(166,"textarea",76),A("ngModelChange",function(l){return T(t.categoriesAsText,l)||(t.categoriesAsText=l),l}),a()()()(),s(167,"div",59)(168,"button",60),f("click",function(){return t.updateCategories()}),c(169,"Guardar"),a(),s(170,"button",61),c(171,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(10),b("ngForOf",t.AllServices),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(18),D("ngModel",t.newService.name),u(3),D("ngModel",t.newSubserviceInput),u(5),b("ngForOf",t.newSubservice),u(3),D("ngModel",t.selectedCategory),u(),b("ngIf",t.dataCategoryList.length>0),u(3),b("ngForOf",t.newCategory.categories),u(37),D("ngModel",t.selectedService.service_name),u(20),D("ngModel",t.subservicesAsText),u(20),D("ngModel",t.categoriesAsText))},dependencies:[ue,ce,me,Ve,fe,ut,Ce,ge,_e,ve],styles:['@charset "UTF-8";#newService[_ngcontent-%COMP%], #newSubservice[_ngcontent-%COMP%], #editService[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#categoryName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}']})}}return i})();var Uh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getSalonById(e){return this.http.get(`${this.baseUrl}/edithome/getSalonById`,{params:{id_salon:e}})}getBrandByCategory(e,n){return this.http.get(`${this.baseUrl}/edithome/getBrandsByCategory`,{params:{category:n,term:e}})}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-aside`,{params:{permiso:e||""}})}updateSalon(e){return this.http.put(`${this.baseUrl}/edithome/updateSalon`,e)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edithome/getCitiesByProvince`,{params:{id_province:e.toString()}})}getProvinces(){return this.http.get(`${this.baseUrl}/edithome/getProvinces`)}responseReview(e){return this.http.put(`${this.baseUrl}/edithome/responseReview`,e)}updateSalonHours(e,n){let t=`${this.baseUrl}/edithome/updateSalonHours/${e}`,o={hours_old:n},l=new jt({"Content-Type":"application/json"});return this.http.put(t,o,{headers:l})}uploadImage(e){let n=`${this.baseUrl}/edithomeimages/uploadImg`;return this.http.post(n,e).pipe(xt(this.handleError))}handleError(e){let n="Unknown error!";return e.error instanceof ErrorEvent?n=`Error: ${e.error.message}`:n=`Error Code: ${e.status}
Message: ${e.message}`,mi(n)}getImages(e){return this.http.get(`${this.baseUrl}/edithomeimages/getImages`,{params:{salon_id:e.toString()}}).pipe(xt(this.handleError))}getUniqueServices(e){return this.http.get(`${this.baseUrl}/edithome/getUniqueServices/${e}`)}getSubservicesByService(e){return this.http.get(`${this.baseUrl}/edithome/getSubservicesByService`,{params:{id_service:e.toString()}})}deleteImage(e){return this.http.delete(`${this.baseUrl}/edithomeimages/deleteImage/${e}`)}updatePrincipalImage(e,n){let t={file_id:e,file_principal:n};return this.http.put(`${this.baseUrl}/edithomeimages/updatePrincipalImage`,t)}addService(e,n,t,o,l){let d={id_salon:e,id_service:n,id_service_type:t,time:o,price:l};return this.http.post(`${this.baseUrl}/edithome/addService`,d)}addCategorySalon(e,n){let t={id_salon:e,category:n};return this.http.post(`${this.baseUrl}/edithome/addCategorySalon`,t)}getServicesWithSubservices(e,n=1,t=10){let o=`${this.baseUrl}/edithome/getServicesWithSubservices?id_salon=${e}&page=${n}&pageSize=${t}`;return this.http.get(o)}deleteServiceWithSubservice(e){let n=`${this.baseUrl}/edithome/deleteServiceWithSubservices/${e}`;return this.http.delete(n)}getFaqByIdSalon(e,n=1,t=10){let o=`${this.baseUrl}/edithome/getFaqByIdSalon?id_salon=${e}&page=${n}&pageSize=${t}`;return this.http.get(o).pipe(xt(this.handleError))}updateFaq(e,n){return this.http.put(`${this.baseUrl}/edithome/updateQuestion`,{id_faq:e,answer:n})}deleteFaq(e){return this.http.post(`${this.baseUrl}/edithome/deleteQuestion`,{id_faq:e})}updateServiceWithSubservice(e){return this.http.put(`${this.baseUrl}/edithome/updateServiceWithSubservice`,e)}updateCategorySalon(e){return this.http.put(`${this.baseUrl}/edithome/updateCategorySalon`,e)}deleteCategorySalon(e){return this.http.delete(`${this.baseUrl}/edithome/deleteCategotySalon/${e}`)}loadReview(e){return this.http.get(`${this.baseUrl}/edithome/loadReview`,{params:{id_salon:e.toString()}})}updateReview(e){return this.http.put(`${this.baseUrl}/edithome/updateReview`,e)}deleteReview(e){return this.http.delete(`${this.baseUrl}/edithome/deleteReview`,{params:{id_review:e}})}getAllCategoriesBrands(){return this.http.get(`${this.baseUrl}/edithome/getAllCategoriesBrands`)}getAllCategoriesServices(){return this.http.get(`${this.baseUrl}/edithome/getAllCategoriesServices`)}getCategories(){return this.http.get(`${this.baseUrl}/edithome/getAllCategoriesSalon`)}getBrandByIdSalon(e){let n=new ye().set("id_salon",e.toString());return this.http.get(`${this.baseUrl}/edithome/getBrandsBySalon`,{params:n})}addBrandToSalon(e,n){return this.http.post(`${this.baseUrl}/edithome/addBrandToSalon`,{salonId:e,brandId:n})}deleteBrandById(e){return this.http.delete(`${this.baseUrl}/edithome/deleteBrandById`,{body:{id_brand:e}})}UpdateBrandsalon(e,n,t){return this.http.put(`${this.baseUrl}/edithome/UpdateBrandById`,{id_brand_salon:e,id_brand:n,id_salon:t})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var $b=["*"];var Jb=["dialog"];var jh={animation:!0,transitionTimerDelayMs:5},Qb=(()=>{class i{constructor(){this.animation=jh.animation}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Kb(i){let{transitionDelay:r,transitionDuration:e}=window.getComputedStyle(i),n=parseFloat(r),t=parseFloat(e);return(n+t)*1e3}function Hh(i){return typeof i=="string"}function dc(i){return i!=null}function Zb(i){return i&&i.then}function Wh(i){return(i||document.body).getBoundingClientRect()}function Yb(i){return r=>new ui(e=>{let n=l=>i.run(()=>e.next(l)),t=l=>i.run(()=>e.error(l)),o=()=>i.run(()=>e.complete());return r.subscribe({next:n,error:t,complete:o})})}var Xb=()=>{},{transitionTimerDelayMs:ey}=jh,Wa=new Map,Ki=(i,r,e,n)=>{let t=n.context||{},o=Wa.get(r);if(o)switch(n.runningTransition){case"continue":return ei;case"stop":i.run(()=>o.transition$.complete()),t=Object.assign(o.context,t),Wa.delete(r)}let l=e(r,n.animation,t)||Xb;if(!n.animation||window.getComputedStyle(r).transitionProperty==="none")return i.run(()=>l()),ae(void 0).pipe(Yb(i));let d=new Te,m=new Te,v=d.pipe(Jc(!0));Wa.set(r,{transition$:d,complete:()=>{m.next(),m.complete()},context:t});let p=Kb(r);return i.runOutsideAngular(()=>{let y=hi(r,"transitionend").pipe(St(v),kt(({target:E})=>E===r)),C=Gc(p+ey).pipe(St(v));qc(C,y,m).pipe(St(v)).subscribe(()=>{Wa.delete(r),i.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()};var hc=function(i){return i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowDown=40]="ArrowDown",i}(hc||{});var TM=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,r=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||r()):!1})();var ty=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zh(i){let r=Array.from(i.querySelectorAll(ty)).filter(e=>e.tabIndex!==-1);return[r[0],r[r.length-1]]}var iy=(i,r,e,n=!1)=>{i.runOutsideAngular(()=>{let t=hi(r,"focusin").pipe(St(e),we(o=>o.target));hi(r,"keydown").pipe(St(e),kt(o=>o.which===hc.Tab),ts(t)).subscribe(([o,l])=>{let[d,m]=zh(r);(l===d||l===r)&&o.shiftKey&&(m.focus(),o.preventDefault()),l===m&&!o.shiftKey&&(d.focus(),o.preventDefault())}),n&&hi(r,"click").pipe(St(e),ts(t),we(o=>o[1])).subscribe(o=>o.focus())})};var AM=new Date(1882,10,12),IM=new Date(2174,10,25);var kM=1e3*60*60*24;var pc=1080,ny=24*pc,ry=12*pc+793,PM=29*ny+ry,FM=11*pc+204;var oy=(()=>{class i{constructor(){this._ngbConfig=ee(Qb),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Tn=class{constructor(r,e,n){this.nodes=r,this.viewRef=e,this.componentRef=n}};var ay=(()=>{class i{constructor(){this._document=ee(Ze)}hide(){let e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,t=n.style,{overflow:o,paddingRight:l}=t;if(e>0){let d=parseFloat(window.getComputedStyle(n).paddingRight);t.paddingRight=`${d+e}px`}return t.overflow="hidden",()=>{e>0&&(t.paddingRight=l),t.overflow=o}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),sy=(()=>{class i{constructor(){this._nativeElement=ee(gt).nativeElement,this._zone=ee(Re)}ngOnInit(){this._zone.onStable.asObservable().pipe(Vt(1)).subscribe(()=>{Ki(this._zone,this._nativeElement,(e,n)=>{n&&Wh(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ki(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,t){n&2&&(Lt("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),W("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ri],decls:0,vars:0,template:function(n,t){},encapsulation:2})}}return i})(),za=class{update(r){}close(r){}dismiss(r){}},ly=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],cy=["animation","backdropClass"],uc=class{_applyWindowOptions(r,e){ly.forEach(n=>{dc(e[n])&&(r[n]=e[n])})}_applyBackdropOptions(r,e){cy.forEach(n=>{dc(e[n])&&(r[n]=e[n])})}update(r){this._applyWindowOptions(this._windowCmptRef.instance,r),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,r)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(St(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(St(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(r,e,n,t){this._windowCmptRef=r,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=t,this._closed=new Te,this._dismissed=new Te,this._hidden=new Te,r.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,l)=>{this._resolve=o,this._reject=l}),this.result.then(null,()=>{})}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(r);else{let e=this._beforeDismiss();Zb(e)?e.then(n=>{n!==!1&&this._dismiss(r)},()=>{}):e!==!1&&this._dismiss(r)}}_removeModalElements(){let r=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ae(void 0);r.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Qr(r,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},mc=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(mc||{}),dy=(()=>{class i{constructor(){this._document=ee(Ze),this._elRef=ee(gt),this._zone=ee(Re),this._closed$=new Te,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new wt,this.shown=new Te,this.hidden=new Te}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Hh(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Vt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:e}=this._elRef,n={animation:this.animation,runningTransition:"stop"},t=Ki(this._zone,e,()=>e.classList.remove("show"),n),o=Ki(this._zone,this._dialogEl.nativeElement,()=>{},n),l=Qr(t,o);return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){let e={animation:this.animation,runningTransition:"continue"},n=Ki(this._zone,this._elRef.nativeElement,(o,l)=>{l&&Wh(o),o.classList.add("show")},e),t=Ki(this._zone,this._dialogEl.nativeElement,()=>{},e);Qr(n,t).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{hi(e,"keydown").pipe(St(this._closed$),kt(t=>t.which===hc.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(mc.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let n=!1;hi(this._dialogEl.nativeElement,"mousedown").pipe(St(this._closed$),ht(()=>n=!1),et(()=>hi(e,"mouseup").pipe(St(this._closed$),Vt(1))),kt(({target:t})=>e===t)).subscribe(()=>{n=!0}),hi(e,"click").pipe(St(this._closed$)).subscribe(({target:t})=>{e===t&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!n&&this._zone.run(()=>this.dismiss(mc.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let n=e.querySelector("[ngbAutofocus]"),t=zh(e)[0];(n||t||e).focus()}}_restoreFocus(){let e=this._document.body,n=this._elWithFocus,t;n&&n.focus&&e.contains(n)?t=n:t=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>t.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Ki(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["ngb-modal-window"]],viewQuery:function(n,t){if(n&1&&ps(Jb,7),n&2){let o;Yr(o=Xr())&&(t._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,t){n&2&&(vt("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),Lt("modal d-block"+(t.windowClass?" "+t.windowClass:"")),W("fade",t.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ri],ngContentSelectors:$b,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(n,t){n&1&&(ms(),s(0,"div",1,0)(2,"div",2),hs(3),a()()),n&2&&Lt("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+t.fullscreenClass+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return i})(),uy=(()=>{class i{constructor(){this._applicationRef=ee(oi),this._injector=ee($t),this._environmentInjector=ee(Yt),this._document=ee(Ze),this._scrollBar=ee(ay),this._activeWindowCmptHasChanged=new Te,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new wt;let e=ee(Re);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let n=this._windowCmpts[this._windowCmpts.length-1];iy(e,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,t){let o=t.container instanceof HTMLElement?t.container:dc(t.container)?this._document.querySelector(t.container):this._document.body;if(!o)throw new Error(`The specified modal container "${t.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let l=new za;e=t.injector||e;let d=e.get(Yt,null)||this._environmentInjector,m=this._getContentRef(e,d,n,l,t),v=t.backdrop!==!1?this._attachBackdrop(o):void 0,p=this._attachWindowComponent(o,m.nodes),y=new uc(p,m,v,t.beforeDismiss);return this._registerModalRef(y),this._registerWindowCmpt(p),y.hidden.pipe(Vt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=C=>{y.close(C)},l.dismiss=C=>{y.dismiss(C)},l.update=C=>{y.update(C)},y.update(t),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),v&&v.instance&&v.changeDetectorRef.detectChanges(),p.changeDetectorRef.detectChanges(),y}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(n=>n.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let n=oo(sy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let t=oo(dy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(t.hostView),e.appendChild(t.location.nativeElement),t}_getContentRef(e,n,t,o,l){return t?t instanceof dd?this._createFromTemplateRef(t,o):Hh(t)?this._createFromString(t):this._createFromComponent(e,n,t,o,l):new Tn([])}_createFromTemplateRef(e,n){let t={$implicit:n,close(l){n.close(l)},dismiss(l){n.dismiss(l)}},o=e.createEmbeddedView(t);return this._applicationRef.attachView(o),new Tn([o.rootNodes],o)}_createFromString(e){let n=this._document.createTextNode(`${e}`);return new Tn([[n]])}_createFromComponent(e,n,t,o,l){let d=$t.create({providers:[{provide:za,useValue:o}],parent:e}),m=oo(t,{environmentInjector:n,elementInjector:d}),v=m.location.nativeElement;return l.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new Tn([[v]],m.hostView,m)}_setAriaHidden(e){let n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(t=>{t!==e&&t.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,n)=>{e?n.setAttribute("aria-hidden",e):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){let n=()=>{let t=this._modalRefs.indexOf(e);t>-1&&(this._modalRefs.splice(t,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{let n=this._windowCmpts.indexOf(e);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Gh=(()=>{class i{constructor(){this._injector=ee($t),this._modalStack=ee(uy),this._config=ee(oy)}open(e,n={}){let t=q(De(q({},this._config),{animation:this._config.animation}),n);return this._modalStack.open(this._injector,e,t)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var OM=new Ae("live announcer delay",{providedIn:"root",factory:()=>100});function hy(i,r){i&1&&(s(0,"div",316)(1,"p"),c(2,"Cargando, por favor espere... "),a(),s(3,"div",317)(4,"span",318),c(5,"Cargando..."),a()()())}function py(i,r){if(i&1){let e=z();s(0,"div",319)(1,"label",320),h(2,"i",321),c(3," Estado "),a(),s(4,"select",322),A("ngModelChange",function(t){g(e);let o=x();return T(o.salonData.state,t)||(o.salonData.state=t),_(t)}),s(5,"option",323),c(6,"Reclamado"),a(),s(7,"option",324),c(8,"Validado"),a(),s(9,"option",325),c(10,"No reclamado"),a()()()}if(i&2){let e=x();u(4),D("ngModel",e.salonData.state)}}function fy(i,r){i&1&&(s(0,"div",326),c(1," Nombre es obligatorio "),a())}function gy(i,r){i&1&&(s(0,"div",326),c(1," Introduzca un correo electr\xF3nico v\xE1lido "),a())}function _y(i,r){i&1&&(s(0,"div",326),c(1," Direcci\xF3n es obligatoria "),a())}function vy(i,r){i&1&&(s(0,"div",326),c(1," N\xFAmero de tel\xE9fono es obligatorio y debe tener 9 d\xEDgitos "),a())}function by(i,r){if(i&1&&(s(0,"option",327),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function yy(i,r){i&1&&(s(0,"div",326),c(1," Provincia es obligatoria "),a())}function Cy(i,r){if(i&1&&(s(0,"option",327),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function xy(i,r){i&1&&(s(0,"div",326),c(1," Ciudad es obligatoria "),a())}function Sy(i,r){i&1&&(s(0,"div",326),c(1," Latitud es obligatoria y debe ser un n\xFAmero v\xE1lido "),a())}function wy(i,r){i&1&&(s(0,"div",326),c(1," Longitud es obligatoria y debe ser un n\xFAmero v\xE1lido "),a())}function Ey(i,r){i&1&&(s(0,"div",326),c(1," El n\xFAmero de WhatsApp debe tener 9 d\xEDgitos "),a())}function My(i,r){if(i&1){let e=z();s(0,"div",330)(1,"input",331),A("ngModelChange",function(t){let o=g(e).index,l=x().$implicit;return T(l.hours[o].open,t)||(l.hours[o].open=t),_(t)}),a(),s(2,"input",332),A("ngModelChange",function(t){let o=g(e).index,l=x().$implicit;return T(l.hours[o].close,t)||(l.hours[o].close=t),_(t)}),a(),s(3,"button",333),f("click",function(){let t=g(e).index,o=x().$implicit,l=x();return _(l.removeHour(o,t))}),c(4," \u2212 "),a()()}if(i&2){let e=r.index,n=x().$implicit;u(),D("ngModel",n.hours[e].open),u(),D("ngModel",n.hours[e].close)}}function Dy(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),M(4,My,5,2,"div",328),a(),s(5,"td")(6,"button",329),f("click",function(){let t=g(e).$implicit,o=x();return _(o.addHour(t))}),c(7," + "),a()()()}if(i&2){let e=r.$implicit;u(2),V(e.name),u(2),b("ngForOf",e.hours),u(2),b("disabled",e.hours.length>=2)}}function Ty(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),Mt(5,"date"),a(),s(6,"td")(7,"div",334)(8,"img",335),f("click",function(){let t=g(e).$implicit,o=x();return _(o.openImage(t.file_url,t.file_name))}),a()()(),s(9,"td")(10,"div",336)(11,"input",337),f("change",function(){let t=g(e).index,o=x();return _(o.uniqueCheckboxSelectImge(t))}),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.file_principal,t)||(o.file_principal=t),_(t)}),a()()(),s(12,"td")(13,"button",338),f("click",function(){let t=g(e).$implicit,o=x();return _(o.setToDeleteImage(t.file_id))}),h(14,"i",339),c(15," Eliminar "),a()()()}if(i&2){let e=r.$implicit,n=r.index;u(2),V(e.file_name),u(2),V(Ut(5,6,e.file_fecha,"dd/MM/yyyy")),u(4),b("src",e.file_url,Ie)("alt",e.file_name),u(3),b("id","imgPrincipal"+n),D("ngModel",e.file_principal)}}function Ay(i,r){if(i&1){let e=z();s(0,"div",340),f("click",function(){g(e);let t=x();return _(t.closeImage())}),h(1,"img",341),a()}if(i&2){let e=x();u(),b("src",e.currentImageUrl,Ie)("alt",e.currentImageAlt)}}function Iy(i,r){if(i&1){let e=z();s(0,"tr",133)(1,"td"),c(2),a(),s(3,"td")(4,"div",107)(5,"button",343),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.onEditCategory(t))}),h(6,"i",344),a(),s(7,"button",345),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.openDeleteModal(t.id_category))}),h(8,"i",339),a()()()()}if(i&2){let e=r.$implicit;u(2),V(e.category)}}function ky(i,r){if(i&1&&(s(0,"tbody"),M(1,Iy,9,1,"tr",342),a()),i&2){let e=x();u(),b("ngForOf",e.salonData.categoriesArray)}}function Py(i,r){i&1&&(s(0,"tbody")(1,"tr",133)(2,"td"),c(3,"No hay categor\xEDas disponibles."),a()()())}function Fy(i,r){if(i&1){let e=z();s(0,"div",340),f("click",function(){g(e);let t=x();return _(t.closeImage())}),h(1,"img",341),a()}if(i&2){let e=x();u(),b("src",e.currentImageUrl,Ie)("alt",e.currentImageAlt)}}function Oy(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td"),c(8),a(),s(9,"td")(10,"button",346),f("click",function(){let t=g(e).$implicit,o=x();return _(o.openEditModal(t))}),h(11,"i",344),a(),s(12,"button",347),f("click",function(){let t=g(e).$implicit,o=x();return _(o.openDeleteServiceModal(t.id_salon_service_type))}),h(13,"i",348),a()()()}if(i&2){let e=r.$implicit;u(2),V(e.service_name),u(2),V(e.subservice_name),u(2),Y("",e.time," minutos"),u(2),Y("",e.price||"No definido"," \u20AC")}}function Ny(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),h(4,"img",349),a(),s(5,"td")(6,"button",350),f("click",function(){let t=g(e).$implicit,o=x();return _(o.setToUpdateBrand(t.name,t.imagePath,t.id_brand_salon))}),h(7,"i",344),a(),s(8,"button",351),f("click",function(){let t=g(e).$implicit,o=x();return _(o.setToDeleteBrand(t.id_brand))}),h(9,"i",339),a()()()}if(i&2){let e=r.$implicit;u(2),V(e.name),u(2),sn("alt",e.name),b("src",e.imagePath,Ie)}}function By(i,r){if(i&1&&(s(0,"option",327),c(1),a()),i&2){let e=r.$implicit;b("value",e.category),u(),Y(" ",e.category," ")}}function Ry(i,r){if(i&1){let e=z();s(0,"li",354),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectBrand(t))}),h(1,"i",355),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e.name," ")}}function Vy(i,r){if(i&1&&(s(0,"ul",352),M(1,Ry,3,1,"li",353),a()),i&2){let e=x();u(),b("ngForOf",e.brands)}}function Ly(i,r){if(i&1&&(s(0,"option",327),c(1),a()),i&2){let e=r.$implicit;b("value",e.category),u(),Y(" ",e.category," ")}}function Uy(i,r){if(i&1){let e=z();s(0,"li",354),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectUpdateBrand(t))}),h(1,"i",355),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e.name," ")}}function jy(i,r){if(i&1&&(s(0,"ul",352),M(1,Uy,3,1,"li",353),a()),i&2){let e=x();u(),b("ngForOf",e.brands)}}function Hy(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td")(6,"div",107)(7,"button",356),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editQuestion(t))}),h(8,"i",344),a(),s(9,"button",357),f("click",function(){let t=g(e).$implicit,o=x();return _(o.setToDeleteFaq(t.id_faq))}),h(10,"i",339),a()()()()}if(i&2){let e=r.$implicit;u(2),V(e.question),u(2),V(e.answer||"Sin contestar")}}function Wy(i,r){i&1&&(s(0,"th",187),c(1," Editar/Eliminar "),a())}function zy(i,r){if(i&1&&h(0,"i",362),i&2){let e=r.$implicit;b("ngClass",e)}}function Gy(i,r){if(i&1){let e=z();s(0,"td")(1,"button",363),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.openEditModalToReview(t))}),h(2,"i",344),a(),s(3,"button",364),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.setToDeleteReview(t.id_review))}),h(4,"i",339),a()()}}function qy(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td")(8,"div",358),M(9,zy,1,1,"i",359),a()(),s(10,"td")(11,"button",360),f("click",function(){let t=g(e).$implicit,o=x();return _(o.openResponseModalReview(t))}),h(12,"i",361),a()(),M(13,Gy,5,0,"td",135),a()}if(i&2){let e=r.$implicit,n=x();u(2),V(e.observacion),u(2),V(e.respuesta||"Sin contestar"),u(2),V(e.name),u(3),b("ngForOf",e.stars),u(4),b("ngIf",n.userPermiso==="admin")}}function $y(i,r){if(i&1&&(s(0,"option",327),c(1),a()),i&2){let e=r.$implicit;b("value",e.category),u(),Y(" ",e.category," ")}}function Jy(i,r){if(i&1&&(s(0,"option",327),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_service),u(),Y(" ",e.name," ")}}function Qy(i,r){if(i&1&&(s(0,"option",327),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_service_type),u(),Y(" ",e.name," ")}}function Ky(i,r){if(i&1&&(s(0,"option",365),c(1),a()),i&2){let e=r.$implicit;b("value",e.category),u(),Y(" ",e.category," ")}}function Zy(i,r){if(i&1&&(s(0,"option",366),c(1),a()),i&2){let e=r.$implicit;b("ngValue",e.category),u(),Y(" ",e.category," ")}}var qh=(()=>{class i{constructor(e,n,t,o,l,d){this.route=e,this.editHomeService=n,this.toastr=t,this.modalService=o,this.cdr=l,this.authService=d,this.getCategories=[],this.salonId=0,this.salonData={id_salon:"",id_city:"",id_province:"",plus_code:"",active:"",state:"",in_vacation:"",name:"",address:"",latitud:"",longitud:"",email:"",url:"",phone:"",map:"",iframe:"",image:"",about_us:"",score_old:"",hours_old:"",zip_code_old:"",overview_old:"",created_at:"",updated_at:"",deleted_at:"",categories:"",city_name:"",city_zip_code:"",sortedHours:[]},this.provinces=[],this.selectedImgUpdateBrand="",this.cities=[],this.additionalComments="",this.dias=[],this.getSalonServices=[],this.totalItems=0,this.isLoading=!1,this.currentPage=1,this.pageSize=10,this.selectedFile=null,this.images=[],this.ratings={service:[!1,!1,!1,!1,!1],quality:[!1,!1,!1,!1,!1],cleanliness:[!1,!1,!1,!1,!1],speed:[!1,!1,!1,!1,!1]},this.fileDescription="",this.fileGroup="",this.filePrincipal=!1,this.fileActive=!0,this.currentImageUrl="",this.currentImageAlt="",this.isImageOpen=!1,this.selectedBrandImage="",this.services=[],this.newServiceName="",this.updateServiceName="",this.newSubservices="",this.updateSubservices="",this.newServiceTime=0,this.updateServiceTime=0,this.newServicePrice="0.00",this.updateServicePrice="0.00",this.selectedService={},this.selectedSubservice={},this.selectedIdBrandSalon=0,this.selectedNewBrand="",this.selectedUpdateBrand="",this.totalPages=1,this.getSalonDataSelect=[],this.faqByIdSalon=[],this.editAnswerText="",this.editQuestionText="",this.reviews=[],this.editRating="",this.editReviewText="",this.responseReviewText="",this.averageRating=0,this.averageRatingStart=0,this.getSalonSubservices=["Seleccione una opci\xF3n"],this.selectedServiceId=null,this.selectedServiceName=null,this.selectedSubserviceName=null,this.idSalonServiceType=null,this.selectedCategory={},this.selectedUpdatedCategoryBrand="",this.selectedUpdateIdBrandCategory={},this.oldCategory="",this.userPermiso="",this.brands=[],this.responseText="",this.selectedBrandId="",this.selectedUpdateBrandIdName="",this.selectedSalonId="",this.userType=null,this.days=[{name:"Lunes",hours:[]},{name:"Martes",hours:[]},{name:"Mi\xE9rcoles",hours:[]},{name:"Jueves",hours:[]},{name:"Viernes",hours:[]},{name:"S\xE1bado",hours:[]},{name:"Domingo",hours:[]}]}ngOnInit(){this.loadData(),this.route.paramMap.subscribe(e=>{let n=e.get("id");this.salonId=n?+n:0,this.loadProvinces(),this.loadImages(),this.getServicesWithSubservices(),this.getFaqByIdSalon(),this.getReviewsById(),this.getCategoriesModal(),this.selectedCategory=""}),this.getUserPermiso(),this.getAllCategoriesBrands(),this.getBrandsBySalon(),this.getAllCategoriesServices(),this.authService.getUserType().subscribe(e=>{this.userType=e,console.log("Tipo de usuario obtenido:",this.userType)},e=>{console.error("Error al obtener el tipo de usuario:",e)})}getUserPermiso(){this.editHomeService.getUserPermiso().subscribe({next:e=>{this.userPermiso=e.permiso},error:e=>{console.error("Error al obtener el permiso del usuario:",e)}})}getSalonUrl(){return!this.salonData||!this.salonData.name?"#":`https://www.mispeluquerias.com/centro/${this.salonData.name.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-")}/${this.salonData.id_salon}`}generateStars(e){return Array(5).fill(0).map((n,t)=>t<Math.floor(e)?"fas fa-star":t===Math.floor(e)&&e%1!==0?"fas fa-star-half-alt":"far fa-star").reverse()}openImage(e,n){this.currentImageUrl=e,this.currentImageAlt=n,this.isImageOpen=!0}closeImage(){this.isImageOpen=!1}loadProvinces(){this.editHomeService.getProvinces().subscribe(e=>{this.provinces=e.data,this.salonId&&this.getSalonData(this.salonId)},e=>{console.error("Error fetching provinces:",e)})}generateStarRatingArray(e){let t=Math.floor(e),o=e%1>=.5?1:0,l=5-t-o;return[...Array(t).fill(1),...Array(o).fill(.5),...Array(l).fill(0)]}loadData(){this.isLoading=!0,this.editHomeService.getSalonById(this.salonId).subscribe(e=>{this.salonData=e.data,this.isLoading=!1},e=>{this.isLoading=!1})}getSalonData(e){this.editHomeService.getSalonById(e).subscribe(n=>{if(this.salonData=n.data,this.averageRatingStart=this.salonData.average_rating||0,this.salonData.categories&&this.salonData.categories.trim()!=="")try{let t=`[${this.salonData.categories.replace(/\\/g,"")}]`,o=JSON.parse(t);o.length===1&&o[0].id_category===null?this.salonData.categoriesArray=[]:this.salonData.categoriesArray=o}catch(t){console.error("Error parsing categories:",t),this.salonData.categoriesArray=[]}else this.salonData.categoriesArray=[];if(this.salonData.id_province&&this.onProvinceChange(this.salonData.id_province,!0),this.salonData.hours_old)try{let t=this.salonData.hours_old.split("; ").map(o=>{let[l,d]=o.split(": ");return{day:l.trim(),hours:d?d.split(", ").map(m=>{let[v,p]=m.split("-");return{open:v.trim(),close:p.trim()}}):[]}});this.salonData.hours=t,this.days.forEach(o=>{let l=t.find(d=>d.day===o.name);o.hours=l?l.hours:[]})}catch(t){console.error("Error parsing hours:",t),this.salonData.hours=[]}},n=>{console.error("Error fetching salon data:",n)})}updateRatings(e,n){if(e[n])for(let t=0;t<=n;t++)e[t]=!0;else for(let t=n+1;t<e.length;t++)e[t]=!1}addHour(e){e.hours.length<2&&e.hours.push({open:"",close:""})}removeHour(e,n){e.hours.splice(n,1)}saveHours(){let n=this.days.map(t=>({day:t.name,hours:t.hours.filter(o=>o.open&&o.close)})).map(t=>`${t.day}: ${t.hours.map(o=>`${o.open}-${o.close}`).join(", ")}`).join("; ");this.editHomeService.updateSalonHours(this.salonId,n).subscribe(t=>{this.toastr.success("Horarios guardados correctamente"),console.log("Horas guardadas:",n)},t=>{this.toastr.error("Error al guardar los horarios"),console.error("Error al guardar los horarios:",t)})}updateSalon(){if(!this.salonData.id_city){this.toastr.warning("Por favor, seleccione una ciudad para actualizar los datos");return}if(!this.salonData.name){this.toastr.warning("Por favor, ingrese el nombre del sal\xF3n");return}if(!this.salonData.email){this.toastr.warning("Por favor, ingrese el correo electr\xF3nico del sal\xF3n");return}if(!this.salonData.address){this.toastr.warning("Por favor, ingrese la direcci\xF3n del sal\xF3n");return}if(!this.salonData.phone){this.toastr.warning("Por favor, ingrese el n\xFAmero de tel\xE9fono del sal\xF3n");return}if(!this.salonData.id_province){this.toastr.warning("Por favor, seleccione una provincia");return}if(!this.salonData.latitud){this.toastr.warning("Por favor, ingrese la latitud");return}if(!this.salonData.longitud){this.toastr.warning("Por favor, ingrese la longitud");return}console.log(this.salonData),this.editHomeService.updateSalon(this.salonData).subscribe(e=>{console.log("Salon updated successfully",e),this.toastr.success('<i class="las la-info-circle"> Cambios realizados con \xE9xito</i>')},e=>{console.error("Error updating salon",e),this.toastr.error('<i class="las la-info-circle"> No se realizaron los cambios</i>'),this.getSalonData(this.salonId)})}onProvinceChange(e,n=!1){this.isLoading=!0,n||(this.salonData.id_city="",this.salonData.city_name=""),this.editHomeService.getCitiesByProvince(e).subscribe({next:t=>{if(this.cities=t.data,n&&this.salonData.id_city){let o=this.cities.find(l=>l.id_city===this.salonData.id_city);o&&(this.salonData.city_name=o.city_name)}},error:t=>{console.error("Error al cargar las ciudades:",t)},complete:()=>{this.isLoading=!1}})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.salonData.city_name=n.city_name,this.salonData.id_city=n.id_city)}toggleManana(e){e.cerradoManana&&(e.mananaInicio="",e.mananaFin="")}toggleTarde(e){e.cerradoTarde&&(e.tardeInicio="",e.tardeFin="")}onFileSelected(e){this.selectedFile=e.target.files[0]}onUpload(){if(!this.selectedFile){this.toastr.error('<i class="las la-info-circle">Por favor, seleccione una imagen primero.</i>');return}let e=new FormData;e.append("image",this.selectedFile),e.append("file_name",this.selectedFile.name),e.append("file_description",this.fileDescription),e.append("file_group",this.fileGroup),e.append("file_principal",this.filePrincipal?"1":"0"),e.append("file_active",this.fileActive?"1":"0"),e.append("salon_id",this.salonId.toString()),this.editHomeService.uploadImage(e).subscribe(n=>{console.log("Image uploaded successfully",n),this.loadImages()},n=>console.error("Error uploading image",n))}loadImages(){this.editHomeService.getImages(this.salonId).subscribe(e=>{e.success?this.images=e.data:console.error("Error fetching images",e)},e=>{console.error("Error fetching images",e)})}setToDeleteImage(e){this.idImageToDelete=e}confirmDeleteImage(){this.editHomeService.deleteImage(this.idImageToDelete).subscribe(e=>{this.toastr.success("Imagen eliminada con \xE9xito"),this.loadImages()},e=>{this.toastr.error("Error al eliminar la imagen"),console.error("Error deleting image",e)})}uniqueCheckboxSelectImge(e){let n=this.images[e];n.file_principal&&this.images.forEach((t,o)=>{o!==e&&(t.file_principal=!1,this.updatePrincipalmage(t.file_id,!1))}),this.updatePrincipalmage(n.file_id,n.file_principal)}updatePrincipalmage(e,n){this.editHomeService.updatePrincipalImage(e,n).subscribe({next:t=>{},error:t=>{console.error("Failed to update image status",t)}})}getUniqueServices(e){this.editHomeService.getUniqueServices(e).subscribe(n=>{n.success?(this.getSalonDataSelect=n.data,this.newServiceName="",this.newSubservices=""):console.error("Error fetching services",n)},n=>{console.error("Error fetching services ",n)})}onServiceSelect(e){let n=e.target;this.selectedServiceId=+n.value;let t=this.getSalonDataSelect.find(o=>o.id_service===this.selectedServiceId);t&&(this.selectedServiceName=t.name),this.updateSubservices="",this.getSubservicesByService(this.selectedServiceId),console.log("ID del servicio seleccionado:",this.selectedServiceId),console.log("Nombre del servicio seleccionado:",this.selectedServiceName)}getSubservicesByService(e){this.editHomeService.getSubservicesByService(e).subscribe(n=>{n.success?(this.getSalonSubservices=n.data,console.log("Subservicios cargados:",this.getSalonSubservices)):console.error("Error al cargar los subservicios",n)},n=>{console.error("Error al obtener subservicios",n)})}addService(){if(!this.selectedServiceName){this.toastr.error("Por favor, selecciona un servicio v\xE1lido.");return}if(this.selectedSubservice===null||this.selectedSubservice===void 0||this.selectedSubservice===""){this.toastr.error("El Subservicio seleccionado es necesario para la actualizaci\xF3n.");return}if(this.newServiceTime===null||this.newServiceTime===void 0||this.newServiceTime<=0){this.toastr.error("El tiempo del servicio debe ser un valor v\xE1lido y mayor a cero.");return}if(this.newServicePrice===null||this.newServicePrice===void 0){this.toastr.error("El precio tiene que ser mayor o igual a 0");return}this.editHomeService.addService(this.salonId,this.selectedServiceId,this.newSubservices,this.newServiceTime,this.newServicePrice).subscribe(e=>{e.success?(this.toastr.success("Servicio agregado con \xE9xito"),this.getServicesWithSubservices()):this.toastr.error("Error al agregar el servicio")},e=>{console.error("Error adding service:",e),this.toastr.error("Error al agregar el servicio,compruebe si el servicio ya esta en su lista")})}getServicesWithSubservices(){this.editHomeService.getServicesWithSubservices(this.salonId).subscribe(e=>{e.data?(this.getSalonServices=e.data,this.getSalonServices.length===0&&console.warn("No hay servicios disponibles.")):(console.error("Formato de respuesta incorrecto",e),this.getSalonServices=[])},e=>{console.error("Error al obtener servicios con subservicios",e)})}changePage(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.getServicesWithSubservices())}getPagesArray(){return Array(this.totalPages).fill(0).map((e,n)=>n+1)}deleteServiceWithSubservice(e){confirm("\xBFEst\xE1s seguro de que quieres eliminar este servicio?")&&this.editHomeService.deleteServiceWithSubservice(e).subscribe(n=>{n.success?(this.getServicesWithSubservices(),this.toastr.success("Servicio eliminado con \xE9xito")):this.toastr.error("Error al eliminar el servicio")},n=>{console.error("Error deleting service:",n),this.toastr.error("Error al eliminar el servicio")})}updateQuestion(){let e={id_faq:this.faqToEdit.id_faq,answer:this.editAnswerText||""};this.editHomeService.updateFaq(e.id_faq,e.answer).subscribe(n=>{this.toastr.success("Pregunta respondida con \xE9xito"),this.getFaqByIdSalon()},n=>console.error("Error actualizando la pregunta",n))}getFaqByIdSalon(){this.editHomeService.getFaqByIdSalon(this.salonId,this.currentPage,this.pageSize).subscribe(e=>{e.success?(this.faqByIdSalon=e.data,this.totalItems=e.total,this.totalPages=Math.ceil(this.totalItems/this.pageSize)):console.error("Error fetching FAQs",e)},e=>{console.error("Error fetching FAQs",e)})}editQuestion(e){this.faqToEdit=e,this.editQuestionText=e.question,this.editAnswerText=e.answer}getReviewsById(){this.editHomeService.loadReview(this.salonId).subscribe(e=>{this.reviews=e.map(n=>(n.stars=this.generateStars(n.qualification),n))},e=>console.error("Error loading reviews",e))}updateReview(){let e=De(q({},this.reviewToEdit),{observacion:this.additionalComments,qualification:{service:this.countSelectedRatings(this.ratings.service),quality:this.countSelectedRatings(this.ratings.quality),cleanliness:this.countSelectedRatings(this.ratings.cleanliness),speed:this.countSelectedRatings(this.ratings.speed)}});this.editHomeService.updateReview(e).subscribe({next:()=>{this.toastr.success("Rese\xF1a actualizada con \xE9xito"),this.getReviewsById()},error:n=>{this.toastr.error("No se pudo actualizar la rese\xF1a.")}})}countSelectedRatings(e){return e.filter(Boolean).length}openEditModal(e){console.log("Servicio recibido:",e),this.selectedService=q({},e),this.selectedServiceName=this.selectedService.service_name??"",this.selectedSubserviceName=this.selectedService.subservice_name??"",this.idSalonServiceType=this.selectedService.id_salon_service_type??0,this.updateServiceTime=this.selectedService.time??0,this.updateServicePrice=this.selectedService.price?this.selectedService.price.toString():"0.00"}onSubserviceSelect(e){let n=e.target;this.selectedSubservice=+n.value,console.log("Subservicio seleccionado:",this.selectedSubservice)}updateServiceWithSubservice(){let e={idSalonServiceType:this.idSalonServiceType,price:this.updateServicePrice,time:this.updateServiceTime,active:1};console.log("Datos enviados:",e),this.editHomeService.updateServiceWithSubservice(e).subscribe(n=>{n.success?(this.toastr.success("Servicio actualizado con \xE9xito"),this.getServicesWithSubservices(),this.idSalonServiceType=0,this.updateServiceTime=0,this.updateServicePrice="0.00"):this.toastr.error("Error al actualizar el servicio")},n=>{console.error("Error updating service:",n),this.toastr.error("Error al actualizar el servicio, compruebe que el subervicio no este en su lista.")})}openEditModalToReview(e){this.reviewToEdit=e;let n=e.qualification;this.ratings={service:this.getCheckboxState(e.servicio),quality:this.getCheckboxState(e.calidad_precio),cleanliness:this.getCheckboxState(e.limpieza),speed:this.getCheckboxState(e.puntualidad)},this.additionalComments=e.observacion,this.responseText=e.respuesta}updateReviewModal(){let e=De(q({},this.reviewToEdit),{observacion:this.additionalComments,respuesta:this.responseText,qualification:{service:this.countSelectedRatings(this.ratings.service),quality:this.countSelectedRatings(this.ratings.quality),cleanliness:this.countSelectedRatings(this.ratings.cleanliness),speed:this.countSelectedRatings(this.ratings.speed)}});this.editHomeService.updateReview(e).subscribe({next:()=>{this.toastr.success("Rese\xF1a actualizada con \xE9xito"),this.getReviewsById()},error:n=>{this.toastr.error("No se pudo actualizar la rese\xF1a.")}})}openResponseModalReview(e){this.reviewToEdit=e,this.editReviewText=e.observacion,this.responseText=e.respuesta}getCheckboxState(e){return[1,2,3,4,5].map(n=>n<=e)}checkLengthTime(e){let n=e.target;n.value.length>3&&(n.value=n.value.slice(0,3))}resetPrice(e){let n=e.target;n.value||(n.value="0.00")}checkLengthPrice(e){let n=e.target,t=n.value;if(!/^\d{0,4}(\.\d{0,2})?$/.test(t)){t=t.replace(/[^0-9.]/g,"").substring(0,7);let l=t.split(".");l[0].length>4&&(l[0]=l[0].substring(0,4)),l[1]&&l[1].length>2&&(l[1]=l[1].substring(0,2)),t=l.join(".")}n.value=t}confirmResponseReview(){let e={id_review:this.reviewToEdit.id_review,respuesta:this.responseText||""};this.editHomeService.responseReview(e).subscribe(n=>{console.log("Rese\xF1a actualizada:",n),this.toastr.success("Rese\xF1a constestada con \xE9xito"),this.getReviewsById()},n=>{this.toastr.error("Error al actualizar la respuesta de la rese\xF1a"),console.error("Error actualizando la rese\xF1a",n)})}addCategorySalon(){if(!this.selectedCategory){this.toastr.warning("Por favor, selecciona una categor\xEDa.");return}this.editHomeService.addCategorySalon(this.salonId,this.selectedCategory).subscribe(e=>{this.toastr.success("Categor\xEDa a\xF1adida correctamente."),this.getSalonData(this.salonId)},e=>{this.toastr.error("Error al a\xF1adir la categor\xEDa. Por favor, compruebe si la categor\xEDa ya existe en la lista."),console.error("Error:",e)}),this.selectedCategory=""}getCategoriesModal(){this.editHomeService.getCategories().subscribe(e=>{e.data&&e.data.length>0?this.getCategories=e.data:console.error("No se encontraron categor\xEDas",e)},e=>{console.error("Error fetching categories",e)})}onEditCategory(e){this.selectedCategory=q({},e),console.log("Categor\xEDa seleccionada para editar:",this.selectedCategory.category)}onDeleteCategory(e){this.selectedCategory=q({},e)}updateCategory(){if(this.selectedCategory&&this.selectedCategory.id_category){let e={idSalon:this.salonId,id_category:this.selectedCategory.id_category,categories:this.selectedCategory.category};this.editHomeService.updateCategorySalon(e).subscribe(n=>{console.log("Categor\xEDa actualizada:",this.selectedCategory),this.toastr.success("Categor\xEDa actualizada correctamente."),this.getSalonData(this.salonId)},n=>{console.error("Error al actualizar la categor\xEDa:",n),this.toastr.error("Error al actualizar la categor\xEDa. Por favor, compruebe si la categor\xEDa ya existe en la lista.")})}else this.toastr.warning("Por favor, selecciona una categor\xEDa para actualizar.");console.log("Id salon",this.salonId),console.log("id category",this.selectedCategory.id_category),console.log("category name",this.selectedCategory.category)}openDeleteModal(e){this.idCategoryToDelete=e}openDeleteServiceModal(e){this.idServiceToDelete=e}confirmDeleteCategory(){this.editHomeService.deleteCategorySalon(this.idCategoryToDelete).subscribe(e=>{this.toastr.success("Categor\xEDa eliminada exitosamente","\xC9xito"),this.getSalonData(this.salonId)},e=>{this.toastr.error("Error al eliminar la categor\xEDa","Error")})}confirmDeleteService(){this.editHomeService.deleteServiceWithSubservice(this.idServiceToDelete).subscribe(e=>{this.toastr.success("Servicio eliminado exitosamente","\xC9xito"),this.getServicesWithSubservices(),this.cdr.detectChanges()},e=>{this.toastr.error("Error al eliminar el servicio","Error")})}setToDeleteFaq(e){this.idFaqToDelete=e}confirmDeleteFaq(){this.editHomeService.deleteFaq(this.idFaqToDelete).subscribe(e=>{this.toastr.success("Pregunta eliminada exitosamente","\xC9xito"),this.getFaqByIdSalon()},e=>{this.toastr.error("Error al eliminar la pregunta","Error")})}setToDeleteReview(e){this.idReviewToDelete=e}confirmDeleteReview(){console.log("Id del review a eliminar",this.idReviewToDelete),this.idReviewToDelete?this.editHomeService.deleteReview(this.idReviewToDelete).subscribe(e=>{this.toastr.success("Rese\xF1a eliminada con \xE9xito"),this.getReviewsById()},e=>console.error("Error eliminando la Rese\xF1a",e)):console.error("No se encontr\xF3 el ID de la rese\xF1a.")}getAllCategoriesBrands(){this.editHomeService.getAllCategoriesBrands().subscribe({next:e=>{this.brands_categories=e},error:e=>{console.error("Error al obtener las marcas:",e),this.toastr.error("Hubo un error al cargar las marcas","Error")}})}getAllCategoriesServices(){this.editHomeService.getAllCategoriesServices().subscribe({next:e=>{this.service_categories=e},error:e=>{console.error("Error al obtener las categorias de servicios",e),this.toastr.error("Hubo un error al cargar las categorias de servicios","Error")}})}getBrandsBySalon(){this.editHomeService.getBrandByIdSalon(this.salonId).subscribe({next:e=>{this.brandsBySalon=e},error:e=>{console.error("Error al obtener las marcas:",e)}})}setToDeleteBrand(e){this.setDeleteBrand=e}confirmDeleteBrand(){this.setDeleteBrand?this.editHomeService.deleteBrandById(this.setDeleteBrand).subscribe({next:()=>{this.toastr.success("Marca eliminada de su sal\xF3n con \xE9xito"),console.log("Marca eliminada con \xE9xito"),this.getBrandsBySalon()},error:e=>{this.toastr.error("Error al eliminar la marca"),console.error("Error al eliminar la marca:",e)}}):console.warn("No se ha seleccionado ninguna marca para eliminar.")}selectBrand(e){this.term=e.name,this.selectedBrandImage=e.imagePath,this.selectedNewBrand=e.id_brand,this.brands=[]}searchBrands(e){if(e.length<2){this.brands=[];return}this.selectedCategory?this.editHomeService.getBrandByCategory(e,this.selectedCategory).subscribe(n=>{this.brands=n,console.log(this.brands)},n=>{console.error("Error al buscar las marcas:",n)}):(this.toastr.error("Por favor selecciona una categor\xEDa antes de buscar."),console.error("Por favor selecciona una categor\xEDa antes de buscar."))}addBrandSalon(){if(!this.salonId||!this.selectedNewBrand){this.toastr.warning("Debe seleccionar una categor\xEDa y una marca","Advertencia");return}this.editHomeService.addBrandToSalon(this.salonId,this.selectedNewBrand).subscribe({next:e=>{this.toastr.success("Marca a\xF1adida al sal\xF3n con \xE9xito","\xC9xito"),console.log("Respuesta del servidor:",e),this.getBrandsBySalon(),this.selectedCategory="",this.term="",this.selectedNewBrand="",this.brands=[],this.selectedBrandImage=""},error:e=>{console.error("Error al a\xF1adir la marca al sal\xF3n:",e),this.toastr.error("Hubo un error al a\xF1adir la marca al sal\xF3n. Por favor, compruebe que la marca exista en su lista","Error")}})}searchBrandsForUpdate(e){if(e.length<2){this.brands=[];return}this.selectedCategory?this.editHomeService.getBrandByCategory(e,this.selectedCategory).subscribe(n=>{this.brands=n},n=>{console.error("Error al buscar las marcas:",n)}):console.error("Por favor selecciona una categor\xEDa antes de buscar.")}searchUpdateBrands(e){if(e.length<2){this.brands=[];return}this.selectedUpdatedCategoryBrand?this.editHomeService.getBrandByCategory(e,this.selectedUpdatedCategoryBrand).subscribe(n=>{this.brands=n},n=>{console.error("Error al buscar las marcas:",n)}):console.error("Por favor selecciona una categor\xEDa antes de buscar.")}setToUpdateBrand(e,n,t){this.selectedUpdateBrand=e,this.selectedImgUpdateBrand=n,this.selectedIdBrandSalon=t,console.log("ID de la marca-sal\xF3n a actualizar:",this.selectedIdBrandSalon)}selectUpdateBrand(e){this.termUpdate=e.name,this.selectedBrandId=e.id_brand,this.selectedSalonId=this.salonId,this.brands=[]}updateBrandSalon(){if(!this.selectedIdBrandSalon||!this.selectedBrandId){this.toastr.warning("Debe seleccionar una nueva marca para actualizar","Advertencia");return}this.editHomeService.UpdateBrandsalon(this.selectedIdBrandSalon,this.selectedBrandId,this.selectedSalonId).subscribe({next:e=>{this.toastr.success("La marca del sal\xF3n ha sido actualizada con \xE9xito"),this.selectedIdBrandSalon="",this.selectedBrandId="",this.termUpdate="",this.selectedSalonId="",this.selectedUpdatedCategoryBrand="",this.getBrandsBySalon()},error:e=>{console.error("Error al actualizar la marca del sal\xF3n:",e),this.toastr.error("Error al actualizar la marca seleccionada")}})}static{this.\u0275fac=function(n){return new(n||i)(B(dt),B(Uh),B(xe),B(Gh),B(ai),B(Ui))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-home"]],decls:815,vars:98,consts:[["name","ngModel"],["email","ngModel"],["address","ngModel"],["phone","ngModel"],["id_province","ngModel"],["id_city","ngModel"],["latitud","ngModel"],["longitud","ngModel"],["whatsapp_phone","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],["class","loading-overlay",4,"ngIf"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],["id","myTab","role","tablist",1,"nav","nav-tabs","mb-4"],["role","presentation",1,"nav-item"],["id","negocio-tab","data-bs-toggle","tab","data-bs-target","#negocio","type","button","role","tab","aria-controls","negocio","aria-selected","true",1,"nav-link","active"],[1,"fa-solid","fa-building","me-2"],["id","horario-tab","data-bs-toggle","tab","data-bs-target","#horario","type","button","role","tab","aria-controls","horario","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-clock","me-2"],["id","imagenes-tab","data-bs-toggle","tab","data-bs-target","#imagenes","type","button","role","tab","aria-controls","imagenes","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-image","me-2"],["id","categorias-tab","data-bs-toggle","tab","data-bs-target","#categorias","type","button","role","tab","aria-controls","categorias","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-tag","me-2"],["id","servicios-tab","data-bs-toggle","tab","data-bs-target","#servicios","type","button","role","tab","aria-controls","servicios","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-list","me-2"],["id","permisos-tab","data-bs-toggle","tab","data-bs-target","#marcas","type","button","role","tab","aria-controls","marcas","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-copyright"],["id","preguntas-tab","data-bs-toggle","tab","data-bs-target","#preguntas","type","button","role","tab","aria-controls","preguntas","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-circle-question","me-2"],["id","resenas-tab","data-bs-toggle","tab","data-bs-target","#resenas","type","button","role","tab","aria-controls","resenas","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-star","me-2"],["id","myTabContent",1,"tab-content","bg-light"],["id","negocio","role","tabpanel","aria-labelledby","negocio-tab",1,"tab-pane","fade","show","active"],[1,"px-3",2,"padding-bottom","50px"],[1,"row","mb-3","align-items-center"],[1,"col-md-12","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],["class","me-3 mt-3",4,"ngIf"],[1,"me-3","d-flex","align-items-center","mt-5"],["for","active",1,"form-check-label","me-2"],[1,"form-check","form-switch"],["type","checkbox","id","active","name","active",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"d-flex","align-items-center","mt-5"],["for","in_vacation",1,"form-check-label","me-2"],["type","checkbox","id","in_vacation","name","in_vacation",1,"form-check-input",3,"ngModelChange","ngModel"],["target","_blank",1,"text-dark","me-3",3,"href"],[1,"fa-solid","fa-globe"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],[1,"fa-regular","fa-building"],["type","text","id","name","name","name","maxlength","250","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","email",1,"form-label"],["aria-hidden","true",1,"fa","fa-envelope"],["type","email","id","email","maxlength","100","name","email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],[1,"fa-regular","fa-address-book"],["type","text","id","address","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],[1,"fa-solid","fa-phone"],["type","tel","id","phone","name","phone","maxlength","9","required","","pattern","^\\d{9}$",1,"form-control",3,"ngModelChange","ngModel"],["for","provincia",1,"form-label"],[1,"fa-solid","fa-city"],["id","provincia","name","id_province","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","ciudad",1,"form-label"],[1,"fa-solid","fa-building-user"],["id","ciudad","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["for","latitud",1,"form-label"],[1,"fa-solid","fa-compass"],["type","text","id","latitud","name","latitud","required","","pattern","^-?\\d+(\\.\\d+)?$",1,"form-control",3,"ngModelChange","ngModel"],["for","longitud",1,"form-label"],[1,"fa-regular","fa-compass"],["type","text","id","longitud","name","longitud","required","","pattern","^-?\\d+(\\.\\d+)?$",1,"form-control",3,"ngModelChange","ngModel"],["for","googlemaps",1,"form-label"],[1,"fa-regular","fa-map"],["type","text","maxlength","1000","id","map","placeholder","No olvide el prefijo https://","name","map",1,"form-control",3,"ngModelChange","ngModel"],["for","urlnegocio",1,"form-label"],[1,"fa-solid","fa-link"],["type","text","id","url","name","url","maxlength","1000","placeholder","No olvide el prefijo https://","value","",1,"form-control",3,"ngModelChange","ngModel"],["for","facebook_url",1,"form-label"],[1,"fa-brands","fa-square-facebook"],["type","text","id","facebook_url","name","facebook_url","maxlength","1000","placeholder","No olvide el prefijo https://",1,"form-control",3,"ngModelChange","ngModel"],["for","instagram_url",1,"form-label"],[1,"fa-brands","fa-instagram"],["type","text","id","instagram_url","name","instagram_url","placeholder","No olvide el prefijo https://","maxlength","1000",1,"form-control",3,"ngModelChange","ngModel"],["for","tiktok_url",1,"form-label"],[1,"fa-brands","fa-tiktok"],["type","text","id","tiktok_url","placeholder","No olvide el prefijo https://","name","tiktok_url","maxlength","1000",1,"form-control",3,"ngModelChange","ngModel"],["for","youtube_url",1,"form-label"],[1,"fa-brands","fa-youtube"],["type","text","id","youtube_url","placeholder","No olvide el prefijo https://","name","youtube_url","maxlength","1000",1,"form-control",3,"ngModelChange","ngModel"],["for","whatsapp_phone",1,"form-label"],[1,"fa-brands","fa-whatsapp"],["type","tel","id","whatsapp_phone","name","whatsapp_phone","maxlength","9","pattern","^\\d{9}$",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],["for","sobrenosotros",1,"form-label"],[1,"fa-solid","fa-user"],["id","about_us","name","about_us","rows","3","placeholder","Establecezca la descripci\xF3n de su negocio....",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2",3,"click"],["type","button","routerLink","/home",1,"btn","btn-secondary"],["id","horario","role","tabpanel","aria-labelledby","horario-tab",1,"tab-pane","fade"],[1,"d-flex","justify-content-center"],[1,"w-50"],[1,"table-responsive"],[1,"table"],[1,"thead-dark"],[1,"text-start"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger","mt-3",3,"click"],["id","imagenes","role","tabpanel","aria-labelledby","imagenes-tab",1,"tab-pane","fade"],[1,"mb-3","col-md-4"],["for","imagen",1,"form-label"],[1,"input-group"],["type","file","id","imagen",1,"form-control",3,"change"],["type","button",1,"btn","btn-danger",3,"click"],[1,"card","mb-4"],[1,"card-body"],[1,"table","table-hover","table-light"],["class","fullsize",3,"click",4,"ngIf"],["id","categorias","role","tabpanel","aria-labelledby","categorias-tab",1,"tab-pane","fade"],[1,"card","mb-4","mt-3"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["data-bs-toggle","modal","data-bs-target","#newCategoryModal",1,"btn","btn-danger","ms-auto"],[1,"d-flex","align-items-center","justify-content-center"],[1,"table-responsive","w-100"],[1,"text-center"],["colspan","2",1,"col-1","text-center"],[4,"ngIf"],["id","servicios","role","tabpanel","aria-labelledby","servicios-tab",1,"tab-pane","fade"],[1,"col-md-8"],["type","text","placeholder","Buscar",1,"form-control"],[1,"col-md-4","d-flex","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#modalNuevoServicio",1,"btn","btn-danger"],[1,"card-body","d-flex","align-items-center","justify-content-center"],[1,"table-responsive","w-100","text-center"],["colspan","2",1,"col-1"],["id","marcas","role","tabpanel","aria-labelledby","marcas-tab",1,"tab-pane","fade"],[1,"col-md-2"],["type","text","placeholder","Buscar Marca",1,"form-control"],[1,"col-md-4","ms-auto","d-flex","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#modalNuevaMarca",1,"btn","btn-danger","ms-auto"],[1,"card","mb-4","w-100"],["id","modalNuevaMarca","tabindex","-1","aria-labelledby","modalNuevaMarcaLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","modalNuevaMarcaLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["alt","Imagen de la marca","width","120",1,"img-fluid",3,"src"],[1,"mb-3"],["for","nameCategory",1,"form-label"],["id","selectedCategory","name","selectedCategory","required","",1,"form-select",3,"ngModelChange","ngModel"],[1,"mb-3","position-relative"],["for","newBrand",1,"form-label"],["type","text","id","newBrand","name","term","required","","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","modalEditMarca","tabindex","-1","aria-labelledby","modalEditMarcaLabel","aria-hidden","true",1,"modal","fade"],["id","modalEditMarcaLabel",1,"modal-title"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"row","mt-2"],["alt","Imagen de la marca",2,"max-width","220px !important","margin","0 auto !important",3,"src"],["for","selectedUpdateBrand"],["id","selectedUpdateBrand",1,"mt-2",2,"width","auto"],["id","selectedUpdatedCategoryBrand","name","selectedUpdatedCategoryBrand","required","",1,"form-select",3,"ngModelChange","ngModel"],["id","deleteMarcaModal","tabindex","-1","aria-labelledby","deleteMarcaModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteMarcaModalLabel",1,"modal-title"],["id","permisos","role","tabpanel","aria-labelledby","permisos-tab",1,"tab-pane","fade"],[1,"btn","btn-danger"],["type","checkbox"],[1,"form-select"],["selected",""],["value","trabajador"],["value","administrador"],["id","preguntas","role","tabpanel","aria-labelledby","preguntas-tab",1,"tab-pane","fade"],[1,"col-1"],["id","resenas","role","tabpanel","aria-labelledby","resenas-tab",1,"tab-pane","fade"],[1,"text-center","my-4"],[1,"h5"],["class","col-1",4,"ngIf"],["id","modalNuevoServicio","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],["id","exampleModalLabel",1,"modal-title"],[1,"text-muted","mb-4"],[1,"mb-3","col-md-12","d-flex","flex-column","align-items-center"],["for","nameCategory",1,"form-label","text-center","fw-bold"],["id","selectedCategory","name","selectedCategory","required","",1,"form-select",2,"max-width","300px",3,"ngModelChange","change","ngModel"],["for","serviceSelect",1,"form-label","fw-bold"],["id","serviceSelect","aria-label","Selecciona una opci\xF3n","name","newServiceName",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","selected",""],["for","timeInput",1,"form-label","fw-bold"],["type","number","id","timeInput","placeholder","10","name","newServiceTime",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"row"],[1,"col-md-6","mb-3","row"],["for","subserviceInput",1,"form-label","fw-bold"],["id","subServiceSelect","aria-label","Selecciona una opci\xF3n","name","newSubServiceName",1,"form-select","ms-2",3,"ngModelChange","ngModel"],[1,"col-md-6","ms-4"],["type","text","id","newServicePriceInput","placeholder","Introduzca los decimales con punto (.)","name","newServicePrice",1,"form-control",3,"ngModelChange","blur","input","ngModel"],["type","button",1,"btn","btn-danger","me-2",3,"click"],["id","modalEditService","tabindex","-1","aria-labelledby","modalEditService","aria-hidden","true",1,"modal","fade"],["id","modalEditService",1,"modal-title"],["for","serviceName",1,"form-label","fw-bold"],["type","text","id","serviceName","readonly","","disabled","",1,"form-control",3,"value"],[1,"col-md-6","mb-3"],["for","subserviceName",1,"form-label","fw-bold"],["type","text","id","subserviceName","readonly","","disabled","",1,"form-control",3,"value"],["type","text","id","priceInput","placeholder","10","name","newServicePrice",1,"form-control",3,"ngModelChange","blur","input","ngModel"],["type","button  editReviewText: string = '';","data-bs-dismiss","modal",1,"btn","btn-danger","me-2",3,"click"],["id","editQuestionModal","tabindex","-1","aria-labelledby","editQuestionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content","shadow-lg"],[1,"modal-header","text-white","bg-dark"],["id","editQuestionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white"],[3,"ngSubmit"],["for","editQuestionText",1,"form-label","fw-bold"],["id","editQuestionText","rows","2","name","editQuestionText","readonly","",1,"form-control","border-0","bg-light",3,"ngModelChange","ngModel"],["for","editAnswerText",1,"form-label","fw-bold"],["id","editAnswerText","rows","4","name","editAnswerText","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-danger","me-2"],["id","responseReviewModal","tabindex","-1","aria-labelledby","responseReviewModalLabel","aria-hidden","true",1,"modal","fade"],["id","responseReviewModalLabel",1,"modal-title"],["for","userReviewText",1,"form-label"],["id","editReviewText","rows","4","name","userReviewText","readonly","",1,"form-control","border-0","bg-light",3,"ngModelChange","ngModel"],[1,"mb-3","d-flex","flex-column"],["for","responseReviewText",1,"form-label"],["id","responseReview","rows","4","name","responseReview",1,"form-control",3,"ngModelChange","ngModel"],["id","newCategoryModal","tabindex","-1","aria-labelledby","newCategoryLabel","aria-hidden","true",1,"modal","fade"],["id","newCategoryLabel",1,"modal-title"],[1,"row","mt-3"],["id","getCategories","aria-label","Selecciona una opci\xF3n",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["selected","",3,"value",4,"ngFor","ngForOf"],["type","button","data-bs-dismiss","modal","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","editCategoryModal","tabindex","-1","aria-labelledby","editCategoryLabel","aria-hidden","true",1,"modal","fade"],["id","editCategoryLabel",1,"modal-title"],["for","editCategorySelect",1,"form-label","mt-3"],["id","editCategorySelect","name","editCategorySelect",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","deleteCategoryModal","tabindex","-1","aria-labelledby","deleteCategoryModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteCategoryModalLabel",1,"modal-title"],["id","deleteServiceModal","tabindex","-1","aria-labelledby","deleteServiceModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteServiceModalLabel",1,"modal-title"],["id","deleteFaqModal","tabindex","-1","aria-labelledby","deleteFaqModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-header"],["id","deleteFaqModalLabel",1,"modal-title"],["id","deleteReviewModal","tabindex","-1","aria-labelledby","deleteReviewModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteReviewModalLabel",1,"modal-title"],["id","modificarValoracionesModal","tabindex","-1","aria-labelledby","modificarValoracionesModalLabel","aria-hidden","true",1,"modal","fade"],["id","modifcarValoraciones",1,"modal-title"],[1,"text-center","mb-4","mt-4"],["src","../../../../assets/img/sello.jpg","width","150","alt","logo-mis-peluquerias"],[1,"rating-input","d-flex","align-items-center","mb-3","mt-3"],[1,"me-3"],[1,"circle-input-group"],["type","checkbox","id","service1",3,"ngModelChange","change","ngModel"],["for","service1",1,"circle-label"],["type","checkbox","id","service2",3,"ngModelChange","change","ngModel"],["for","service2",1,"circle-label"],["type","checkbox","id","service3",3,"ngModelChange","change","ngModel"],["for","service3",1,"circle-label"],["type","checkbox","id","service4",3,"ngModelChange","change","ngModel"],["for","service4",1,"circle-label"],["type","checkbox","id","service5",3,"ngModelChange","change","ngModel"],["for","service5",1,"circle-label"],[1,"rating-input","d-flex","align-items-center","mb-3"],["type","checkbox","id","quality1",3,"ngModelChange","change","ngModel"],["for","quality1",1,"circle-label"],["type","checkbox","id","quality2",3,"ngModelChange","change","ngModel"],["for","quality2",1,"circle-label"],["type","checkbox","id","quality3",3,"ngModelChange","change","ngModel"],["for","quality3",1,"circle-label"],["type","checkbox","id","quality4",3,"ngModelChange","change","ngModel"],["for","quality4",1,"circle-label"],["type","checkbox","id","quality5",3,"ngModelChange","change","ngModel"],["for","quality5",1,"circle-label"],["type","checkbox","id","cleanliness1",3,"ngModelChange","change","ngModel"],["for","cleanliness1",1,"circle-label"],["type","checkbox","id","cleanliness2",3,"ngModelChange","change","ngModel"],["for","cleanliness2",1,"circle-label"],["type","checkbox","id","cleanliness3",3,"ngModelChange","change","ngModel"],["for","cleanliness3",1,"circle-label"],["type","checkbox","id","cleanliness4",3,"ngModelChange","change","ngModel"],["for","cleanliness4",1,"circle-label"],["type","checkbox","id","cleanliness5",3,"ngModelChange","change","ngModel"],["for","cleanliness5",1,"circle-label"],["type","checkbox","id","speed1",3,"ngModelChange","change","ngModel"],["for","speed1",1,"circle-label"],["type","checkbox","id","speed2",3,"ngModelChange","change","ngModel"],["for","speed2",1,"circle-label"],["type","checkbox","id","speed3",3,"ngModelChange","change","ngModel"],["for","speed3",1,"circle-label"],["type","checkbox","id","speed4",3,"ngModelChange","change","ngModel"],["for","speed4",1,"circle-label"],["type","checkbox","id","speed5",3,"ngModelChange","change","ngModel"],["for","speed5",1,"circle-label"],[1,"form-group","mt-4","mb-3"],["for","additionalComments",1,"form-label","ms-3"],["maxlength","300","id","additionalComments","rows","3","placeholder","Escribe tus comentarios aqu\xED...",1,"form-control","rounded-3","shadow-sm","p-2","mx-auto",2,"resize","none","max-width","95%",3,"ngModelChange","ngModel"],["for","additionalComments",1,"form-label","ms-3","mt-3"],["id","deleteImgSalonModal","tabindex","-1","aria-labelledby","deleteImgSalonModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteImgSalonModalLabel",1,"modal-title"],[1,"loading-overlay"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"me-3","mt-3"],["for","estado",1,"form-label"],[1,"fa-solid","fa-check"],["id","state","name","state",1,"form-select",3,"ngModelChange","ngModel"],["value","Reclamado"],["value","Validado"],["value","No reclamado"],[1,"text-danger"],[3,"value"],["class","d-flex mb-2 align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click","disabled"],[1,"d-flex","mb-2","align-items-center"],["type","time","placeholder","Abre",1,"form-control","me-2",2,"max-width","120px",3,"ngModelChange","ngModel"],["type","time","placeholder","Cierra",1,"form-control",2,"max-width","120px",3,"ngModelChange","ngModel"],[1,"btn","btn-danger","ms-2",3,"click"],[1,"image-container"],[3,"click","src","alt"],[1,"form-check","form-switch","me-3"],["type","checkbox","name","imgPrincipal",1,"form-check-input",3,"change","ngModelChange","id","ngModel"],["data-bs-toggle","modal","data-bs-target","#deleteImgSalonModal",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"fullsize",3,"click"],[3,"src","alt"],["class","text-center",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#editCategoryModal",1,"btn","btn-dark","me-2",3,"click"],[1,"fas","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteCategoryModal",1,"btn","btn-danger",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalEditService",1,"btn","btn-dark",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteServiceModal",1,"btn","btn-danger","ms-2",3,"click"],[1,"fas","fa-trash-alt"],["width","100",3,"src","alt"],["data-bs-toggle","modal","data-bs-target","#modalEditMarca",1,"btn","btn-dark",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteMarcaModal",1,"btn","btn-danger","ms-2",3,"click"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-tag"],["data-bs-toggle","modal","data-bs-target","#editQuestionModal",1,"btn","btn-dark","me-3",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteFaqModal",1,"btn","btn-danger",3,"click"],[1,"star-rating"],["style","color: #b91622; font-size: 1rem","class","fa",3,"ngClass",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#responseReviewModal",1,"btn","btn-dark","me-3",3,"click"],[1,"fa-solid","fa-reply"],[1,"fa",2,"color","#b91622","font-size","1rem",3,"ngClass"],["data-bs-toggle","modal","data-bs-target","#modificarValoracionesModal",1,"btn","btn-dark","me-3",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteReviewModal",1,"btn","btn-danger",3,"click"],["selected","",3,"value"],[3,"ngValue"]],template:function(n,t){if(n&1){let o=z();h(0,"app-header"),s(1,"div",9),h(2,"app-aside"),s(3,"div",10)(4,"main"),M(5,hy,6,0,"div",11),s(6,"div",12)(7,"h1",13),c(8,"Panel de control"),a(),s(9,"ol",14)(10,"li",15),c(11," Administraci\xF3n / "),s(12,"b"),c(13,"Negocios / "),a(),s(14,"b"),c(15),a()()(),s(16,"ul",16)(17,"li",17)(18,"button",18),h(19,"i",19),c(20,"Negocio "),a()(),s(21,"li",17)(22,"button",20),h(23,"i",21),c(24,"Horario "),a()(),s(25,"li",17)(26,"button",22),h(27,"i",23),c(28,"Im\xE1genes "),a()(),s(29,"li",17)(30,"button",24),h(31,"i",25),c(32,"Categorias "),a()(),s(33,"li",17)(34,"button",26),h(35,"i",27),c(36,"Servicios "),a()(),s(37,"li",17)(38,"button",28),h(39,"i",29),c(40," Marcas "),a()(),s(41,"li",17)(42,"button",30),h(43,"i",31),c(44,"Preguntas "),a()(),s(45,"li",17)(46,"button",32),h(47,"i",33),c(48,"Rese\xF1as "),a()()(),s(49,"div",34)(50,"div",35)(51,"form",36)(52,"div",37)(53,"div",38)(54,"div",39),M(55,py,11,1,"div",40),s(56,"div",41)(57,"label",42),c(58,"Activo"),a(),s(59,"div",43)(60,"input",44),A("ngModelChange",function(d){return g(o),T(t.salonData.active,d)||(t.salonData.active=d),_(d)}),a()()(),s(61,"div",45)(62,"label",46),c(63,"Cerrado por vacaciones"),a(),s(64,"div",43)(65,"input",47),A("ngModelChange",function(d){return g(o),T(t.salonData.in_vacation,d)||(t.salonData.in_vacation=d),_(d)}),a()()()(),s(66,"a",48),h(67,"i",49),c(68," Ir al sitio "),a()()(),s(69,"div",50)(70,"div",51)(71,"label",52),h(72,"i",53),c(73," Nombre"),a(),s(74,"input",54,0),A("ngModelChange",function(d){return g(o),T(t.salonData.name,d)||(t.salonData.name=d),_(d)}),a(),M(76,fy,2,0,"div",55),a(),s(77,"div",51)(78,"label",56),h(79,"i",57),c(80," E-mail"),a(),s(81,"input",58,1),A("ngModelChange",function(d){return g(o),T(t.salonData.email,d)||(t.salonData.email=d),_(d)}),a(),M(83,gy,2,0,"div",55),a()(),s(84,"div",50)(85,"div",51)(86,"label",59),h(87,"i",60),c(88," Direcci\xF3n"),a(),s(89,"input",61,2),A("ngModelChange",function(d){return g(o),T(t.salonData.address,d)||(t.salonData.address=d),_(d)}),a(),M(91,_y,2,0,"div",55),a(),s(92,"div",51)(93,"label",62),h(94,"i",63),c(95," N\xBA de Tel\xE9fono"),a(),s(96,"input",64,3),A("ngModelChange",function(d){return g(o),T(t.salonData.phone,d)||(t.salonData.phone=d),_(d)}),a(),M(98,vy,2,0,"div",55),a()(),s(99,"div",50)(100,"div",51)(101,"label",65),h(102,"i",66),c(103," Provincia"),a(),s(104,"select",67,4),A("ngModelChange",function(d){return g(o),T(t.salonData.id_province,d)||(t.salonData.id_province=d),_(d)}),f("change",function(){return g(o),_(t.onProvinceChange(t.salonData.id_province))}),s(106,"option",68),c(107," Seleccione una provincia "),a(),M(108,by,2,2,"option",69),a(),M(109,yy,2,0,"div",55),a(),s(110,"div",51)(111,"label",70),h(112,"i",71),c(113," Ciudad-CP"),a(),s(114,"select",72,5),A("ngModelChange",function(d){return g(o),T(t.salonData.id_city,d)||(t.salonData.id_city=d),_(d)}),f("change",function(){return g(o),_(t.onCityChange(t.salonData.id_city))}),s(116,"option",68),c(117," Seleccione una ciudad "),a(),M(118,Cy,2,3,"option",69),a(),M(119,xy,2,0,"div",55),a()(),s(120,"div",50)(121,"div",51)(122,"label",73),h(123,"i",74),c(124," Latitud"),a(),s(125,"input",75,6),A("ngModelChange",function(d){return g(o),T(t.salonData.latitud,d)||(t.salonData.latitud=d),_(d)}),a(),M(127,Sy,2,0,"div",55),a(),s(128,"div",51)(129,"label",76),h(130,"i",77),c(131," Longitud"),a(),s(132,"input",78,7),A("ngModelChange",function(d){return g(o),T(t.salonData.longitud,d)||(t.salonData.longitud=d),_(d)}),a(),M(134,wy,2,0,"div",55),a()(),s(135,"div",50)(136,"div",51)(137,"label",79),h(138,"i",80),c(139," URL de Google Maps"),a(),s(140,"input",81),A("ngModelChange",function(d){return g(o),T(t.salonData.map,d)||(t.salonData.map=d),_(d)}),a()(),s(141,"div",51)(142,"label",82),h(143,"i",83),c(144," URL del Negocio"),a(),s(145,"input",84),A("ngModelChange",function(d){return g(o),T(t.salonData.url,d)||(t.salonData.url=d),_(d)}),a()()(),s(146,"div",50)(147,"div",51)(148,"label",85),h(149,"i",86),c(150," Facebook"),a(),s(151,"input",87),A("ngModelChange",function(d){return g(o),T(t.salonData.facebook_url,d)||(t.salonData.facebook_url=d),_(d)}),a()(),s(152,"div",51)(153,"label",88),h(154,"i",89),c(155," Instagram"),a(),s(156,"input",90),A("ngModelChange",function(d){return g(o),T(t.salonData.instagram_url,d)||(t.salonData.instagram_url=d),_(d)}),a()()(),s(157,"div",50)(158,"div",51)(159,"label",91),h(160,"i",92),c(161," TikTok"),a(),s(162,"input",93),A("ngModelChange",function(d){return g(o),T(t.salonData.tiktok_url,d)||(t.salonData.tiktok_url=d),_(d)}),a()(),s(163,"div",51)(164,"label",94),h(165,"i",95),c(166," Youtube"),a(),s(167,"input",96),A("ngModelChange",function(d){return g(o),T(t.salonData.youtube_url,d)||(t.salonData.youtube_url=d),_(d)}),a()()(),s(168,"div",50)(169,"div",51)(170,"label",97),h(171,"i",98),c(172," WhatsApp"),a(),s(173,"input",99,8),A("ngModelChange",function(d){return g(o),T(t.salonData.whatsapp_phone,d)||(t.salonData.whatsapp_phone=d),_(d)}),a(),M(175,Ey,2,0,"div",55),a()(),s(176,"div",50)(177,"div",100)(178,"label",101),h(179,"i",102),c(180," Sobre Nosotros"),a(),s(181,"textarea",103),A("ngModelChange",function(d){return g(o),T(t.salonData.about_us,d)||(t.salonData.about_us=d),_(d)}),c(182,"                  "),a()()(),s(183,"button",104),f("click",function(){return g(o),_(t.updateSalon())}),c(184," Guardar "),a(),s(185,"button",105),c(186," Cancelar "),a()()(),s(187,"div",106)(188,"div",107)(189,"div",108)(190,"div",109)(191,"table",110)(192,"thead",111)(193,"tr")(194,"th"),c(195,"D\xEDa"),a(),s(196,"th",112),c(197,"Horarios del establecimiento"),a(),s(198,"th"),c(199,"A\xF1adir"),a()()(),s(200,"tbody"),M(201,Dy,8,3,"tr",113),a()()(),s(202,"button",114),f("click",function(){return g(o),_(t.saveHours())}),c(203," Guardar "),a()()()(),s(204,"div",115)(205,"div",116)(206,"label",117),c(207,"Seleccione una imagen"),a(),s(208,"div",118)(209,"input",119),f("change",function(d){return g(o),_(t.onFileSelected(d))}),a(),s(210,"button",120),f("click",function(){return g(o),_(t.onUpload())}),c(211," A\xF1adir "),a()()(),s(212,"div",121)(213,"div",122)(214,"div",109)(215,"table",123)(216,"thead",111)(217,"tr")(218,"th"),c(219,"Nombre"),a(),s(220,"th"),c(221,"Fecha Creaci\xF3n"),a(),s(222,"th"),c(223,"Imagen"),a(),s(224,"th"),c(225,"Principal"),a(),s(226,"th"),c(227,"Acciones"),a()()(),s(228,"tbody"),M(229,Ty,16,9,"tr",113),a()(),M(230,Ay,2,2,"div",124),a()()()(),s(231,"div",125)(232,"div",126)(233,"div",127),h(234,"img",128),c(235," Lista de categorias "),a(),s(236,"div",122)(237,"div",129)(238,"button",130),c(239," Nueva "),a()(),s(240,"div",131)(241,"div",132)(242,"table",123)(243,"thead",111)(244,"tr")(245,"th",133),c(246,"Categor\xEDa"),a(),s(247,"th",134),c(248," Editar/Eliminar "),a()()(),M(249,ky,2,1,"tbody",135)(250,Py,4,0,"tbody",135),a()()()()()(),s(251,"div",136),M(252,Fy,2,2,"div",124),s(253,"div",50)(254,"div",137),h(255,"input",138),a(),s(256,"div",139)(257,"button",140),c(258," Nuevo "),a()()(),s(259,"div",121)(260,"div",127),h(261,"img",128),c(262," Lista de servicios "),a(),s(263,"div",141)(264,"div",142)(265,"table",123)(266,"thead",111)(267,"tr")(268,"th"),c(269,"Servicio"),a(),s(270,"th"),c(271,"Subservicio"),a(),s(272,"th"),c(273,"Tiempo"),a(),s(274,"th"),c(275,"Precio"),a(),s(276,"th",143),c(277,"Editar/Eliminar"),a()()(),s(278,"tbody"),M(279,Oy,14,4,"tr",113),a()()()()()(),s(280,"div",144)(281,"div",50)(282,"div",145),h(283,"input",146),a(),s(284,"div",147)(285,"button",148),c(286," Nueva "),a()()(),s(287,"div",141)(288,"div",149)(289,"div",127),h(290,"img",128),c(291," Lista de Marcas "),a(),s(292,"div",122)(293,"div",109)(294,"table",123)(295,"thead",111)(296,"tr")(297,"th"),c(298,"Marca"),a(),s(299,"th"),c(300,"Logo"),a(),s(301,"th",143),c(302,"Editar/Eliminar"),a()()(),s(303,"tbody"),M(304,Ny,10,3,"tr",113),a()()()()()(),s(305,"div",150)(306,"div",151)(307,"div",152)(308,"div",153)(309,"h5",154),c(310," A\xF1adir marca al sal\xF3n "),a(),h(311,"button",155),a(),s(312,"div",156)(313,"div",157),h(314,"img",158),a(),s(315,"div",159)(316,"label",160),c(317,"Seleccione Categor\xEDa:"),a(),s(318,"select",161),A("ngModelChange",function(d){return g(o),T(t.selectedCategory,d)||(t.selectedCategory=d),_(d)}),s(319,"option",68),c(320," Seleccione una categor\xEDa "),a(),M(321,By,2,2,"option",69),a()(),s(322,"div",162)(323,"label",163),c(324,"Introduce marca:"),a(),s(325,"input",164),A("ngModelChange",function(d){return g(o),T(t.term,d)||(t.term=d),_(d)}),f("input",function(){return g(o),_(t.searchBrands(t.term))}),a(),M(326,Vy,2,1,"ul",165),a()(),s(327,"div",166)(328,"button",167),f("click",function(){return g(o),_(t.addBrandSalon())}),c(329," Guardar "),a(),s(330,"button",168),c(331," Cancelar "),a()()()()(),s(332,"div",169)(333,"div",151)(334,"div",152)(335,"div",153)(336,"h5",170),c(337," Editar Marca "),a(),h(338,"button",155),a(),s(339,"div",156)(340,"div",157),h(341,"img",171),a(),s(342,"form")(343,"div",159)(344,"div",172),h(345,"img",173),a(),s(346,"div",133)(347,"label",174),c(348,"Marca seleccionada: "),a(),s(349,"span",175),c(350),a()()(),s(351,"div",159)(352,"label",160),c(353,"Seleccione Categor\xEDa:"),a(),s(354,"select",176),A("ngModelChange",function(d){return g(o),T(t.selectedUpdatedCategoryBrand,d)||(t.selectedUpdatedCategoryBrand=d),_(d)}),s(355,"option",68),c(356," Seleccione una categor\xEDa "),a(),M(357,Ly,2,2,"option",69),a()(),s(358,"div",162)(359,"label",163),c(360,"Introduce marca:"),a(),s(361,"input",164),A("ngModelChange",function(d){return g(o),T(t.termUpdate,d)||(t.termUpdate=d),_(d)}),f("input",function(){return g(o),_(t.searchUpdateBrands(t.termUpdate))}),a(),M(362,jy,2,1,"ul",165),a()()(),s(363,"div",166)(364,"button",167),f("click",function(){return g(o),_(t.updateBrandSalon())}),c(365," Guardar Cambios "),a(),s(366,"button",168),c(367," Cancelar "),a()()()()(),s(368,"div",177)(369,"div",151)(370,"div",152)(371,"div",153)(372,"h5",178),c(373," Eliminar Marca "),a(),h(374,"button",155),a(),s(375,"div",156)(376,"div",157),h(377,"img",171),a(),s(378,"p"),c(379," \xBFEst\xE1s seguro de que deseas eliminar esta marca de su sal\xF3n? "),a()(),s(380,"div",166)(381,"button",167),f("click",function(){return g(o),_(t.confirmDeleteBrand())}),c(382," Eliminar "),a(),s(383,"button",168),c(384," Cancelar "),a()()()()()(),s(385,"div",179)(386,"div",50)(387,"div",137),h(388,"input",138),a(),s(389,"div",139)(390,"button",180),c(391,"Nuevo"),a()()(),s(392,"div",121)(393,"div",122)(394,"div",109)(395,"table",123)(396,"thead",111)(397,"tr")(398,"th"),h(399,"input",181),a(),s(400,"th"),c(401,"Usuario"),a(),s(402,"th"),c(403,"Permiso"),a()()(),s(404,"tbody")(405,"tr")(406,"td"),h(407,"input",181),a(),s(408,"td"),c(409,"Alberto Santorroman"),a(),s(410,"td")(411,"select",182)(412,"option",183),c(413,"Administrador de negocio"),a(),s(414,"option",184),c(415," Trabajador de negocio "),a()()()(),s(416,"tr")(417,"td"),h(418,"input",181),a(),s(419,"td"),c(420,"Prueba Sauco"),a(),s(421,"td")(422,"select",182)(423,"option",185),c(424," Administrador de negocio "),a(),s(425,"option",183),c(426,"Trabajador de negocio"),a()()()()()()()()()(),s(427,"div",186)(428,"div",50)(429,"div",137),h(430,"input",138),a()(),s(431,"div",121)(432,"div",122)(433,"div",109)(434,"table",123)(435,"thead",111)(436,"tr")(437,"th"),c(438,"Pregunta"),a(),s(439,"th"),c(440,"Respuesta"),a(),s(441,"th",187),c(442,"Responder/ Eliminar"),a()()(),s(443,"tbody"),M(444,Hy,11,2,"tr",113),a()()()()()(),s(445,"div",188)(446,"div",189)(447,"div",189)(448,"h2",190),c(449,"Valoraci\xF3n media de los usuairos."),a(),s(450,"h2",190),c(451),a(),h(452,"div"),a()(),s(453,"div",50)(454,"div",100),h(455,"input",138),a()(),s(456,"div",121)(457,"div",122)(458,"div",109)(459,"table",123)(460,"thead",111)(461,"tr")(462,"th"),c(463,"Rese\xF1a"),a(),s(464,"th"),c(465,"Respuesta"),a(),s(466,"th"),c(467,"Usuario"),a(),s(468,"th"),c(469,"Calificaci\xF3n"),a(),s(470,"th"),c(471,"Responder"),a(),M(472,Wy,2,0,"th",191),a()(),s(473,"tbody"),M(474,qy,14,5,"tr",113),a()()()()()()()()(),h(475,"app-footer"),a(),s(476,"div",192)(477,"div",193)(478,"div",152)(479,"div",153)(480,"h5",194),c(481,"A\xF1adir servicios"),a(),h(482,"button",155),a(),s(483,"div",156)(484,"div",157),h(485,"img",171),a(),s(486,"p",195),c(487," Complete los detalles del nuevo servicio "),a(),s(488,"form")(489,"div",196)(490,"label",197),c(491,"Seleccione Categor\xEDa del servicio:"),a(),s(492,"select",198),A("ngModelChange",function(d){return g(o),T(t.selectedCategory,d)||(t.selectedCategory=d),_(d)}),f("change",function(){return g(o),_(t.getUniqueServices(t.selectedCategory))}),s(493,"option",68),c(494," Seleccione una categor\xEDa "),a(),M(495,$y,2,2,"option",69),a()(),s(496,"div",50)(497,"div",51)(498,"label",199),c(499,"Servicio"),a(),s(500,"select",200),A("ngModelChange",function(d){return g(o),T(t.newServiceName,d)||(t.newServiceName=d),_(d)}),f("change",function(d){return g(o),_(t.onServiceSelect(d))}),s(501,"option",201),c(502,"Selecciona una opci\xF3n"),a(),M(503,Jy,2,2,"option",69),a()(),s(504,"div",51)(505,"label",202),c(506,"Tiempo Actividad (Minutos)"),a(),s(507,"input",203),A("ngModelChange",function(d){return g(o),T(t.newServiceTime,d)||(t.newServiceTime=d),_(d)}),f("input",function(d){return g(o),_(t.checkLengthTime(d))}),a()()(),s(508,"div",204)(509,"div",205)(510,"label",206),c(511,"Subservicio"),a(),s(512,"select",207),A("ngModelChange",function(d){return g(o),T(t.newSubservices,d)||(t.newSubservices=d),_(d)}),s(513,"option",201),c(514,"Selecciona una opci\xF3n"),a(),M(515,Qy,2,2,"option",69),a()(),s(516,"div",208)(517,"label",202),c(518,"Precio (*Opcional)"),a(),s(519,"input",209),A("ngModelChange",function(d){return g(o),T(t.newServicePrice,d)||(t.newServicePrice=d),_(d)}),f("blur",function(d){return g(o),_(t.resetPrice(d))})("input",function(d){return g(o),_(t.checkLengthPrice(d))}),a()()()()(),s(520,"div",166)(521,"button",210),f("click",function(){return g(o),_(t.addService())}),c(522," Guardar "),a(),s(523,"button",168),c(524," Cancelar "),a()()()()(),s(525,"div",211)(526,"div",193)(527,"div",152)(528,"div",153)(529,"h5",212),c(530,"Editar servicio"),a(),h(531,"button",155),a(),s(532,"div",156)(533,"div",157),h(534,"img",171),a(),s(535,"p",195),c(536," Complete los detalles para editar servicio "),a(),s(537,"form")(538,"div",50)(539,"div",51)(540,"label",213),c(541,"Servicio"),a(),h(542,"input",214),a(),s(543,"div",51)(544,"label",202),c(545,"Tiempo Actividad (Minutos)"),a(),s(546,"input",203),A("ngModelChange",function(d){return g(o),T(t.updateServiceTime,d)||(t.updateServiceTime=d),_(d)}),f("input",function(d){return g(o),_(t.checkLengthTime(d))}),a()()(),s(547,"div",204)(548,"div",215)(549,"label",216),c(550,"Subservicio"),a(),h(551,"input",217),a(),s(552,"div",51)(553,"label",202),c(554,"Precio (*Opcional)"),a(),s(555,"input",218),A("ngModelChange",function(d){return g(o),T(t.updateServicePrice,d)||(t.updateServicePrice=d),_(d)}),f("blur",function(d){return g(o),_(t.resetPrice(d))})("input",function(d){return g(o),_(t.checkLengthPrice(d))}),a()()()()(),s(556,"div",166)(557,"button",219),f("click",function(){return g(o),_(t.updateServiceWithSubservice())}),c(558," Guardar "),a(),s(559,"button",168),c(560," Cancelar "),a()()()()(),s(561,"div",220)(562,"div",151)(563,"div",221)(564,"div",222)(565,"h5",223),c(566," Responder Pregunta "),a(),h(567,"button",224),a(),s(568,"div",156)(569,"div",157),h(570,"img",171),a(),s(571,"form",225),f("ngSubmit",function(){return g(o),_(t.updateQuestion())}),s(572,"div",159)(573,"label",226),c(574,"Pregunta"),a(),s(575,"textarea",227),A("ngModelChange",function(d){return g(o),T(t.editQuestionText,d)||(t.editQuestionText=d),_(d)}),a()(),s(576,"div",159)(577,"label",228),c(578,"Respuesta"),a(),s(579,"textarea",229),A("ngModelChange",function(d){return g(o),T(t.editAnswerText,d)||(t.editAnswerText=d),_(d)}),a()(),s(580,"div",230)(581,"button",231),c(582," Guardar Respuesta "),a(),s(583,"button",168),c(584," Cancelar "),a()()()()()()(),s(585,"div",232)(586,"div",151)(587,"div",152)(588,"div",222)(589,"h5",233),c(590," Responder Rese\xF1a "),a(),h(591,"button",224),a(),s(592,"div",156)(593,"div",157),h(594,"img",171),a(),s(595,"form",225),f("ngSubmit",function(){return g(o),_(t.confirmResponseReview())}),s(596,"div",159)(597,"label",234),c(598,"Rese\xF1a"),a(),s(599,"textarea",235),A("ngModelChange",function(d){return g(o),T(t.editReviewText,d)||(t.editReviewText=d),_(d)}),a()(),s(600,"div",236)(601,"label",237),c(602,"Tu respuesta"),a(),s(603,"textarea",238),A("ngModelChange",function(d){return g(o),T(t.responseText,d)||(t.responseText=d),_(d)}),a()(),s(604,"div",230)(605,"button",231),c(606," Guardar Cambios "),a(),s(607,"button",168),c(608," Cancelar "),a()()()()()()(),s(609,"div",239)(610,"div",151)(611,"div",152)(612,"div",222)(613,"h5",240),c(614,"Nueva Categor\xEDa"),a(),h(615,"button",155),a(),s(616,"div",156)(617,"div",133),h(618,"img",171),a(),s(619,"div",241)(620,"select",242),A("ngModelChange",function(d){return g(o),T(t.selectedCategory,d)||(t.selectedCategory=d),_(d)}),s(621,"option",243),c(622,"Selecciona una opci\xF3n"),a(),M(623,Ky,2,2,"option",244),a()()(),s(624,"div",166)(625,"button",245),f("click",function(){return g(o),_(t.addCategorySalon())}),c(626," Guardar "),a(),s(627,"button",168),c(628," Cancelar "),a()()()()(),s(629,"div",246)(630,"div",151)(631,"div",152)(632,"div",153)(633,"h5",247),c(634,"Editar Categor\xEDa"),a(),h(635,"button",155),a(),s(636,"div",156)(637,"div",133),h(638,"img",171),a(),s(639,"form")(640,"div",159)(641,"label",248),c(642,"Selecciona la Categor\xEDa para Editar"),a(),s(643,"select",249),A("ngModelChange",function(d){return g(o),T(t.selectedCategory.category,d)||(t.selectedCategory.category=d),_(d)}),s(644,"option",250),c(645,"Selecciona una categor\xEDa"),a(),M(646,Zy,2,2,"option",251),a()()()(),s(647,"div",166)(648,"button",167),f("click",function(){return g(o),_(t.updateCategory())}),c(649," Guardar "),a(),s(650,"button",168),c(651," Cancelar "),a()()()()(),s(652,"div",252)(653,"div",151)(654,"div",152)(655,"div",153)(656,"h5",253),c(657," Eliminar Categor\xEDas "),a(),h(658,"button",155),a(),s(659,"div",156)(660,"div",157),h(661,"img",171),a(),s(662,"p"),c(663,"\xBFEst\xE1s seguro que deseas eliminar la categor\xEDa seleccionada?"),a()(),s(664,"div",166)(665,"button",167),f("click",function(){return g(o),_(t.confirmDeleteCategory())}),c(666," Eliminar "),a(),s(667,"button",168),c(668," Cancelar "),a()()()()(),s(669,"div",254)(670,"div",151)(671,"div",152)(672,"div",153)(673,"h5",255),c(674," Eliminar Servicio "),a(),h(675,"button",155),a(),s(676,"div",156)(677,"div",157),h(678,"img",171),a(),s(679,"p"),c(680,"\xBFEst\xE1s seguro que deseas eliminar el servicio seleccionado?"),a()(),s(681,"div",166)(682,"button",167),f("click",function(){return g(o),_(t.confirmDeleteService())}),c(683," Eliminar "),a(),s(684,"button",168),c(685," Cancelar "),a()()()()(),s(686,"div",256)(687,"div",257)(688,"div",152)(689,"div",258)(690,"h5",259),c(691," Eliminar Pregunta "),a(),h(692,"button",155),a(),s(693,"div",156)(694,"div",157),h(695,"img",171),a(),s(696,"p"),c(697,"\xBFEst\xE1s seguro que deseas eliminar la pregunta seleccionada?"),a()(),s(698,"div",166)(699,"button",167),f("click",function(){return g(o),_(t.confirmDeleteFaq())}),c(700," Eliminar "),a(),s(701,"button",168),c(702," Cancelar "),a()()()()(),s(703,"div",260)(704,"div",257)(705,"div",152)(706,"div",258)(707,"h5",261),c(708," Eliminar Pregunta "),a(),h(709,"button",155),a(),s(710,"div",156)(711,"div",157),h(712,"img",171),a(),s(713,"p"),c(714,"\xBFEst\xE1s seguro que deseas eliminar la rese\xF1a seleccionada?"),a()(),s(715,"div",166)(716,"button",167),f("click",function(){return g(o),_(t.confirmDeleteReview())}),c(717," Eliminar "),a(),s(718,"button",168),c(719," Cancelar "),a()()()()(),s(720,"div",262)(721,"div",151)(722,"div",152)(723,"div",153)(724,"h5",263),c(725," Modificar tu rese\xF1a "),a(),h(726,"button",155),a(),s(727,"div",156)(728,"div",264),h(729,"img",265),a(),s(730,"div",266)(731,"label",267),c(732,"Servicio:"),a(),s(733,"div",268)(734,"input",269),A("ngModelChange",function(d){return g(o),T(t.ratings.service[0],d)||(t.ratings.service[0]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,0))}),a(),h(735,"label",270),s(736,"input",271),A("ngModelChange",function(d){return g(o),T(t.ratings.service[1],d)||(t.ratings.service[1]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,1))}),a(),h(737,"label",272),s(738,"input",273),A("ngModelChange",function(d){return g(o),T(t.ratings.service[2],d)||(t.ratings.service[2]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,2))}),a(),h(739,"label",274),s(740,"input",275),A("ngModelChange",function(d){return g(o),T(t.ratings.service[3],d)||(t.ratings.service[3]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,3))}),a(),h(741,"label",276),s(742,"input",277),A("ngModelChange",function(d){return g(o),T(t.ratings.service[4],d)||(t.ratings.service[4]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,4))}),a(),h(743,"label",278),a()(),s(744,"div",279)(745,"label",267),c(746,"Calidad/Precio:"),a(),s(747,"div",268)(748,"input",280),A("ngModelChange",function(d){return g(o),T(t.ratings.quality[0],d)||(t.ratings.quality[0]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,0))}),a(),h(749,"label",281),s(750,"input",282),A("ngModelChange",function(d){return g(o),T(t.ratings.quality[1],d)||(t.ratings.quality[1]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,1))}),a(),h(751,"label",283),s(752,"input",284),A("ngModelChange",function(d){return g(o),T(t.ratings.quality[2],d)||(t.ratings.quality[2]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,2))}),a(),h(753,"label",285),s(754,"input",286),A("ngModelChange",function(d){return g(o),T(t.ratings.quality[3],d)||(t.ratings.quality[3]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,3))}),a(),h(755,"label",287),s(756,"input",288),A("ngModelChange",function(d){return g(o),T(t.ratings.quality[4],d)||(t.ratings.quality[4]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,4))}),a(),h(757,"label",289),a()(),s(758,"div",279)(759,"label",267),c(760,"Limpieza:"),a(),s(761,"div",268)(762,"input",290),A("ngModelChange",function(d){return g(o),T(t.ratings.cleanliness[0],d)||(t.ratings.cleanliness[0]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,0))}),a(),h(763,"label",291),s(764,"input",292),A("ngModelChange",function(d){return g(o),T(t.ratings.cleanliness[1],d)||(t.ratings.cleanliness[1]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,1))}),a(),h(765,"label",293),s(766,"input",294),A("ngModelChange",function(d){return g(o),T(t.ratings.cleanliness[2],d)||(t.ratings.cleanliness[2]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,2))}),a(),h(767,"label",295),s(768,"input",296),A("ngModelChange",function(d){return g(o),T(t.ratings.cleanliness[3],d)||(t.ratings.cleanliness[3]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,3))}),a(),h(769,"label",297),s(770,"input",298),A("ngModelChange",function(d){return g(o),T(t.ratings.cleanliness[4],d)||(t.ratings.cleanliness[4]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,4))}),a(),h(771,"label",299),a()(),s(772,"div",279)(773,"label",267),c(774,"Rapidez:"),a(),s(775,"div",268)(776,"input",300),A("ngModelChange",function(d){return g(o),T(t.ratings.speed[0],d)||(t.ratings.speed[0]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,0))}),a(),h(777,"label",301),s(778,"input",302),A("ngModelChange",function(d){return g(o),T(t.ratings.speed[1],d)||(t.ratings.speed[1]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,1))}),a(),h(779,"label",303),s(780,"input",304),A("ngModelChange",function(d){return g(o),T(t.ratings.speed[2],d)||(t.ratings.speed[2]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,2))}),a(),h(781,"label",305),s(782,"input",306),A("ngModelChange",function(d){return g(o),T(t.ratings.speed[3],d)||(t.ratings.speed[3]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,3))}),a(),h(783,"label",307),s(784,"input",308),A("ngModelChange",function(d){return g(o),T(t.ratings.speed[4],d)||(t.ratings.speed[4]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,4))}),a(),h(785,"label",309),a()()(),s(786,"div",310)(787,"label",311),c(788,"Rese\xF1a del usuario:"),a(),s(789,"textarea",312),A("ngModelChange",function(d){return g(o),T(t.additionalComments,d)||(t.additionalComments=d),_(d)}),a(),s(790,"label",313),c(791,"Respuesta del Propietario:"),a(),s(792,"textarea",312),A("ngModelChange",function(d){return g(o),T(t.responseText,d)||(t.responseText=d),_(d)}),a()(),s(793,"div",166)(794,"button",167),f("click",function(){return g(o),_(t.updateReviewModal())}),c(795," Guardar "),a(),s(796,"button",168),c(797," Cancelar "),a()()()()(),s(798,"div",314)(799,"div",257)(800,"div",152)(801,"div",258)(802,"h5",315),c(803," Eliminar Imagen "),a(),h(804,"button",155),a(),s(805,"div",156)(806,"div",157),h(807,"img",171),a(),s(808,"p"),c(809," \xBFEst\xE1s seguro que deseas eliminar la imagen del sal\xF3n seleccionada? "),a()(),s(810,"div",166)(811,"button",167),f("click",function(){return g(o),_(t.confirmDeleteImage())}),c(812," Eliminar "),a(),s(813,"button",168),c(814," Cancelar "),a()()()()()()}if(n&2){let o=Se(75),l=Se(82),d=Se(90),m=Se(97),v=Se(105),p=Se(115),y=Se(126),C=Se(133),E=Se(174);u(5),b("ngIf",t.isLoading),u(10),V(t.salonData.name),u(40),b("ngIf",t.userType==="admin"),u(5),D("ngModel",t.salonData.active),u(5),D("ngModel",t.salonData.in_vacation),u(),b("href",t.getSalonUrl(),Ie),u(8),D("ngModel",t.salonData.name),u(2),b("ngIf",o.invalid&&o.touched),u(5),D("ngModel",t.salonData.email),u(2),b("ngIf",l.invalid&&l.touched),u(6),D("ngModel",t.salonData.address),u(2),b("ngIf",d.invalid&&d.touched),u(5),D("ngModel",t.salonData.phone),u(2),b("ngIf",m.invalid&&m.touched),u(6),D("ngModel",t.salonData.id_province),u(4),b("ngForOf",t.provinces),u(),b("ngIf",v.invalid&&v.touched),u(5),D("ngModel",t.salonData.id_city),u(4),b("ngForOf",t.cities),u(),b("ngIf",p.invalid&&p.touched),u(6),D("ngModel",t.salonData.latitud),u(2),b("ngIf",y.invalid&&y.touched),u(5),D("ngModel",t.salonData.longitud),u(2),b("ngIf",C.invalid&&C.touched),u(6),D("ngModel",t.salonData.map),u(5),D("ngModel",t.salonData.url),u(6),D("ngModel",t.salonData.facebook_url),u(5),D("ngModel",t.salonData.instagram_url),u(6),D("ngModel",t.salonData.tiktok_url),u(5),D("ngModel",t.salonData.youtube_url),u(6),D("ngModel",t.salonData.whatsapp_phone),u(2),b("ngIf",E.invalid&&E.touched),u(6),D("ngModel",t.salonData.about_us),u(20),b("ngForOf",t.days),u(28),b("ngForOf",t.images),u(),b("ngIf",t.isImageOpen),u(19),b("ngIf",t.salonData.categoriesArray&&t.salonData.categoriesArray.length>0),u(),b("ngIf",!t.salonData.categoriesArray||t.salonData.categoriesArray.length===0),u(2),b("ngIf",t.isImageOpen),u(27),b("ngForOf",t.getSalonServices),u(25),b("ngForOf",t.brandsBySalon),u(10),b("src",t.selectedBrandImage||"../../../assets/img/sello.jpg",Ie),u(4),D("ngModel",t.selectedCategory),u(3),b("ngForOf",t.brands_categories),u(4),D("ngModel",t.term),u(),b("ngIf",t.brands.length>0),u(19),b("src",t.selectedImgUpdateBrand,Ie),u(5),Y(" ",t.selectedUpdateBrand," "),u(4),D("ngModel",t.selectedUpdatedCategoryBrand),u(3),b("ngForOf",t.brands_categories),u(4),D("ngModel",t.termUpdate),u(),b("ngIf",t.brands.length>0),u(82),b("ngForOf",t.faqByIdSalon),u(7),Y(" ",t.averageRatingStart.toFixed(2).replace(".",",")," puntos sobre 5. "),u(21),b("ngIf",t.userPermiso==="admin"),u(2),b("ngForOf",t.reviews),u(18),D("ngModel",t.selectedCategory),u(3),b("ngForOf",t.service_categories),u(5),D("ngModel",t.newServiceName),u(3),b("ngForOf",t.getSalonDataSelect),u(4),D("ngModel",t.newServiceTime),u(5),D("ngModel",t.newSubservices),u(3),b("ngForOf",t.getSalonSubservices),u(4),D("ngModel",t.newServicePrice),u(23),b("value",t.selectedServiceName),u(4),D("ngModel",t.updateServiceTime),u(5),b("value",t.selectedSubserviceName),u(4),D("ngModel",t.updateServicePrice),u(20),D("ngModel",t.editQuestionText),u(4),D("ngModel",t.editAnswerText),u(20),D("ngModel",t.editReviewText),u(4),D("ngModel",t.responseText),u(17),D("ngModel",t.selectedCategory),u(3),b("ngForOf",t.getCategories),u(20),D("ngModel",t.selectedCategory.category),u(3),b("ngForOf",t.getCategories),u(88),D("ngModel",t.ratings.service[0]),u(2),D("ngModel",t.ratings.service[1]),u(2),D("ngModel",t.ratings.service[2]),u(2),D("ngModel",t.ratings.service[3]),u(2),D("ngModel",t.ratings.service[4]),u(6),D("ngModel",t.ratings.quality[0]),u(2),D("ngModel",t.ratings.quality[1]),u(2),D("ngModel",t.ratings.quality[2]),u(2),D("ngModel",t.ratings.quality[3]),u(2),D("ngModel",t.ratings.quality[4]),u(6),D("ngModel",t.ratings.cleanliness[0]),u(2),D("ngModel",t.ratings.cleanliness[1]),u(2),D("ngModel",t.ratings.cleanliness[2]),u(2),D("ngModel",t.ratings.cleanliness[3]),u(2),D("ngModel",t.ratings.cleanliness[4]),u(6),D("ngModel",t.ratings.speed[0]),u(2),D("ngModel",t.ratings.speed[1]),u(2),D("ngModel",t.ratings.speed[2]),u(2),D("ngModel",t.ratings.speed[3]),u(2),D("ngModel",t.ratings.speed[4]),u(5),D("ngModel",t.additionalComments),u(3),D("ngModel",t.responseText)}},dependencies:[Ai,ue,ce,lt,Je,Qe,Ke,me,Tr,Ve,je,fe,$e,ut,Ir,gi,Ar,Ce,Ye,ge,_e,ve,Ft],styles:['@charset "UTF-8";.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#b91622;border-color:#b91622}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#495057;background-color:#f8f9fa;border:1px solid #dee2e6;border-radius:.25rem}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#e1e1e1;color:#000}.circle-input-group[_ngcontent-%COMP%]{display:flex;gap:5px}.circle-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.circle-label[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #ddd;border-radius:50%;display:inline-block;cursor:pointer;transition:background-color .3s,border-color .3s}.circle-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .circle-label[_ngcontent-%COMP%]{background-color:#b71622;border:1px solid gray}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#9e1420;border-color:#9e1420}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{cursor:pointer}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#b91622}label[_ngcontent-%COMP%]{color:#000}Complete[_ngcontent-%COMP%]   los[_ngcontent-%COMP%]   detalles[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]   nuevo[_ngcontent-%COMP%]   servicio[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.d-flex.align-items-center[_ngcontent-%COMP%]{display:flex;align-items:center}.ml-2[_ngcontent-%COMP%]{margin-left:.5rem}.text-center[_ngcontent-%COMP%]{text-align:center}.fullsize[_ngcontent-%COMP%]{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:2}.fullsize[_ngcontent-%COMP%]{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;display:flex;justify-content:center;align-items:center}.fullsize[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh}.image-container[_ngcontent-%COMP%]{width:200px;height:70px;overflow:hidden;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;object-fit:cover}.loading-overlay[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:1000}#modalNuevoServicio[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 3px 9px #00000080}.star-rating[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;font-size:2rem;color:#ddd;cursor:pointer;-webkit-user-select:none;user-select:none}.star-rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.star-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;padding:0;color:#ddd;transition:color .2s}.star-rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%], .star-rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, .star-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]{display:inline-flex}.star[_ngcontent-%COMP%]{font-size:1.5rem;color:#ffca28;margin-right:.2rem}.star.filled[_ngcontent-%COMP%]{color:#ffca28}.star[_ngcontent-%COMP%]{color:#ddd}#newBrand[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}#selectedUpdateBrand[_ngcontent-%COMP%]{border:none;border-radius:0;margin-bottom:0}']})}}return i})();var $h=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getProvinces(){return this.http.get(`${this.baseUrl}/edithome/getProvinces`)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edithome/getCitiesByProvince`,{params:{id_province:e.toString()}})}createSalon(e){let n=`${this.baseUrl}/edithome/createSalon`,t=new jt({"Content-Type":"application/json"});return this.http.post(n,e,{headers:t})}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-home`,{params:{permiso:e||""}})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Xy(i,r){i&1&&(s(0,"div",66),c(1," El Plus Code es requerido. "),a())}function eC(i,r){i&1&&(s(0,"div",66),c(1," El nombre es requerido. "),a())}function tC(i,r){i&1&&(s(0,"div",66),c(1," El email es requerido. "),a())}function iC(i,r){i&1&&(s(0,"div",66),c(1," La direcci\xF3n es requerida. "),a())}function nC(i,r){i&1&&(s(0,"div",66),c(1," El n\xFAmero de tel\xE9fono es requerido. "),a())}function rC(i,r){i&1&&(s(0,"div",66),c(1," La latitud es requerida. "),a())}function oC(i,r){i&1&&(s(0,"div",66),c(1," La longitud es requerida. "),a())}function aC(i,r){if(i&1&&(s(0,"option",67),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function sC(i,r){i&1&&(s(0,"div",66),c(1," La provincia es requerida. "),a())}function lC(i,r){if(i&1&&(s(0,"option",67),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function cC(i,r){i&1&&(s(0,"div",66),c(1," La ciudad es requerida. "),a())}var Jh=(()=>{class i{constructor(e,n,t){this.route=e,this.newHomeService=n,this.toastr=t,this.salonId=0,this.salonData={id_salon:"",id_city:"",id_province:"",plus_code:"",active:"1",state:"No reclamado",in_vacation:"",name:"",address:"",latitud:"",longitud:"",email:"",url:"",phone:"",map:"",iframe:"",image:"",about_us:"",score_old:"",hours_old:"Lunes, De 10:00 a 14:00, De 16:00 a 20:00; Martes, De 10:00 a 14:00, De 16:00 a 20:00; Mi\xE9rcoles, De 10:00 a 14:00, De 16:00 a 20:00; Jueves, De 10:00 a 14:00, De 16:00 a 20:00; Viernes, De 10:00 a 14:00, De 16:00 a 20:00; S\xE1bado, De 10:00 a 14:00, Cerrado; Domingo, Cerrado, Cerrado",zip_code_old:"",overview_old:"",created_at:"",updated_at:"",deleted_at:"",categories:"",city_name:"",city_zip_code:""},this.in_vacation=0,this.provinces=[],this.cities=[],this.dias=[],this.currentPage=1,this.pageSize=10,this.selectedFile=null,this.images=[],this.fileDescription="",this.fileGroup="",this.filePrincipal=!1,this.fileActive=!0,this.currentImageUrl="",this.currentImageAlt="",this.isImageOpen=!1}ngOnInit(){this.route.paramMap.subscribe(e=>{let n=e.get("id");this.salonId=n?+n:0,this.loadProvinces(),sessionStorage.getItem("salonCreated")==="true"&&(this.toastr.success('<i class="las la-info-circle">Sal\xF3n creado con \xE9xito.</i>'),sessionStorage.removeItem("salonCreated"))})}loadProvinces(){this.newHomeService.getProvinces().subscribe(e=>{this.provinces=e.data,this.salonId},e=>{console.error("Error fetching provinces:",e)})}onProvinceChange(e,n=!1){n||(this.salonData.id_city="",this.salonData.city_name=""),this.newHomeService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,n&&this.salonData.id_city){let o=this.cities.find(l=>l.id_city===this.salonData.id_city);o&&(this.salonData.city_name=o.city_name)}},t=>{console.error("Error fetching cities:",t)})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.salonData.city_name=n.city_name,this.salonData.id_city=n.id_city)}onFileSelected(e){this.selectedFile=e.target.files[0]}createSalon(e){if(this.salonData.in_vacation="0",e.invalid){e.control.markAllAsTouched(),this.salonData.in_vacation="";return}this.newHomeService.createSalon(this.salonData).subscribe(n=>{console.log("Salon created successfully",n),sessionStorage.setItem("salonCreated","true"),window.location.reload()},n=>{console.error("Error creating salon",n),this.toastr.error('<i class="las la-info-circle">Error: Revise los campos del formulario.</i>'),this.salonData.in_vacation=""})}static{this.\u0275fac=function(n){return new(n||i)(B(dt),B($h),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-new-home"]],decls:127,vars:27,consts:[["salonForm","ngForm"],["plusCode","ngModel"],["name","ngModel"],["email","ngModel"],["address","ngModel"],["phone","ngModel"],["latitud","ngModel"],["longitud","ngModel"],["province","ngModel"],["city","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],["id","myTabContent",1,"tab-content","bg-light"],["id","negocio","role","tabpanel","aria-labelledby","negocio-tab",1,"tab-pane","fade","show","active"],[1,"row","mb-3","align-items-center"],[1,"col-md-2"],["for","estado",1,"form-label"],["id","state","name","state",1,"form-select",3,"ngModelChange","ngModel"],["value","No reclamado","selected",""],["value","Reclamado"],["value","Validado"],[1,"col-md-6"],["for","plus_code",1,"form-label"],["type","text","id","plus_code","name","plus_code","placeholder","Ingrese el plus code del negocio","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],[1,"col-md-4","d-flex","align-items-center"],["for","active",1,"form-check-label","me-2"],[1,"form-check","form-switch","me-3"],["type","checkbox","id","active","name","active",1,"form-check-input",3,"ngModelChange","ngModel"],["for","in_vacation",1,"form-check-label","me-2"],[1,"form-check","form-switch"],["type","checkbox","id","in_vacation","name","in_vacation",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"row","mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","placeholder","Ingrese el nombre del negocio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Ingrese su correo electr\xF3nico","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","address",1,"form-label"],["type","text","id","address","name","address","placeholder","Ingrese la direcci\xF3n del negocio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","name","phone","placeholder","Ingrese el n\xFAmero de tel\xE9fono","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","latitud",1,"form-label"],["type","number","id","latitud","name","latitud","placeholder","Ingrese la latitud","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","longitud",1,"form-label"],["type","number","id","longitud","name","longitud","placeholder","Ingrese la longitud","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","provincia",1,"form-label"],["id","provincia","name","id_province","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","ciudad",1,"form-label"],["id","ciudad","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["for","googlemaps",1,"form-label"],["type","text","id","map","name","map","placeholder","Ingrese la URL de Google Maps",1,"form-control",3,"ngModelChange","ngModel"],["for","urlnegocio",1,"form-label"],["type","text","id","url","name","url","placeholder","Ingrese la URL del negocio",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],["for","sobrenosotros",1,"form-label"],["id","about_us","name","about_us","rows","3","placeholder","Establezca la descripci\xF3n de su negocio...",1,"form-control",3,"ngModelChange","ngModel"],["for","categoria",1,"form-label"],["type","text","id","categories","name","categories","placeholder","Ingrese las categor\xEDas del negocio",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-danger","me-2",3,"click"],["type","button","routerLink","/home",1,"btn","btn-secondary"],[1,"text-danger"],[3,"value"]],template:function(n,t){if(n&1){let o=z();h(0,"app-header"),s(1,"div",10),h(2,"app-aside"),s(3,"div",11)(4,"main")(5,"div",12)(6,"h1",13),c(7,"Panel de control"),a(),s(8,"ol",14)(9,"li",15),c(10," Administraci\xF3n / "),s(11,"b"),c(12,"Negocios / "),a(),s(13,"b"),c(14,"Nuevo"),a()()(),s(15,"div",16)(16,"div",17)(17,"form",null,0)(19,"div",18)(20,"div",19)(21,"label",20),c(22,"Estado"),a(),s(23,"select",21),A("ngModelChange",function(d){return g(o),T(t.salonData.state,d)||(t.salonData.state=d),_(d)}),s(24,"option",22),c(25,"No reclamado"),a(),s(26,"option",23),c(27,"Reclamado"),a(),s(28,"option",24),c(29,"Validado"),a()()(),s(30,"div",25)(31,"label",26),c(32,"Plus Code"),a(),s(33,"input",27,1),A("ngModelChange",function(d){return g(o),T(t.salonData.plus_code,d)||(t.salonData.plus_code=d),_(d)}),a(),M(35,Xy,2,0,"div",28),a(),s(36,"div",29)(37,"label",30),c(38,"Activo"),a(),s(39,"div",31)(40,"input",32),A("ngModelChange",function(d){return g(o),T(t.salonData.active,d)||(t.salonData.active=d),_(d)}),a()(),s(41,"label",33),c(42,"Cerrado por vacaciones"),a(),s(43,"div",34)(44,"input",35),A("ngModelChange",function(d){return g(o),T(t.salonData.in_vacation,d)||(t.salonData.in_vacation=d),_(d)}),a()()()(),s(45,"div",36)(46,"div",25)(47,"label",37),c(48,"Nombre"),a(),s(49,"input",38,2),A("ngModelChange",function(d){return g(o),T(t.salonData.name,d)||(t.salonData.name=d),_(d)}),a(),M(51,eC,2,0,"div",28),a(),s(52,"div",25)(53,"label",39),c(54,"E-mail"),a(),s(55,"input",40,3),A("ngModelChange",function(d){return g(o),T(t.salonData.email,d)||(t.salonData.email=d),_(d)}),a(),M(57,tC,2,0,"div",28),a()(),s(58,"div",36)(59,"div",25)(60,"label",41),c(61,"Direcci\xF3n"),a(),s(62,"input",42,4),A("ngModelChange",function(d){return g(o),T(t.salonData.address,d)||(t.salonData.address=d),_(d)}),a(),M(64,iC,2,0,"div",28),a(),s(65,"div",25)(66,"label",43),c(67,"N\xBA de Tel\xE9fono"),a(),s(68,"input",44,5),A("ngModelChange",function(d){return g(o),T(t.salonData.phone,d)||(t.salonData.phone=d),_(d)}),a(),M(70,nC,2,0,"div",28),a()(),s(71,"div",36)(72,"div",25)(73,"label",45),c(74,"Latitud"),a(),s(75,"input",46,6),A("ngModelChange",function(d){return g(o),T(t.salonData.latitud,d)||(t.salonData.latitud=d),_(d)}),a(),M(77,rC,2,0,"div",28),a(),s(78,"div",25)(79,"label",47),c(80,"Longitud"),a(),s(81,"input",48,7),A("ngModelChange",function(d){return g(o),T(t.salonData.longitud,d)||(t.salonData.longitud=d),_(d)}),a(),M(83,oC,2,0,"div",28),a()(),s(84,"div",36)(85,"div",25)(86,"label",49),c(87,"Provincia"),a(),s(88,"select",50,8),A("ngModelChange",function(d){return g(o),T(t.salonData.id_province,d)||(t.salonData.id_province=d),_(d)}),f("change",function(){return g(o),_(t.onProvinceChange(t.salonData.id_province))}),s(90,"option",51),c(91,"Seleccione una provincia..."),a(),M(92,aC,2,2,"option",52),a(),M(93,sC,2,0,"div",28),a(),s(94,"div",25)(95,"label",53),c(96,"Ciudad-CP"),a(),s(97,"select",54,9),A("ngModelChange",function(d){return g(o),T(t.salonData.id_city,d)||(t.salonData.id_city=d),_(d)}),f("change",function(){return g(o),_(t.onCityChange(t.salonData.id_city))}),s(99,"option",51),c(100,"Seleccione una ciudad..."),a(),M(101,lC,2,3,"option",52),a(),M(102,cC,2,0,"div",28),a()(),s(103,"div",36)(104,"div",25)(105,"label",55),c(106,"URL de Google Maps"),a(),s(107,"input",56),A("ngModelChange",function(d){return g(o),T(t.salonData.map,d)||(t.salonData.map=d),_(d)}),a()(),s(108,"div",25)(109,"label",57),c(110,"URL del Negocio"),a(),s(111,"input",58),A("ngModelChange",function(d){return g(o),T(t.salonData.url,d)||(t.salonData.url=d),_(d)}),a()()(),s(112,"div",36)(113,"div",59)(114,"label",60),c(115,"Sobre Nosotros"),a(),s(116,"textarea",61),A("ngModelChange",function(d){return g(o),T(t.salonData.about_us,d)||(t.salonData.about_us=d),_(d)}),a()()(),s(117,"div",36)(118,"div",59)(119,"label",62),c(120,"Categor\xEDas"),a(),s(121,"input",63),A("ngModelChange",function(d){return g(o),T(t.salonData.categories,d)||(t.salonData.categories=d),_(d)}),a()()(),s(122,"button",64),f("click",function(){g(o);let d=Se(18);return _(t.createSalon(d))}),c(123," Guardar "),a(),s(124,"button",65),c(125," Cancelar "),a()()()()()(),h(126,"app-footer"),a()()}if(n&2){let o=Se(34),l=Se(50),d=Se(56),m=Se(63),v=Se(69),p=Se(76),y=Se(82),C=Se(89),E=Se(98);u(23),D("ngModel",t.salonData.state),u(10),D("ngModel",t.salonData.plus_code),u(2),b("ngIf",o.invalid&&o.touched),u(5),D("ngModel",t.salonData.active),u(4),D("ngModel",t.salonData.in_vacation),u(5),D("ngModel",t.salonData.name),u(2),b("ngIf",l.invalid&&l.touched),u(4),D("ngModel",t.salonData.email),u(2),b("ngIf",d.invalid&&d.touched),u(5),D("ngModel",t.salonData.address),u(2),b("ngIf",m.invalid&&m.touched),u(4),D("ngModel",t.salonData.phone),u(2),b("ngIf",v.invalid&&v.touched),u(5),D("ngModel",t.salonData.latitud),u(2),b("ngIf",p.invalid&&p.touched),u(4),D("ngModel",t.salonData.longitud),u(2),b("ngIf",y.invalid&&y.touched),u(5),D("ngModel",t.salonData.id_province),u(4),b("ngForOf",t.provinces),u(),b("ngIf",C.invalid&&C.touched),u(4),D("ngModel",t.salonData.id_city),u(4),b("ngForOf",t.cities),u(),b("ngIf",E.invalid&&E.touched),u(5),D("ngModel",t.salonData.map),u(4),D("ngModel",t.salonData.url),u(5),D("ngModel",t.salonData.about_us),u(5),D("ngModel",t.salonData.categories)}},dependencies:[ue,ce,lt,Je,Qe,Ke,me,Tr,Ve,je,fe,$e,ut,Ce,Ye,ge,_e,ve],styles:[".form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#b91622}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}"]})}}return i})();var it=(()=>{class i{constructor(e,n){this.authService=e,this.router=n}canActivate(e,n){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(n){return new(n||i)(L(Ui),L(qe))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Qh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getDataUser(e){let n=new ye().set("id_user",e.toString());return this.http.get(`${this.baseUrl}/profile-user/getDataUser`,{params:n})}getProvinces(){return this.http.get(`${this.baseUrl}/profile-user/getProvincesForProfile`)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/profile-user/getCitiesByProvinceForProfile`,{params:{id_province:e.toString()}})}updateUserData(e){return this.http.put(`${this.baseUrl}/profile-user/updateUser`,e)}updateUserPassword(e,n){let t={id_user:e,password:n};return this.http.put(`${this.baseUrl}/profile-user/updateUserPassword`,t)}uploadProfilePicture(e,n){return this.http.put(`${this.baseUrl}/profile-user/uploadProfilePicture/${e}`,n)}desactivateAccount(e){let n=`${this.baseUrl}/profile-user/desactivateAccount/${e}`,t={status:0};return this.http.patch(n,t)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function uC(i,r){i&1&&(s(0,"div",63),c(1," Nombre es obligatorio "),a())}function mC(i,r){i&1&&(s(0,"div",63),c(1," Apellidos son obligatorios "),a())}function hC(i,r){i&1&&(s(0,"div",63),c(1," Introduzca un correo electr\xF3nico v\xE1lido "),a())}function pC(i,r){i&1&&(s(0,"div",63),c(1," N\xFAmero de tel\xE9fono es obligatorio y debe tener 9 d\xEDgitos "),a())}function fC(i,r){i&1&&(s(0,"div",63),c(1," Direcci\xF3n es obligatoria "),a())}function gC(i,r){if(i&1&&(s(0,"option",64),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function _C(i,r){i&1&&(s(0,"div",63),c(1," Provincia es obligatoria "),a())}function vC(i,r){if(i&1&&(s(0,"option",64),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function bC(i,r){i&1&&(s(0,"div",63),c(1," Poblaci\xF3n es obligatoria "),a())}function yC(i,r){if(i&1){let e=z();s(0,"div")(1,"div",18)(2,"div",19)(3,"div",20),h(4,"img",21),a(),s(5,"div",22)(6,"label",23),c(7,"Subir imagen"),a(),s(8,"input",24),f("change",function(t){g(e);let o=x();return _(o.onFileSelected(t))}),a(),s(9,"p",25),c(10," Archivos permitidos JPG, GIF o PNG. Tama\xF1o m\xE1ximo 800K "),a()()()(),s(11,"form",26),f("ngSubmit",function(){g(e);let t=x();return _(t.UpdateUserData())}),s(12,"div",27)(13,"div",28)(14,"label",29),c(15,"Nombre"),a(),s(16,"input",30,0),A("ngModelChange",function(t){g(e);let o=x();return T(o.userData.name,t)||(o.userData.name=t),_(t)}),a(),M(18,uC,2,0,"div",31),a(),s(19,"div",28)(20,"label",32),c(21,"Apellidos"),a(),s(22,"input",33,1),A("ngModelChange",function(t){g(e);let o=x();return T(o.userData.lastname,t)||(o.userData.lastname=t),_(t)}),a(),M(24,mC,2,0,"div",31),a()(),s(25,"div",27)(26,"div",28)(27,"label",34),c(28,"E-mail"),a(),s(29,"input",35,2),A("ngModelChange",function(t){g(e);let o=x();return T(o.userData.email,t)||(o.userData.email=t),_(t)}),a(),M(31,hC,2,0,"div",31),a(),s(32,"div",28)(33,"label",36),c(34,"N\xBA de Tel\xE9fono"),a(),s(35,"input",37,3),A("ngModelChange",function(t){g(e);let o=x();return T(o.userData.phone,t)||(o.userData.phone=t),_(t)}),a(),M(37,pC,2,0,"div",31),a()(),s(38,"div",27)(39,"div",28)(40,"label",38),c(41,"Direcci\xF3n"),a(),s(42,"input",39,4),A("ngModelChange",function(t){g(e);let o=x();return T(o.userData.address,t)||(o.userData.address=t),_(t)}),a(),M(44,fC,2,0,"div",31),a(),s(45,"div",40)(46,"label",41),c(47,"Provincia"),a(),s(48,"select",42,5),A("ngModelChange",function(t){g(e);let o=x();return T(o.userData.id_province,t)||(o.userData.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),s(50,"option",43),c(51," Seleccione una provincia "),a(),M(52,gC,2,2,"option",44),a(),M(53,_C,2,0,"div",31),a(),s(54,"div",40)(55,"label",45),c(56,"Poblaci\xF3n"),a(),s(57,"select",46,6),A("ngModelChange",function(t){g(e);let o=x();return T(o.userData.id_city,t)||(o.userData.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.userData.id_city))}),s(59,"option",43),c(60," Seleccione una poblaci\xF3n "),a(),M(61,vC,2,3,"option",44),a(),M(62,bC,2,0,"div",31),a()(),s(63,"button",47),c(64," Guardar "),a(),s(65,"button",48),c(66,"Cancelar"),a()(),s(67,"div",49)(68,"div",16)(69,"h5"),c(70,"Cambiar contrase\xF1a"),a(),s(71,"form",26),f("ngSubmit",function(){g(e);let t=x();return _(t.changePassword())}),s(72,"div",27)(73,"div",50)(74,"label",51),c(75,"Contrase\xF1a"),a(),s(76,"input",52),A("ngModelChange",function(t){g(e);let o=x();return T(o.password,t)||(o.password=t),_(t)}),a(),s(77,"button",53),f("click",function(){g(e);let t=x();return _(t.togglePasswordVisibility())}),h(78,"i",54),a()(),s(79,"div",50)(80,"label",55),c(81,"Repetir contrase\xF1a"),a(),s(82,"input",56),A("ngModelChange",function(t){g(e);let o=x();return T(o.confirmPassword,t)||(o.confirmPassword=t),_(t)}),a(),s(83,"button",53),f("click",function(){g(e);let t=x();return _(t.toggleConfirmPasswordVisibility())}),h(84,"i",54),a()()(),s(85,"button",57),c(86," Cambiar contrase\xF1a "),a()()()(),s(87,"div",49)(88,"div",16)(89,"h5"),c(90,"Desactivar cuenta"),a(),s(91,"div",58)(92,"strong"),c(93,"\xBFEst\xE1s seguro de que quieres desactivar tu cuenta?"),a(),h(94,"br"),c(95," Una vez que desactives tu cuenta, no hay vuelta atr\xE1s. Por favor est\xE9 seguro. "),a(),s(96,"div",59)(97,"input",60),A("ngModelChange",function(t){g(e);let o=x();return T(o.isConfirmed,t)||(o.isConfirmed=t),_(t)}),a(),s(98,"label",61),c(99," Confirmo la desactivaci\xF3n de mi cuenta "),a()(),s(100,"button",62),f("click",function(){g(e);let t=x();return _(t.desactivateAccount(t.id_user))}),c(101," Desactivar cuenta "),a()()()()}if(i&2){let e=Se(17),n=Se(23),t=Se(30),o=Se(36),l=Se(43),d=Se(49),m=Se(58),v=x();u(4),b("src",v.userData.avatar_path||"../../../assets/img/sello.jpg",Ie),u(12),D("ngModel",v.userData.name),u(2),b("ngIf",e.invalid&&e.touched),u(4),D("ngModel",v.userData.lastname),u(2),b("ngIf",n.invalid&&n.touched),u(5),D("ngModel",v.userData.email),u(2),b("ngIf",t.invalid&&t.touched),u(4),D("ngModel",v.userData.phone),u(2),b("ngIf",o.invalid&&o.touched),u(5),D("ngModel",v.userData.address),u(2),b("ngIf",l.invalid&&l.touched),u(4),D("ngModel",v.userData.id_province),u(4),b("ngForOf",v.provinces),u(),b("ngIf",d.invalid&&d.touched),u(4),D("ngModel",v.userData.id_city),u(4),b("ngForOf",v.cities),u(),b("ngIf",m.invalid&&m.touched),u(14),b("type",v.showPassword?"text":"password"),D("ngModel",v.password),u(2),b("ngClass",v.showPassword?"las la-eye-slash":"las la-eye"),u(4),b("type",v.showConfirmPassword?"text":"password"),D("ngModel",v.confirmPassword),u(2),b("ngClass",v.showConfirmPassword?"las la-eye-slash":"las la-eye"),u(13),D("ngModel",v.isConfirmed),u(3),b("disabled",!v.isConfirmed)}}var fc=(()=>{class i{constructor(e,n,t){this.profileService=e,this.toastr=n,this.router=t,this.userData={},this.id_user="",this.errorMessage="",this.cities=[],this.provinces=[],this.confirmPassword="",this.password="",this.isConfirmed=!1,this.showPassword=!1,this.showConfirmPassword=!1}ngOnInit(){let e=localStorage.getItem("usuarioId");e&&(this.id_user=e,this.userData.id_city="",this.getDataUser())}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}getDataUser(){this.profileService.getDataUser(this.id_user).subscribe(e=>{Array.isArray(e.data)&&e.data.length>0&&(this.userData=e.data[0],this.userData.id_city||(this.userData.id_city=""),this.userData.id_province&&this.loadCities(this.userData.id_province,!0),this.loadProvinces())},e=>{this.errorMessage="Error fetching user data",console.error("Error fetching user data:",e)})}loadProvinces(){this.profileService.getProvinces().subscribe(e=>{this.provinces=e.data,this.provinces.length>0&&(this.userData.id_province||(this.userData.id_province=this.provinces[0].id_province,this.loadCities(this.userData.id_province)))},e=>{console.error("Error fetching provinces:",e)})}loadCities(e,n=!1){this.profileService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.userData.id_city!==""){let o=this.cities.find(l=>l.id_city===this.userData.id_city);o&&(this.userData.city_name=o.city_name)}else this.userData.id_city=this.cities[0].id_city,this.userData.city_name=this.cities[0].city_name},t=>{console.error("Error fetching cities:",t)})}onProvinceChange(e){let n=e.target,t=Number(n.value);t?(this.loadCities(t),this.userData.id_city=""):this.cities=[]}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.userData.id_city=n.id_city)}UpdateUserData(){if(!this.userData.name){this.toastr.warning("Por favor, ingrese el nombre.");return}if(!this.userData.lastname){this.toastr.warning("Por favor, ingrese los apellidos.");return}if(!this.userData.email){this.toastr.warning("Por favor, ingrese el correo electr\xF3nico.");return}if(!this.userData.phone){this.toastr.warning("Por favor, ingrese el n\xFAmero de tel\xE9fono.");return}if(!this.userData.address){this.toastr.warning("Por favor, ingrese la direcci\xF3n.");return}if(!this.userData.id_province){this.toastr.warning("Por favor, seleccione una provincia.");return}if(!this.userData.id_city){this.toastr.warning("Por favor, seleccione una poblaci\xF3n.");return}console.log("Saving user data:",this.userData),this.profileService.updateUserData(this.userData).subscribe(e=>{this.toastr.success('<i class="las la-info-circle"> Datos actulizados con \xE9xito</i>'),console.log("User data saved successfully:",e)},e=>{console.error("Error saving user data:",e),this.errorMessage="Error saving user data",this.toastr.error('<i class="las la-info-circle"> No se pudieron actualizar los datos</i>')})}changePassword(){if(this.password!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden",this.toastr.error('<i class="las la-info-circle"> Las contrase\xF1as no coinciden</i>');return}if(!this.password||this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres",this.toastr.error('<i class="las la-info-circle"> La contrase\xF1a debe tener al menos 6 caracteres</i>');return}console.log(this.userData.id_user),this.profileService.updateUserPassword(this.userData.id_user,this.password).subscribe(e=>{console.log("Contrase\xF1a cambiada exitosamente",e),this.toastr.success('<i class="las la-info-circle"> Contrase\xF1a actualizada con \xE9xito</i>'),this.password="",this.confirmPassword=""},e=>{console.error("Error al cambiar la contrase\xF1a",e),this.toastr.error('<i class="las la-info-circle"> Error al cambiar la contrase\xF1a</i>')})}onFileSelected(e){let n=e.target.files[0];if(n){if(n.size>819200){this.toastr.error("El archivo excede el tama\xF1o m\xE1ximo permitido de 800 KB.");return}if(!["image/jpeg","image/png","image/gif"].includes(n.type)){this.toastr.error("Formato de archivo no v\xE1lido. Solo se permiten JPG, GIF o PNG.");return}this.uploadProfilePicture(n)}}uploadProfilePicture(e){let n=new FormData;n.append("profilePicture",e),this.profileService.uploadProfilePicture(this.userData.id_user,n).subscribe(t=>{this.toastr.success("Foto de perfil actualizada exitosamente."),this.userData.profilePicture=t.imageUrl,window.location.reload()},t=>{console.error("Error al subir la foto de perfil",t),this.toastr.error("Error al subir la foto de perfil.")})}desactivateAccount(e){this.isConfirmed&&this.profileService.desactivateAccount(e).subscribe({next:n=>{console.log("Cuenta desactivada con \xE9xito",n),this.router.navigate(["/login"])},error:n=>{console.error("Error al desactivar la cuenta",n)}})}static{this.\u0275fac=function(n){return new(n||i)(B(Qh),B(xe),B(qe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-profile"]],decls:20,vars:1,consts:[["name","ngModel"],["lastname","ngModel"],["email","ngModel"],["phone","ngModel"],["address","ngModel"],["id_province","ngModel"],["id_city","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[1,"row","mb-4"],[1,"col-12","d-flex","flex-column","flex-md-row","align-items-center"],[1,"me-md-3","mb-3","mb-md-0","text-center","text-md-start"],["alt","Foto de perfil",1,"img-fluid","profile-img",3,"src"],[1,"col-12","col-md-6"],["for","fileInput",1,"form-label"],["type","file","accept",".jpg, .jpeg, .png, .gif","id","fileInput",1,"form-control",3,"change"],[1,"small","text-muted","mt-1"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone","required","","pattern","^\\d{9}$",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["type","submit",1,"btn","btn-danger","me-2"],["type","reset",1,"btn","btn-secondary"],[1,"card","mt-4"],[1,"col-md-6","position-relative"],["for","password",1,"form-label"],["id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",2,"position","absolute","right","10px","top","35px","background","none","border","none",3,"click"],[3,"ngClass"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","name","confirmPassword","placeholder","Repetir contrase\xF1a...",1,"form-control",3,"ngModelChange","type","ngModel"],["type","submit",1,"btn","btn-warning"],["role","alert",1,"alert","alert-warning"],[1,"form-check","mb-3"],["type","checkbox","id","confirmDeactivation",1,"form-check-input",3,"ngModelChange","ngModel"],["for","confirmDeactivation",1,"form-check-label"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"text-danger"],[3,"value"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",7),h(2,"app-aside"),s(3,"div",8)(4,"main")(5,"div",9)(6,"h1",10),c(7,"Panel de control"),a(),s(8,"ol",11)(9,"li",12),c(10," Ajuste de cuenta / "),s(11,"b"),c(12,"Mi cuenta"),a()()(),s(13,"div",13)(14,"div",14),h(15,"img",15),c(16," Mi perfil "),a(),s(17,"div",16),M(18,yC,102,25,"div",17),a()()()(),h(19,"app-footer"),a()()),n&2&&(u(18),b("ngIf",t.userData))},dependencies:[Ai,ue,ce,Je,Qe,Ke,me,Ve,je,fe,$e,ut,gi,Ar,Ce,Ye,ge,_e,ve],styles:[".profile-img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:50%;display:block}.custom-file-upload[_ngcontent-%COMP%]{position:relative;display:inline-block}.custom-file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0;cursor:pointer;width:100%;height:100%}.custom-file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;cursor:pointer;background-color:#007bff;color:#fff;border:1px solid transparent;border-radius:4px}.custom-file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return i})();var Kh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getClientById(e){return this.http.get(`${this.baseUrl}/edithome/getSalonById`,{params:{id_salon:e}})}getProvinces(){return this.http.get(`${this.baseUrl}/new-client/getProvincesForNewClient`)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/new-client/getCitiesByProvinceForNewClient`,{params:{id_province:e.toString()}})}uploadProfilePicture(e,n){return this.http.put(`${this.baseUrl}/new-client/uploadProfilePicture/${e}`,n)}addNewClient(e,n,t,o,l,d,m,v,p){let y={name:e,lastname:n,email:t,phone:o,address:l,id_province:d,id_city:m,dni:v,password:p};return console.log("datos enviados al backend:",y),this.http.post(`${this.baseUrl}/new-client/addNewClient`,y)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xC(i,r){i&1&&(s(0,"div",45),c(1,"El nombre es obligatorio"),a())}function SC(i,r){i&1&&(s(0,"div",45),c(1,"Los apellidos son obligatorios"),a())}function wC(i,r){i&1&&(s(0,"div",45),c(1,"El correo electronico es obligatorio"),a())}function EC(i,r){i&1&&(s(0,"div",45),c(1," El correo electronico no es v\xE1lido "),a())}function MC(i,r){i&1&&(s(0,"div",45),c(1," El n\xBA de tel\xE9fono es obligatorio y tiene que tener 9 n\xFAmeros "),a())}function DC(i,r){i&1&&(s(0,"div",45),c(1,"La direcci\xF3n es obligatoria"),a())}function TC(i,r){if(i&1&&(s(0,"option",46),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function AC(i,r){i&1&&(s(0,"div",45),c(1,"La provincia es obligatoria"),a())}function IC(i,r){if(i&1&&(s(0,"option",46),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function kC(i,r){i&1&&(s(0,"div",45),c(1,"La poblaci\xF3n es obligatoria"),a())}function PC(i,r){i&1&&(s(0,"div",45),c(1,"El DNI es obligatorio"),a())}function FC(i,r){i&1&&(s(0,"div",45),c(1," El DNI no es v\xE1lido "),a())}function OC(i,r){i&1&&(s(0,"div",45),c(1,"La contrase\xF1a es obligatoria"),a())}function NC(i,r){i&1&&(s(0,"div",45),c(1,"La contrase\xF1a debe tener al menos 6 caracteres"),a())}function BC(i,r){i&1&&(s(0,"div",45),c(1,"Las contrasen\u0303as no coinciden"),a())}function RC(i,r){if(i&1){let e=z();s(0,"div")(1,"form",14),f("ngSubmit",function(){g(e);let t=x();return _(t.addNewClient())}),s(2,"div",15)(3,"div",16)(4,"label",17),c(5,"Nombre"),a(),s(6,"input",18),A("ngModelChange",function(t){g(e);let o=x();return T(o.name,t)||(o.name=t),_(t)}),a(),M(7,xC,2,0,"div",19),a(),s(8,"div",16)(9,"label",20),c(10,"Apellidos"),a(),s(11,"input",21),A("ngModelChange",function(t){g(e);let o=x();return T(o.lastname,t)||(o.lastname=t),_(t)}),a(),M(12,SC,2,0,"div",19),a()(),s(13,"div",15)(14,"div",16)(15,"label",22),c(16,"E-mail"),a(),s(17,"input",23,0),A("ngModelChange",function(t){g(e);let o=x();return T(o.email,t)||(o.email=t),_(t)}),a(),M(19,wC,2,0,"div",19)(20,EC,2,0,"div",19),a(),s(21,"div",16)(22,"label",24),c(23,"N\xBA de Tel\xE9fono"),a(),s(24,"input",25),A("ngModelChange",function(t){g(e);let o=x();return T(o.phone,t)||(o.phone=t),_(t)}),a(),M(25,MC,2,0,"div",19),a()(),s(26,"div",15)(27,"div",16)(28,"label",26),c(29,"Direcci\xF3n"),a(),s(30,"input",27),A("ngModelChange",function(t){g(e);let o=x();return T(o.address,t)||(o.address=t),_(t)}),a(),M(31,DC,2,0,"div",19),a(),s(32,"div",28)(33,"label",29),c(34,"Provincia"),a(),s(35,"select",30),A("ngModelChange",function(t){g(e);let o=x();return T(o.id_province,t)||(o.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),s(36,"option",31),c(37,"Seleccione una provincia"),a(),M(38,TC,2,2,"option",32),a(),M(39,AC,2,0,"div",19),a(),s(40,"div",28)(41,"label",33),c(42,"Poblaci\xF3n"),a(),s(43,"select",34),A("ngModelChange",function(t){g(e);let o=x();return T(o.id_city,t)||(o.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.userData.id_city))}),M(44,IC,2,3,"option",32),a(),M(45,kC,2,0,"div",19),a()(),s(46,"div",35)(47,"div",16)(48,"label",36),c(49,"NIF"),a(),s(50,"input",37,1),A("ngModelChange",function(t){g(e);let o=x();return T(o.dni,t)||(o.dni=t),_(t)}),a(),M(52,PC,2,0,"div",19)(53,FC,2,0,"div",19),a()(),s(54,"div",38)(55,"div",12)(56,"h5"),c(57,"Nueva Contrase\xF1a"),a(),s(58,"div",15)(59,"div",16)(60,"label",39),c(61,"Contrase\xF1a"),a(),s(62,"input",40,2),A("ngModelChange",function(t){g(e);let o=x();return T(o.password,t)||(o.password=t),_(t)}),a(),M(64,OC,2,0,"div",19)(65,NC,2,0,"div",19),a(),s(66,"div",16)(67,"label",41),c(68,"Repetir contrase\xF1a"),a(),s(69,"input",42),A("ngModelChange",function(t){g(e);let o=x();return T(o.confirmPassword,t)||(o.confirmPassword=t),_(t)}),a(),M(70,BC,2,0,"div",19),a()()()(),s(71,"button",43),c(72," Guardar "),a(),s(73,"button",44),c(74,"Cancelar"),a()()()}if(i&2){let e=Se(18),n=Se(51),t=x();u(6),D("ngModel",t.name),u(),b("ngIf",!t.name&&t.formValid),u(4),D("ngModel",t.lastname),u(),b("ngIf",!t.lastname&&t.formValid),u(5),D("ngModel",t.email),u(2),b("ngIf",!t.email&&t.formValid),u(),b("ngIf",e.invalid&&e.touched),u(4),D("ngModel",t.phone),u(),b("ngIf",t.formValid&&(!t.phone||t.phone.length!=9)),u(5),D("ngModel",t.address),u(),b("ngIf",!t.address&&t.formValid),u(4),D("ngModel",t.id_province),u(3),b("ngForOf",t.provinces),u(),b("ngIf",!t.id_province&&t.formValid),u(4),D("ngModel",t.id_city),u(),b("ngForOf",t.cities),u(),b("ngIf",!t.id_city&&t.formValid),u(5),D("ngModel",t.dni),u(2),b("ngIf",!t.dni&&t.formValid),u(),b("ngIf",n.invalid&&n.touched),u(9),D("ngModel",t.password),u(2),b("ngIf",!t.password&&t.formValid),u(),b("ngIf",t.password&&t.password.length<6),u(4),D("ngModel",t.confirmPassword),u(),b("ngIf",t.confirmPassword!==t.password)}}var Zh=(()=>{class i{constructor(e,n){this.toastr=e,this.newClientService=n,this.password="",this.name="",this.lastname="",this.email="",this.phone="",this.address="",this.id_province="",this.id_city="",this.dni="",this.confirmPassword="",this.errorMessage="",this.userData=[],this.cities=[],this.provinces=[],this.errors={},this.formValid=!1}ngOnInit(){this.getProvinces()}addNewClient(){this.formValid=!0,!(!this.name||!this.lastname||!this.email||!this.phone||!this.address||!this.id_province||!this.id_city||!this.dni||!this.password||!this.confirmPassword)&&(console.log("Contrase\xF1a",this.address),this.newClientService.addNewClient(this.name,this.lastname,this.email,this.phone,this.address,this.id_province,this.id_city,this.dni,this.password).subscribe(e=>{this.toastr.success('<i class="las la-info-circle"></i> Cliente creado con \xE9xito')},e=>{console.error("Error al crear el cliente:",e),e.status===409&&e.error&&e.error.error==="User with this email already exists"?this.toastr.error('<i class="las la-exclamation-circle"></i> El correo electr\xF3nico ya est\xE1 registrado.'):e.status===409&&e.error&&e.error.error==="User with this dni already exists"?this.toastr.error('<i class="las la-exclamation-circle"></i> El DNI ya est\xE1 registrado.'):this.toastr.error('<i class="las la-info-circle"></i> Error al crear cliente')}))}getProvinces(){this.newClientService.getProvinces().subscribe(e=>{this.provinces=e.data,this.provinces.length>0&&(this.userData.id_province=this.provinces[0].id_province,this.getCities(this.userData.id_province,!0))},e=>{console.error("Error fetching provinces:",e)})}getCities(e,n=!1){this.newClientService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.userData.id_city){let o=this.cities.find(l=>l.id_city===this.userData.id_city);o&&(this.userData.city_name=o.city_name)}else this.userData.id_city=this.cities[0].id_city,this.userData.city_name=this.cities[0].city_name;else this.userData.id_city="",this.cities=[]},t=>{console.error("Error fetching cities:",t)})}onProvinceChange(e){let n=e.target,t=Number(n.value);t?(this.getCities(t),this.userData.id_city=""):this.cities=[]}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.userData.id_city=n.id_city)}onFileSelected(e){let n=e.target.files[0];if(n){if(n.size>819200){this.toastr.error("El archivo excede el tama\xF1o m\xE1ximo permitido de 800 KB.");return}if(!["image/jpeg","image/png","image/gif"].includes(n.type)){this.toastr.error("Formato de archivo no v\xE1lido. Solo se permiten JPG, GIF o PNG.");return}this.uploadProfilePicture(n)}}uploadProfilePicture(e){let n=new FormData;n.append("profilePicture",e),this.newClientService.uploadProfilePicture(this.userData.id_user,n).subscribe(t=>{this.toastr.success("Foto de perfil actualizada exitosamente."),this.userData.profilePicture=t.imageUrl,window.location.reload()},t=>{console.error("Error al subir la foto de perfil",t),this.toastr.error("Error al subir la foto de perfil.")})}static{this.\u0275fac=function(n){return new(n||i)(B(xe),B(Kh))}}static{this.\u0275cmp=re({type:i,selectors:[["app-new-client"]],decls:20,vars:1,consts:[["emailInput","ngModel"],["dniInput","ngModel"],["passwordInput","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone","min","9","max","9",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],[1,"row","mb-4"],["for","dni",1,"form-label"],["type","text","id","dni","name","dni","pattern","^[0-9]{8}[A-Z]$","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"card","mt-4"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","placeholder","Repetir contrase\xF1a...","name","confirmPassword",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/clients",1,"btn","btn-secondary","mt-3"],[1,"text-danger"],[3,"value"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",3),h(2,"app-aside"),s(3,"div",4)(4,"main")(5,"div",5)(6,"h1",6),c(7,"Panel de control"),a(),s(8,"ol",7)(9,"li",8),c(10," Ajuste de cuenta / "),s(11,"b"),c(12,"Nuevo Cliente"),a()()(),s(13,"div",9)(14,"div",10),h(15,"img",11),c(16," Mi perfil "),a(),s(17,"div",12),M(18,RC,75,25,"div",13),a()()()(),h(19,"app-footer"),a()()),n&2&&(u(18),b("ngIf",t.userData))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,ut,gi,Ce,Ye,ge,_e,ve],styles:[".profile-img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:50%;display:block}.custom-file-upload[_ngcontent-%COMP%]{position:relative;display:inline-block}.custom-file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0;cursor:pointer;width:100%;height:100%}.custom-file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;cursor:pointer;background-color:#007bff;color:#fff;border:1px solid transparent;border-radius:4px}.custom-file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return i})();var Yh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getClientById(e){return this.http.get(`${this.baseUrl}/edit-client/getClientById`,{params:{id_user:e}})}updateClient(e){let n=e.id_user;return this.http.put(`${this.baseUrl}/edit-client/updateClient/${n}`,e)}uploadProfilePicture(e,n){return this.http.put(`${this.baseUrl}/edit-client/uploadProfilePicture/${e}`,n)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edit-client/getCitiesByProvinceForEditClient`,{params:{id_province:e.toString()}})}getProvinces(){return this.http.get(`${this.baseUrl}/edit-client/getProvinces`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function LC(i,r){i&1&&(s(0,"div",43),c(1,"El nombre es obligatorio."),a())}function UC(i,r){i&1&&(s(0,"div",43),c(1,"Los apellidos son obligatorios."),a())}function jC(i,r){i&1&&(s(0,"div",43),c(1,"El correo electronico es obligatorio"),a())}function HC(i,r){i&1&&(s(0,"div",43),c(1," El correo electronico no es v\xE1lido "),a())}function WC(i,r){i&1&&(s(0,"div",43),c(1," El n\xBA de tel\xE9fono es obligatorio y tiene que tener 9 n\xFAmeros. "),a())}function zC(i,r){i&1&&(s(0,"div",43),c(1,"La direcci\xF3n es obligatoria"),a())}function GC(i,r){if(i&1&&(s(0,"option",44),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function qC(i,r){i&1&&(s(0,"div",43),c(1,"La provincia es obligatoria"),a())}function $C(i,r){i&1&&(s(0,"div",43),c(1,"La poblaci\xF3n es obligatoria"),a())}function JC(i,r){if(i&1&&(s(0,"option",44),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function QC(i,r){i&1&&(s(0,"div",43),c(1,"La poblaci\xF3n es obligatoria"),a())}function KC(i,r){i&1&&(s(0,"div",43),c(1,"El DNI es obligatorio"),a())}function ZC(i,r){i&1&&(s(0,"div",43),c(1," El DNI no es v\xE1lido "),a())}function YC(i,r){i&1&&(s(0,"div",43),c(1,"La contrase\xF1a debe tener al menos 6 caracteres"),a())}function XC(i,r){if(i&1){let e=z();s(0,"div")(1,"form",13),f("ngSubmit",function(){g(e);let t=x();return _(t.updateClient())}),s(2,"div",14)(3,"div",15)(4,"label",16),c(5,"Nombre"),a(),s(6,"input",17),A("ngModelChange",function(t){g(e);let o=x();return T(o.clientData.name,t)||(o.clientData.name=t),_(t)}),a(),M(7,LC,2,0,"div",18),a(),s(8,"div",15)(9,"label",19),c(10,"Apellidos"),a(),s(11,"input",20),A("ngModelChange",function(t){g(e);let o=x();return T(o.clientData.lastname,t)||(o.clientData.lastname=t),_(t)}),a(),M(12,UC,2,0,"div",18),a()(),s(13,"div",14)(14,"div",15)(15,"label",21),c(16,"E-mail"),a(),s(17,"input",22,0),A("ngModelChange",function(t){g(e);let o=x();return T(o.clientData.email,t)||(o.clientData.email=t),_(t)}),a(),M(19,jC,2,0,"div",18)(20,HC,2,0,"div",18),a(),s(21,"div",15)(22,"label",23),c(23,"N\xBA de Tel\xE9fono"),a(),s(24,"input",24),A("ngModelChange",function(t){g(e);let o=x();return T(o.clientData.phone,t)||(o.clientData.phone=t),_(t)}),a(),M(25,WC,2,0,"div",18),a()(),s(26,"div",14)(27,"div",15)(28,"label",25),c(29,"Direcci\xF3n"),a(),s(30,"input",26),A("ngModelChange",function(t){g(e);let o=x();return T(o.clientData.address,t)||(o.clientData.address=t),_(t)}),a(),M(31,zC,2,0,"div",18),a(),s(32,"div",27)(33,"label",28),c(34,"Provincia"),a(),s(35,"select",29),A("ngModelChange",function(t){g(e);let o=x();return T(o.clientData.id_province,t)||(o.clientData.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),s(36,"option",30),c(37,"Seleccione una provincia"),a(),M(38,GC,2,2,"option",31),a(),M(39,qC,2,0,"div",18),a(),s(40,"div",27)(41,"label",32),c(42,"Poblaci\xF3n"),a(),s(43,"select",33),A("ngModelChange",function(t){g(e);let o=x();return T(o.clientData.id_city,t)||(o.clientData.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.clientData.id_city))}),M(44,$C,2,0,"div",18),s(45,"option",34),c(46,"Seleccione una poblaci\xF3n"),a(),M(47,JC,2,3,"option",31),a(),M(48,QC,2,0,"div",18),a()(),s(49,"div",35)(50,"div",15)(51,"label",36),c(52,"NIF"),a(),s(53,"input",37,1),A("ngModelChange",function(t){g(e);let o=x();return T(o.clientData.dni,t)||(o.clientData.dni=t),_(t)}),a(),M(55,KC,2,0,"div",18)(56,ZC,2,0,"div",18),a()(),s(57,"div",38)(58,"div",11)(59,"h5"),c(60,"Editar Contrase\xF1a"),a(),s(61,"div",14)(62,"div",15)(63,"label",39),c(64,"Contrase\xF1a"),a(),s(65,"input",40),A("ngModelChange",function(t){g(e);let o=x();return T(o.clientData.password,t)||(o.clientData.password=t),_(t)}),a(),M(66,YC,2,0,"div",18),a()()()(),s(67,"button",41),c(68," Guardar "),a(),s(69,"button",42),c(70,"Cancelar"),a()()()}if(i&2){let e=Se(18),n=Se(54),t=x();u(6),D("ngModel",t.clientData.name),u(),b("ngIf",!t.clientData.name&&t.formValid),u(4),D("ngModel",t.clientData.lastname),u(),b("ngIf",!t.clientData.lastname&&t.formValid),u(5),D("ngModel",t.clientData.email),u(2),b("ngIf",!t.clientData.email&&t.formValid),u(),b("ngIf",e.invalid&&e.touched),u(4),D("ngModel",t.clientData.phone),u(),b("ngIf",t.formValid&&(!t.clientData.phone||t.clientData.phone.length!=9)),u(5),D("ngModel",t.clientData.address),u(),b("ngIf",!t.clientData.address&&t.formValid),u(4),D("ngModel",t.clientData.id_province),u(3),b("ngForOf",t.provinces),u(),b("ngIf",!t.clientData.id_province&&t.formValid),u(4),D("ngModel",t.clientData.id_city),u(),b("ngIf",!t.clientData.id_city&&t.formValid),u(3),b("ngForOf",t.cities),u(),b("ngIf",!t.clientData.id_city&&t.formValid),u(5),D("ngModel",t.clientData.dni),u(2),b("ngIf",!t.clientData.dni&&t.formValid),u(),b("ngIf",n.invalid&&n.touched),u(9),D("ngModel",t.clientData.password),u(),b("ngIf",t.clientData.password&&t.clientData.password.length<6)}}var Xh=(()=>{class i{constructor(e,n,t){this.editClientService=e,this.toastr=n,this.route=t,this.userData={},this.provinces=[],this.cities=[],this.clientData=[],this.formValid=!1}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.getClientData(+e):console.error("No id_user found in the URL"),this.getProvinces()}updateClient(){if(this.formValid=!0,!this.clientData.name||!this.clientData.lastname||!this.clientData.phone||!this.clientData.email||!this.clientData.address||!this.clientData.id_province||!this.clientData.id_city||!this.clientData.dni){this.toastr.error("Por favor, complete todos los campos obligatorios.");return}this.editClientService.updateClient(this.clientData).subscribe(e=>{console.log("Cliente actualizado exitosamente",e),this.toastr.success("Cambios realizados con \xE9xito")},e=>{console.error("Error al actualizar el cliente",e),e.status===409&&e.error?e.error.message==="El correo electr\xF3nico ya est\xE1 registrado."?this.toastr.error("El correo electr\xF3nico ya est\xE1 registrado."):e.error.message==="El DNI ya est\xE1 registrado."?this.toastr.error("El DNI ya est\xE1 registrado."):this.toastr.error("No se realizaron los cambios."):this.toastr.error("No se realizaron los cambios.")})}getClientData(e){this.editClientService.getClientById(e).subscribe(n=>{this.clientData=n.data,console.log(this.clientData),this.clientData.id_province&&this.getCities(this.clientData.id_province,!0)},n=>{console.error("Error fetching client data:",n)})}onFileSelected(e){let n=e.target.files[0];if(n){if(n.size>819200){this.toastr.error("El archivo excede el tama\xF1o m\xE1ximo permitido de 800 KB.");return}if(!["image/jpeg","image/png","image/gif"].includes(n.type)){this.toastr.error("Formato de archivo no v\xE1lido. Solo se permiten JPG, GIF o PNG.");return}this.uploadProfilePicture(n)}}uploadProfilePicture(e){let n=new FormData;n.append("profilePicture",e),this.editClientService.uploadProfilePicture(this.userData.id_user,n).subscribe(t=>{this.toastr.success("Foto de perfil actualizada exitosamente."),this.userData.profilePicture=t.imageUrl,window.location.reload()},t=>{console.error("Error al subir la foto de perfil",t),this.toastr.error("Error al subir la foto de perfil.")})}getProvinces(){this.editClientService.getProvinces().subscribe(e=>{this.provinces=e.data},e=>{console.error("Error fetching provinces:",e)})}onProvinceChange(e){let n;if(typeof e=="number")n=e;else if(e&&e.target){let t=e.target;n=Number(t.value)}else{console.error("Event o target es undefined en onProvinceChange");return}!isNaN(n)&&n>0?this.getCities(n):this.cities=[]}getCities(e,n=!1){this.editClientService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.clientData.id_city){let o=this.cities.find(l=>l.id_city===this.clientData.id_city);o&&(this.clientData.id_city=o.id_city)}else this.clientData.id_city||(this.clientData.id_city=this.cities[0].id_city);else this.clientData.id_city=""},t=>{console.error("Error fetching cities:",t)})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.clientData.id_city=n.id_city)}static{this.\u0275fac=function(n){return new(n||i)(B(Yh),B(xe),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-client"]],decls:20,vars:1,consts:[["emailInput","ngModel"],["dniInput","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["disabled","","selected",""],[1,"row","mb-4"],["for","permiso",1,"form-label"],["type","text","id","dni","name","dni","pattern","^[0-9]{8}[A-Z]$","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"card","mt-4"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/clients",1,"btn","btn-secondary","mt-3"],[1,"text-danger"],[3,"value"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",2),h(2,"app-aside"),s(3,"div",3)(4,"main")(5,"div",4)(6,"h1",5),c(7,"Panel de control"),a(),s(8,"ol",6)(9,"li",7),c(10," Ajuste de cuenta / "),s(11,"b"),c(12,"Editar Cliente"),a()()(),s(13,"div",8)(14,"div",9),h(15,"img",10),c(16," Editar Cliente "),a(),s(17,"div",11),M(18,XC,71,23,"div",12),a()()()(),h(19,"app-footer"),a()()),n&2&&(u(18),b("ngIf",t.clientData))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,ut,gi,Ce,Ye,ge,_e,ve],styles:[".profile-img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:50%;display:block}"]})}}return i})();var ep=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getAdminById(e){return this.http.get(`${this.baseUrl}/edit-admin/getAdminById`,{params:{id_user:e}})}updateAdmin(e){let n=e.id_user;return this.http.put(`${this.baseUrl}/edit-admin/updateAdmin/${n}`,e)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edit-admin/getCitiesByProvinceForEditAdmin`,{params:{id_province:e.toString()}})}getProvinces(){return this.http.get(`${this.baseUrl}/edit-admin/getProvinces`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function tx(i,r){if(i&1&&(s(0,"option",44),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function ix(i,r){if(i&1&&(s(0,"option",44),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function nx(i,r){if(i&1){let e=z();s(0,"div")(1,"form",11),f("ngSubmit",function(){g(e);let t=x();return _(t.updateAdmin())}),s(2,"div",12)(3,"div",13)(4,"label",14),c(5,"Nombre"),a(),s(6,"input",15),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.name,t)||(o.adminData.name=t),_(t)}),a()(),s(7,"div",13)(8,"label",16),c(9,"Apellidos"),a(),s(10,"input",17),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.lastname,t)||(o.adminData.lastname=t),_(t)}),a()()(),s(11,"div",12)(12,"div",13)(13,"label",18),c(14,"E-mail"),a(),s(15,"input",19),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.email,t)||(o.adminData.email=t),_(t)}),a()(),s(16,"div",13)(17,"label",20),c(18,"N\xBA de Tel\xE9fono"),a(),s(19,"input",21),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.phone,t)||(o.adminData.phone=t),_(t)}),a()()(),s(20,"div",12)(21,"div",13)(22,"label",22),c(23,"Direcci\xF3n"),a(),s(24,"input",23),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.address,t)||(o.adminData.address=t),_(t)}),a()(),s(25,"div",24)(26,"label",25),c(27,"Provincia"),a(),s(28,"select",26),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.id_province,t)||(o.adminData.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),M(29,tx,2,2,"option",27),a()(),s(30,"div",24)(31,"label",28),c(32,"Poblaci\xF3n"),a(),s(33,"select",29),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.id_city,t)||(o.adminData.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.adminData.id_city))}),M(34,ix,2,3,"option",27),a()()(),s(35,"div",30)(36,"div",13)(37,"label",31),c(38,"NIF"),a(),s(39,"input",32),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.dni,t)||(o.adminData.dni=t),_(t)}),a()(),s(40,"div",13)(41,"label",33),c(42,"Permiso"),a(),s(43,"select",34),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.permiso,t)||(o.adminData.permiso=t),_(t)}),s(44,"option",35),c(45,"Administrador"),a(),s(46,"option",36),c(47,"Cliente"),a()()()(),s(48,"div",37)(49,"div",9)(50,"h5"),c(51,"Nueva Contrase\xF1a"),a(),s(52,"div",12)(53,"div",13)(54,"label",38),c(55,"Contrase\xF1a"),a(),s(56,"input",39),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.password,t)||(o.adminData.password=t),_(t)}),a()(),s(57,"div",13)(58,"label",40),c(59,"Repetir contrase\xF1a"),a(),s(60,"input",41),A("ngModelChange",function(t){g(e);let o=x();return T(o.adminData.confirmPassword,t)||(o.adminData.confirmPassword=t),_(t)}),a()()()()(),s(61,"button",42),c(62," Guardar "),a(),s(63,"button",43),c(64,"Cancelar"),a()()()}if(i&2){let e=x();u(6),D("ngModel",e.adminData.name),u(4),D("ngModel",e.adminData.lastname),u(5),D("ngModel",e.adminData.email),u(4),D("ngModel",e.adminData.phone),u(5),D("ngModel",e.adminData.address),u(4),D("ngModel",e.adminData.id_province),u(),b("ngForOf",e.provinces),u(4),D("ngModel",e.adminData.id_city),u(),b("ngForOf",e.cities),u(5),D("ngModel",e.adminData.dni),u(4),D("ngModel",e.adminData.permiso),u(13),D("ngModel",e.adminData.password),u(4),D("ngModel",e.adminData.confirmPassword)}}var tp=(()=>{class i{constructor(e,n,t){this.editAdmistratorsService=e,this.toastr=n,this.route=t,this.adminData=[],this.cities=[],this.provinces=[],this.userData=[]}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.getAdminData(+e):console.error("No id_user found in the URL"),this.getProvinces()}getAdminData(e){this.editAdmistratorsService.getAdminById(e).subscribe(n=>{this.adminData=n.data,console.log(this.adminData),this.adminData.id_province&&this.getCities(this.adminData.id_province,!0)},n=>{console.error("Error fetching client data:",n)})}updateAdmin(){if(this.adminData.password!==this.adminData.confirmPassword){this.toastr.error("Las contrase\xF1as no coinciden");return}this.editAdmistratorsService.updateAdmin(this.adminData).subscribe(e=>{console.log("Administrador actualizado exitosamente",e),this.toastr.success("Cambios realizados con \xE9xito")},e=>{console.error("Error al actualizar el Administrador",e),this.toastr.error("No se realizaron los cambios")})}getProvinces(){this.editAdmistratorsService.getProvinces().subscribe(e=>{this.provinces=e.data},e=>{console.error("Error fetching provinces:",e)})}onProvinceChange(e){let n;if(typeof e=="number")n=e;else if(e&&e.target){let t=e.target;n=Number(t.value)}else{console.error("Event o target es undefined en onProvinceChange");return}!isNaN(n)&&n>0?this.getCities(n):this.cities=[]}getCities(e,n=!1){this.editAdmistratorsService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.adminData.id_city){let o=this.cities.find(l=>l.id_city===this.adminData.id_city);o&&(this.adminData.id_city=o.id_city)}else this.adminData.id_city||(this.adminData.id_city=this.cities[0].id_city);else this.adminData.id_city=""},t=>{console.error("Error fetching cities:",t)})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.adminData.id_city=n.id_city)}static{this.\u0275fac=function(n){return new(n||i)(B(ep),B(xe),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-administrators"]],decls:22,vars:1,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],[1,"row","mb-4"],["for","dni",1,"form-label"],["type","text","id","dni","name","dni",1,"form-control",3,"ngModelChange","ngModel"],["for","permiso",1,"form-label"],["id","permiso","name","permiso",1,"form-select",3,"ngModelChange","ngModel"],["value","admin"],["value","client"],[1,"card","mt-4"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","placeholder","Repetir contrase\xF1a...","name","confirmPassword",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/administrators",1,"btn","btn-secondary","mt-3"],[3,"value"]],template:function(n,t){n&1&&(s(0,"p"),c(1,"edit-client works!"),a(),h(2,"app-header"),s(3,"div",0),h(4,"app-aside"),s(5,"div",1)(6,"main")(7,"div",2)(8,"h1",3),c(9,"Panel de control"),a(),s(10,"ol",4)(11,"li",5),c(12," Ajuste de cuenta / "),s(13,"b"),c(14,"Editar Administrador"),a()()(),s(15,"div",6)(16,"div",7),h(17,"img",8),c(18," Editar Cliente "),a(),s(19,"div",9),M(20,nx,65,13,"div",10),a()()()(),h(21,"app-footer"),a()()),n&2&&(u(20),b("ngIf",t.adminData))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,ut,Ce,Ye,ge,_e,ve]})}}return i})();var ip=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllOwners(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/owner-salon/getAllOwners`,{params:o})}addNewOwner(e){return this.http.post(`${this.baseUrl}/owner-salon/addNewOwner`,e)}getUserEmail(e){return this.http.get(`${this.baseUrl}/owner-salon/searchEmailInLive`,{params:{email:e}})}getSalonName(e){return this.http.get(`${this.baseUrl}/owner-salon/searchSalonInLive`,{params:{name:e}})}deleteOwners(e){return this.http.post(`${this.baseUrl}/owner-salon/deleteOwners`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ox(i,r){i&1&&(s(0,"div",59)(1,"button",60),c(2,"Eliminar seleccionados"),a()())}function ax(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",61),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",62),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),Mt(10,"date"),a(),s(11,"td"),c(12),a(),s(13,"td")(14,"button",63),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editOwner(t.id_user))}),h(15,"i",64),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),V(e.email),u(2),V(Ut(10,5,e.created_at,"dd-MM-yyyy")),u(3),V(e.phone)}}function sx(i,r){i&1&&(he(0),s(1,"span",66),c(2,"..."),a(),pe())}function lx(i,r){if(i&1){let e=z();he(0),s(1,"a",67),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function cx(i,r){if(i&1&&(s(0,"li",24),M(1,sx,3,0,"ng-container",65)(2,lx,3,1,"ng-container",65),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}function dx(i,r){if(i&1){let e=z();s(0,"li",70),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectEmail(t))}),h(1,"i",71),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function ux(i,r){if(i&1&&(s(0,"ul",68),M(1,dx,3,1,"li",69),a()),i&2){let e=x();u(),b("ngForOf",e.emailOwners)}}function mx(i,r){if(i&1){let e=z();s(0,"li",70),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectSalon(t))}),h(1,"i",71),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e.name," ")}}function hx(i,r){if(i&1&&(s(0,"ul",68),M(1,mx,3,1,"li",69),a()),i&2){let e=x();u(),b("ngForOf",e.dataSalonList)}}function px(i,r){if(i&1){let e=z();s(0,"li",72),c(1),s(2,"button",73),f("click",function(){let t=g(e).index,o=x();return _(o.removeSalon(t))}),h(3,"i",74),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e.name," ")}}var np=(()=>{class i{constructor(e,n,t){this.ownerSalonService=e,this.router=n,this.toastr=t,this.AllOwners=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.searchText="",this.allSelected=!1,this.newOwner={email:"",salons:[]},this.searchTermsEmail=new Te,this.searchTermsSalon=new Te,this.emailOwners=[],this.dataSalonList=[],this.selectedSalon=""}ngOnInit(){this.loadAllOwners(this.currentPage),this.searchTermsEmail.pipe(Rt(300),qt(),et(e=>e.length>=2?this.ownerSalonService.getUserEmail(e):ae([]))).subscribe({next:e=>{this.emailOwners=e.filter(n=>n&&n.email).map(n=>n.email)},error:e=>{console.error("Error al buscar emails:",e)}}),this.searchTermsSalon.pipe(Rt(300),qt(),et(e=>e.length>=2?this.ownerSalonService.getSalonName(e):ae([]))).subscribe({next:e=>{this.dataSalonList=e.filter(n=>n&&n.id_salon&&n.name).map(n=>({id:n.id_salon,name:n.name}))},error:e=>{console.error("Error al buscar salones:",e)}})}addNewOwner(e){if(this.newOwner.salons.length===0){this.toastr.error("Debes a\xF1adir al menos un sal\xF3n.");return}let n=this.newOwner.salons.map(o=>o.id),t={email:this.newOwner.email,salons:n};this.ownerSalonService.addNewOwner(t).subscribe({next:()=>{this.toastr.success("Propietario y salones a\xF1adidos con \xE9xito."),setTimeout(()=>{window.location.reload()},1e3)},error:o=>{console.error("Error al a\xF1adir el propietario:",o),this.toastr.error("Error, no se pudo a\xF1adir el propietario.")}})}onSearch(){this.loadAllOwners(this.currentPage),this.searchText.trim()===""&&this.loadAllOwners(this.currentPage)}searchEmail(e){this.searchTermsEmail.next(e)}searchSalon(e){this.searchTermsSalon.next(e)}selectEmail(e){this.newOwner.email=e,this.emailOwners=[]}selectSalon(e){this.newOwner.salons.push({id:e.id,name:e.name}),this.dataSalonList=[],this.selectedSalon=""}removeSalon(e){this.newOwner.salons.splice(e,1)}loadAllOwners(e){this.ownerSalonService.loadAllOwners(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllOwners=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error cargando los propietarios",n)}})}hasSelected(){return this.AllOwners.some(e=>e.selected)}deleteSelected(){this.AllOwners=this.AllOwners.filter(e=>!e.selected),this.allSelected=!1}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllOwners.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllOwners.every(e=>e.selected)}editOwner(e){this.router.navigate(["edit-owner/edit",e])}onPageChange(e){this.currentPage=e,this.loadAllOwners(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}confirmDelete(){let e=this.AllOwners.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn propietario para eliminar.");return}console.log("Propietarios seleccionados para eliminar:",e);let n=e.map(t=>t.id_user);this.ownerSalonService.deleteOwners(n).subscribe({next:()=>{this.toastr.success("Propietario/os eliminados con \xE9xito"),this.loadAllOwners(this.currentPage),this.AllOwners.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando propietarios",t),this.toastr.error("Error al eliminar los propietario/os seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(ip),B(qe),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-owner-salon"]],decls:112,vars:18,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newAdminModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","newAdminModal","tabindex","-1","aria-labelledby","newAdminModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","newAdminModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"mb-3","position-relative"],["for","ownerEmail",1,"form-label"],["type","email","id","ownerEmail","name","email","required","","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group email-list",4,"ngIf"],["for","salonName",1,"form-label","mt-3"],["type","text","id","salonName","name","salon","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"mt-3"],[1,"form-label"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","deleteOwnerModal","tabindex","-1","aria-labelledby","deleteOwnerModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteOwnerModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteOwnerModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-building-user"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"],[1,"list-group","email-list"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-user"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times"]],template:function(n,t){n&1&&(s(0,"p"),c(1,"owner-salon works!"),a(),h(2,"app-header"),s(3,"div",0),h(4,"app-aside"),s(5,"div",1)(6,"main")(7,"div",2)(8,"h1",3),c(9,"Panel de control"),a(),s(10,"ol",4)(11,"li",5),c(12,"Administraci\xF3n / "),s(13,"b"),c(14,"Propietarios"),a()()(),s(15,"div",6)(16,"div",7),h(17,"img",8),c(18," Lista de Propietarios "),a(),s(19,"div",9)(20,"div",10)(21,"div",11)(22,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(23,"div",13)(24,"button",14),c(25,"Nuevo"),a()(),M(26,ox,3,0,"div",15),a(),s(27,"div",16)(28,"table",17)(29,"thead",18)(30,"tr")(31,"th")(32,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(33,"th"),c(34,"Nombre"),a(),s(35,"th"),c(36,"Email"),a(),s(37,"th"),c(38,"Creado"),a(),s(39,"th"),c(40,"Telefono"),a(),s(41,"th",20),c(42,"Acciones"),a()()(),s(43,"tbody"),M(44,ax,16,8,"tr",21),a()()(),s(45,"nav",22)(46,"ul",23)(47,"li",24)(48,"a",25),f("click",function(){return t.onPageChange(1)}),s(49,"span",26),c(50,"\xAB\xAB"),a()()(),s(51,"li",24)(52,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(53,"span",26),c(54,"\xAB"),a()()(),M(55,cx,3,6,"li",28),s(56,"li",24)(57,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(58,"span",26),c(59,"\xBB"),a()()(),s(60,"li",24)(61,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(62,"span",26),c(63,"\xBB\xBB"),a()()()()()()()()(),h(64,"app-footer"),a()(),s(65,"div",31)(66,"div",32)(67,"div",33)(68,"div",34)(69,"h5",35),c(70,"Nuevo Propietario"),a(),h(71,"button",36),a(),s(72,"div",37)(73,"div",38),h(74,"img",39),a(),s(75,"form")(76,"div",40)(77,"label",41),c(78,"Introduce email de propietario:"),a(),s(79,"input",42),A("ngModelChange",function(l){return T(t.newOwner.email,l)||(t.newOwner.email=l),l}),f("input",function(){return t.searchEmail(t.newOwner.email)}),a(),M(80,ux,2,1,"ul",43),s(81,"label",44),c(82,"Introduce el nombre del sal\xF3n:"),a(),s(83,"input",45),A("ngModelChange",function(l){return T(t.selectedSalon,l)||(t.selectedSalon=l),l}),f("input",function(){return t.searchSalon(t.selectedSalon)}),a(),M(84,hx,2,1,"ul",43),s(85,"div",46)(86,"label",47),c(87,"Salones a\xF1adidos:"),a(),s(88,"ul",48),M(89,px,4,1,"li",49),a()()(),s(90,"div",50)(91,"button",51),f("click",function(){return t.addNewOwner(t.newOwner.email)}),c(92,"A\xF1adir"),a(),s(93,"button",52),c(94,"Cancelar"),a()()()()()()(),s(95,"div",53)(96,"div",32)(97,"div",33)(98,"div",34)(99,"h5",54),c(100,"Eliminar Propietarios"),a(),h(101,"button",36),a(),s(102,"div",37)(103,"div",55),h(104,"img",39),a(),s(105,"p"),c(106,"\xBFEst\xE1s seguro que deseas eliminar el propietario/os seleccionados?"),a()(),s(107,"div",56)(108,"button",57),f("click",function(){return t.confirmDelete()}),c(109,"Eliminar"),a(),s(110,"button",58),c(111,"Cancelar"),a()()()()()),n&2&&(u(22),D("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(12),b("ngForOf",t.AllOwners),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),D("ngModel",t.newOwner.email),u(),b("ngIf",t.emailOwners.length>0),u(3),D("ngModel",t.selectedSalon),u(),b("ngIf",t.dataSalonList.length>0),u(5),b("ngForOf",t.newOwner.salons))},dependencies:[ue,ce,Je,me,Ve,fe,$e,ut,Ce,Ye,ge,_e,ve,Ft],styles:['@charset "UTF-8";.email-list[_ngcontent-%COMP%]{position:absolute;top:10;left:0;right:0;z-index:1000;max-height:150px;overflow-y:auto;background-color:#fff;border:1px solid rgba(0,0,0,.125);border-top:none;margin-top:0;padding-top:0}.email-list[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:gray}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#ownerEmail[_ngcontent-%COMP%], #salonName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}']})}}return i})();var rp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getOwnerById(e){return this.http.get(`${this.baseUrl}/edit-owner/getOwnerById`,{params:{id_user:e}})}updateOwner(e){let n=e.id_user;return this.http.put(`${this.baseUrl}/edit-owner/updateOwner/${n}`,e)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edit-owner/getCitiesByProvinceForEditOwner`,{params:{id_province:e.toString()}})}getProvinces(){return this.http.get(`${this.baseUrl}/edit-owner/getProvinces`)}getSalonOwnerById(e){return this.http.get(`${this.baseUrl}/edit-owner/getSalonOwnerById`,{params:{id_user:e.toString()}})}deleteSalonById(e){return this.http.get(`${this.baseUrl}/edit-owner/deleteSalonById`,{params:{id_user:e.toString()}})}getSalonName(e){return this.http.get(`${this.baseUrl}/edit-owner/searchSalonInLive`,{params:{name:e}})}updateUserSalon(e,n){let t=`${this.baseUrl}/edit-owner/updateUserSalon/${e}`,o={id_salon:n};return this.http.put(t,o)}deleteUserSalon(e){let n=`${this.baseUrl}/edit-owner/deleteUserSalon/${e}`;return this.http.delete(n)}addUserSalon(e){return this.http.post(`${this.baseUrl}/edit-owner/addUserSalon`,e)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function gx(i,r){if(i&1&&(s(0,"option",76),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function _x(i,r){if(i&1&&(s(0,"option",76),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function vx(i,r){if(i&1){let e=z();s(0,"tr",18)(1,"td"),c(2),a(),s(3,"td",18)(4,"button",77),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.editSalon(t))}),h(5,"i",78),a()(),s(6,"td",18)(7,"button",79),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.deleteSalon(t))}),h(8,"i",80),a()()()}if(i&2){let e=r.$implicit;u(2),V(e.name)}}function bx(i,r){if(i&1){let e=z();s(0,"div")(1,"form",38),f("ngSubmit",function(){g(e);let t=x();return _(t.updateOwner())}),s(2,"div",39)(3,"div",40)(4,"label",41),c(5,"Nombre"),a(),s(6,"input",42),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.name,t)||(o.ownerData.name=t),_(t)}),a()(),s(7,"div",40)(8,"label",43),c(9,"Apellidos"),a(),s(10,"input",44),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.lastname,t)||(o.ownerData.lastname=t),_(t)}),a()()(),s(11,"div",39)(12,"div",40)(13,"label",45),c(14,"E-mail"),a(),s(15,"input",46),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.email,t)||(o.ownerData.email=t),_(t)}),a()(),s(16,"div",40)(17,"label",47),c(18,"N\xBA de Tel\xE9fono"),a(),s(19,"input",48),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.phone,t)||(o.ownerData.phone=t),_(t)}),a()()(),s(20,"div",39)(21,"div",40)(22,"label",49),c(23,"Direcci\xF3n"),a(),s(24,"input",50),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.address,t)||(o.ownerData.address=t),_(t)}),a()(),s(25,"div",51)(26,"label",52),c(27,"Provincia"),a(),s(28,"select",53),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.id_province,t)||(o.ownerData.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),M(29,gx,2,2,"option",54),a()(),s(30,"div",51)(31,"label",55),c(32,"Poblaci\xF3n"),a(),s(33,"select",56),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.id_city,t)||(o.ownerData.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.ownerData.id_city))}),M(34,_x,2,3,"option",54),a()()(),s(35,"div",57)(36,"div",40)(37,"label",58),c(38,"NIF"),a(),s(39,"input",59),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.dni,t)||(o.ownerData.dni=t),_(t)}),a()()(),s(40,"div",60)(41,"div",9)(42,"h5",61),c(43,"Nueva Contrase\xF1a"),a(),s(44,"div",39)(45,"div",40)(46,"label",62),c(47,"Contrase\xF1a"),a(),s(48,"input",63),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.password,t)||(o.ownerData.password=t),_(t)}),a()(),s(49,"div",40)(50,"label",64),c(51,"Repetir contrase\xF1a"),a(),s(52,"input",65),A("ngModelChange",function(t){g(e);let o=x();return T(o.ownerData.confirmPassword,t)||(o.ownerData.confirmPassword=t),_(t)}),a()()()()(),s(53,"button",66),c(54," Guardar "),a(),s(55,"button",67),c(56," Cancelar "),a()(),s(57,"div",68)(58,"div",69)(59,"h6",61),c(60,"Salones en propiedad"),a(),s(61,"button",70),c(62,"Nuevo"),a()(),s(63,"div",71)(64,"table",72)(65,"thead",73)(66,"tr",18)(67,"th"),c(68,"Nombre"),a(),s(69,"th",74),c(70,"Editar"),a(),s(71,"th",74),c(72,"Eliminar"),a()()(),s(73,"tbody"),M(74,vx,9,1,"tr",75),a()()()()()}if(i&2){let e=x();u(6),D("ngModel",e.ownerData.name),u(4),D("ngModel",e.ownerData.lastname),u(5),D("ngModel",e.ownerData.email),u(4),D("ngModel",e.ownerData.phone),u(5),D("ngModel",e.ownerData.address),u(4),D("ngModel",e.ownerData.id_province),u(),b("ngForOf",e.provinces),u(4),D("ngModel",e.ownerData.id_city),u(),b("ngForOf",e.cities),u(5),D("ngModel",e.ownerData.dni),u(9),D("ngModel",e.ownerData.password),u(4),D("ngModel",e.ownerData.confirmPassword),u(22),b("ngForOf",e.salons)}}function yx(i,r){if(i&1){let e=z();s(0,"li",83),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectSalon(t))}),h(1,"i",84),s(2,"span"),c(3),a()()}if(i&2){let e=r.$implicit;u(3),V(e.name)}}function Cx(i,r){if(i&1&&(s(0,"ul",81),M(1,yx,4,1,"li",82),a()),i&2){let e=x();u(),b("ngForOf",e.dataSalonList)}}function xx(i,r){if(i&1){let e=z();s(0,"li",83),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectSalon(t))}),h(1,"i",85),s(2,"span"),c(3),a()()}if(i&2){let e=r.$implicit;u(3),V(e.name)}}function Sx(i,r){if(i&1&&(s(0,"ul",81),M(1,xx,4,1,"li",82),a()),i&2){let e=x();u(),b("ngForOf",e.dataSalonList)}}var op=(()=>{class i{constructor(e,n,t){this.editOwnerService=e,this.toastr=n,this.route=t,this.ownerData=[],this.provinces=[],this.salons=[],this.cities=[],this.userData=[],this.ownerSalon=[],this.salonToDelete=null,this.selectedSalon="",this.editOwner={email:"",salons:[]},this.dataSalonList=[],this.searchTermsSalon=new Te,this.isSalonSelected=!1}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?(this.id_user=+e,this.getOwnerData(this.id_user),this.getSalonOwnerById(this.id_user)):console.error("No id_user found in the URL"),this.getProvinces(),this.searchTermsSalon.pipe(Rt(300),qt(),et(n=>n.length>=2?this.editOwnerService.getSalonName(n):ae([]))).subscribe({next:n=>{this.dataSalonList=n.filter(t=>t&&t.id_salon&&t.name).map(t=>({id:t.id_salon,name:t.name}))},error:n=>{console.error("Error al buscar salones:",n)}})}editSalon(e){this.selectedSalon=e.name,this.id_user_salon=e.id_user_salon,this.id_salon=e.id_salon}getOwnerData(e){this.editOwnerService.getOwnerById(e).subscribe(n=>{this.ownerData=n.data,this.ownerData.id_province&&this.getCities(this.ownerData.id_province,!0)},n=>{console.error("Error fetching client data:",n)})}updateOwner(){this.editOwnerService.updateOwner(this.ownerData).subscribe(e=>{this.toastr.success("Cambios realizados con \xE9xito")},e=>{console.error("Error al actualizar el propietario",e),this.toastr.error("No se realizaron los cambios")})}getProvinces(){this.editOwnerService.getProvinces().subscribe(e=>{this.provinces=e.data},e=>{console.error("Error fetching provinces:",e)})}onProvinceChange(e){let n;if(typeof e=="number")n=e;else if(e&&e.target){let t=e.target;n=Number(t.value)}else{console.error("Event o target es undefined en onProvinceChange");return}!isNaN(n)&&n>0?this.getCities(n):this.cities=[]}getCities(e,n=!1){this.editOwnerService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.ownerData.id_city){let o=this.cities.find(l=>l.id_city===this.ownerData.id_city);o&&(this.ownerData.id_city=o.id_city)}else this.ownerData.id_city||(this.ownerData.id_city=this.cities[0].id_city);else this.ownerData.id_city=""},t=>{console.error("Error fetching cities:",t)})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.ownerData.id_city=n.id_city)}getSalonOwnerById(e){this.editOwnerService.getSalonOwnerById(e).subscribe(n=>{this.salons=Array.isArray(n.data)?n.data:[n.data]},n=>{console.error("Error fetching salons:",n)})}deleteSalon(e){this.selectedSalon=e.name,this.id_user_salon=e.id_user_salon,this.id_salon=e.id_salon}selectSalon(e){this.selectedSalon=e.name,this.id_salon=e.id,this.isSalonSelected=!0,this.dataSalonList=[]}searchSalon(e){this.isSalonSelected=!1,this.searchTermsSalon.next(e)}updateUserSalon(e,n){if(!this.isSalonSelected){this.toastr.error("Por favor, selecciona un sal\xF3n de la lista.");return}this.editOwnerService.updateUserSalon(e,n).subscribe(t=>{this.toastr.success("Sal\xF3n actualizado con \xE9xito"),setTimeout(()=>{window.location.reload()},1e3),this.getSalonOwnerById(this.id_user)},t=>{console.error("Error al actualizar el sal\xF3n del usuario",t),this.toastr.error("No se pudo actualizar el sal\xF3n"),setTimeout(()=>{window.location.reload()},2e3)})}deleteUserSalon(e){this.editOwnerService.deleteUserSalon(e).subscribe({next:n=>{this.toastr.success("Sal\xF3n eliminado con \xE9xito"),setTimeout(()=>{window.location.reload()},1e3),this.getSalonOwnerById(this.id_user)},error:n=>{console.error("Error al eliminar el sal\xF3n",n),this.toastr.error("No se pudo eliminar el sal\xF3n"),setTimeout(()=>{window.location.reload()},2e3)}})}addUserSalon(){if(!this.isSalonSelected||!this.id_salon){this.toastr.error("Por favor, selecciona un sal\xF3n de la lista.");return}if(this.id_user===void 0){this.toastr.error("ID de usuario no v\xE1lido.");return}let e={id_user:this.id_user,id_salon:this.id_salon};console.log("Datos enviados:",e),this.editOwnerService.addUserSalon(e).subscribe(n=>{this.toastr.success("Sal\xF3n a\xF1adido con \xE9xito"),this.getSalonOwnerById(this.id_user),setTimeout(()=>{window.location.reload()},1e3)},n=>{console.error("Error al a\xF1adir el sal\xF3n",n),this.toastr.error("No se pudo a\xF1adir el sal\xF3n")})}static{this.\u0275fac=function(n){return new(n||i)(B(rp),B(xe),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-owner"]],decls:79,vars:5,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],["id","deleteSalonModal","tabindex","-1","aria-labelledby","deleteSalonModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteSalonModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","me-2"],["type","button",1,"btn","btn-danger",3,"click"],["id","editSalonModal","tabindex","-1","aria-labelledby","editSalonModalLabel","aria-hidden","true",1,"modal","fade"],["id","editSalonModalLabel",1,"modal-title"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","salonName",1,"form-label"],["type","text","id","salonName","name","name","name","salon","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group salon-list mt-2",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","addUserSalonModal","tabindex","-1","aria-labelledby","addUserSalonModalLabel","aria-hidden","true",1,"modal","fade"],["id","addUserSalonModalLabel",1,"modal-title"],[1,"row"],[1,"col-md-12"],["type","text","id","salonName","name","salon","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["type","submit",1,"btn","btn-danger",3,"click"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],[1,"row","mb-4"],["for","permiso",1,"form-label"],["type","text","id","dni","name","dni",1,"form-control",3,"ngModelChange","ngModel"],[1,"card","mt-4"],[1,"h5"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","placeholder","Repetir contrase\xF1a...","name","confirmPassword",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/owners",1,"btn","btn-secondary","mt-3"],[1,"card","mt-4","row"],[1,"card-body","d-flex","align-items-center"],["data-bs-toggle","modal","data-bs-target","#addUserSalonModal",1,"btn","bg-danger","ms-auto"],[1,"table-responsive","w-100","mx-auto","rounded"],[1,"table","table-hover","table-light"],[1,"thead-dark"],[1,"col-1"],["class","text-center",4,"ngFor","ngForOf"],[3,"value"],["data-bs-toggle","modal","data-bs-target","#editSalonModal",1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteSalonModal",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"list-group","salon-list","mt-2"],["class","list-group-item list-group-item-action salon-item d-flex align-items-center",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","salon-item","d-flex","align-items-center",3,"click"],[1,"las","la-industry"],[1,"las","la-industry","me-2"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Ajuste de cuenta / "),s(11,"b"),c(12,"Editar Propietario"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Editar Cliente "),a(),s(17,"div",9),M(18,bx,75,13,"div",10),a()()()(),h(19,"app-footer"),a()(),s(20,"div",11)(21,"div",12)(22,"div",13)(23,"div",14)(24,"h5",15),c(25,"Eliminar Sal\xF3n"),a(),h(26,"button",16),a(),s(27,"div",17)(28,"div",18),h(29,"img",19),s(30,"p"),c(31,"\xBFEst\xE1s seguro que deseas eliminar este sal\xF3n?"),a()(),s(32,"div",20)(33,"button",21),c(34," Cancelar "),a(),s(35,"button",22),f("click",function(){return t.deleteUserSalon(t.id_user_salon)}),c(36," Eliminar "),a()()()()()(),s(37,"div",23)(38,"div",12)(39,"div",13)(40,"div",14)(41,"h5",24),c(42,"Editar Sal\xF3n"),a(),h(43,"button",16),a(),s(44,"div",17)(45,"div",18),h(46,"img",19),s(47,"div",25)(48,"div",26)(49,"label",27),c(50,"Introduce el nombre del sal\xF3n:"),a(),s(51,"input",28),A("ngModelChange",function(l){return T(t.selectedSalon,l)||(t.selectedSalon=l),l}),f("input",function(){return t.searchSalon(t.selectedSalon)}),a(),M(52,Cx,2,1,"ul",29),a()()()(),s(53,"div",30)(54,"button",22),f("click",function(){return t.updateUserSalon(t.id_user_salon,t.id_salon)}),c(55," Guardar "),a(),s(56,"button",31),c(57," Cancelar "),a()()()()(),s(58,"div",32)(59,"div",12)(60,"div",13)(61,"div",14)(62,"h5",33),c(63,"A\xF1adir Sal\xF3n"),a(),h(64,"button",16),a(),s(65,"div",17)(66,"div",18),h(67,"img",19),a(),s(68,"div",34)(69,"div",35)(70,"label",27),c(71,"Introduzca sal\xF3n:"),a(),s(72,"input",36),A("ngModelChange",function(l){return T(t.selectedSalon,l)||(t.selectedSalon=l),l}),f("input",function(){return t.searchSalon(t.selectedSalon)}),a(),M(73,Sx,2,1,"ul",29),a()()(),s(74,"div",30)(75,"button",37),f("click",function(){return t.addUserSalon()}),c(76,"Guardar"),a(),s(77,"button",31),c(78," Cancelar "),a()()()()()),n&2&&(u(18),b("ngIf",t.ownerData),u(33),D("ngModel",t.selectedSalon),u(),b("ngIf",t.dataSalonList.length>0),u(20),D("ngModel",t.selectedSalon),u(),b("ngIf",t.dataSalonList.length>0))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,ut,Ce,Ye,ge,_e,ve],styles:[".salon-list[_ngcontent-%COMP%]{position:absolute;max-height:200px;overflow-y:auto;width:100%;left:0;top:90%;border-radius:.5rem;box-shadow:0 4px 8px #0000001a;background-color:#fff;z-index:1000}.salon-item[_ngcontent-%COMP%]{padding:.5rem 1rem;transition:background-color .2s ease;max-height:200px}.salon-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;cursor:pointer}.salon-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:#6c757d}.salon-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;font-weight:500;color:#333}#salonName[_ngcontent-%COMP%], #ownerEmail[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}"]})}}return i})();var ap=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getCityById(e){return this.http.get(`${this.baseUrl}/edit-city/getCityById`,{params:{id_city:e}})}updateCity(e){let n=e.id_city;return this.http.put(`${this.baseUrl}/edit-city/updateCity/${n}`,e)}getProvinces(){return this.http.get(`${this.baseUrl}/edit-city/getProvinces`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ex(i,r){if(i&1&&(s(0,"option",31),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function Mx(i,r){if(i&1){let e=z();s(0,"div")(1,"form",11),f("ngSubmit",function(){g(e);let t=x();return _(t.updateCity())}),s(2,"div",12)(3,"div",13)(4,"label",14),c(5,"Nombre"),a(),s(6,"input",15),A("ngModelChange",function(t){g(e);let o=x();return T(o.cityData.name,t)||(o.cityData.name=t),_(t)}),a()(),s(7,"div",13)(8,"label",16),c(9,"Latitud"),a(),s(10,"input",17),A("ngModelChange",function(t){g(e);let o=x();return T(o.cityData.latitud,t)||(o.cityData.latitud=t),_(t)}),a()()(),s(11,"div",12)(12,"div",13)(13,"label",18),c(14,"Longitud"),a(),s(15,"input",19),A("ngModelChange",function(t){g(e);let o=x();return T(o.cityData.longitud,t)||(o.cityData.longitud=t),_(t)}),a()(),s(16,"div",20)(17,"label",21),c(18,"Codigo Zip"),a(),s(19,"input",22),A("ngModelChange",function(t){g(e);let o=x();return T(o.cityData.zip_code,t)||(o.cityData.zip_code=t),_(t)}),a()()(),s(20,"div",23)(21,"div",24)(22,"label",25),c(23,"Provincia"),a(),s(24,"select",26),A("ngModelChange",function(t){g(e);let o=x();return T(o.cityData.id_province,t)||(o.cityData.id_province=t),_(t)}),M(25,Ex,2,2,"option",27),a()()(),h(26,"div",28),s(27,"button",29),c(28," Guardar "),a(),s(29,"button",30),c(30,"Cancelar"),a()()()}if(i&2){let e=x();u(6),D("ngModel",e.cityData.name),u(4),D("ngModel",e.cityData.latitud),u(5),D("ngModel",e.cityData.longitud),u(4),D("ngModel",e.cityData.zip_code),u(5),D("ngModel",e.cityData.id_province),u(),b("ngForOf",e.provinces)}}var sp=(()=>{class i{constructor(e,n,t){this.editCityService=e,this.toastr=n,this.route=t,this.cityData=[],this.cities=[],this.provinces=[]}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.getCityDataById(+e):console.error("No id_user found in the URL"),this.getProvinces()}updateCity(){this.editCityService.updateCity(this.cityData).subscribe(e=>{console.log("Administrador actualizado exitosamente",e),this.toastr.success("Cambios realizados con \xE9xito")},e=>{console.error("Error al actualizar el Administrador",e),this.toastr.error("No se realizaron los cambios")})}getCityDataById(e){this.editCityService.getCityById(e).subscribe(n=>{this.cityData=n.data,console.log("Datos de la ciudad obtenidos con \xE9xito",this.cityData)},n=>{console.error("Error al obtener los datos de la ciudad",n),this.toastr.error("No se pudo obtener los datos de la ciudad")})}getProvinces(){this.editCityService.getProvinces().subscribe(e=>{this.provinces=e.data},e=>{console.error("Error fetching provinces:",e)})}static{this.\u0275fac=function(n){return new(n||i)(B(ap),B(xe),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-city"]],decls:24,vars:1,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["for","latitud",1,"form-label"],["type","text","id","latitud","name","latitud",1,"form-control",3,"ngModelChange","ngModel"],["for","longitud",1,"form-label"],["type","text","id","longitud","name","longitud",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["for","zip_code",1,"form-label"],["type","zip_code","id","zip_code","name","zip_code",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"card","mt-4"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/cities",1,"btn","btn-secondary","mt-3"],[3,"value"]],template:function(n,t){n&1&&(s(0,"p"),c(1,"edit-city works!"),a(),s(2,"p"),c(3,"edit-client works!"),a(),h(4,"app-header"),s(5,"div",0),h(6,"app-aside"),s(7,"div",1)(8,"main")(9,"div",2)(10,"h1",3),c(11,"Panel de control"),a(),s(12,"ol",4)(13,"li",5),c(14," Ajuste de cuenta / "),s(15,"b"),c(16,"Editar ciudad"),a()()(),s(17,"div",6)(18,"div",7),h(19,"img",8),c(20," Editar Ciudad "),a(),s(21,"div",9),M(22,Mx,31,6,"div",10),a()()()(),h(23,"app-footer"),a()()),n&2&&(u(22),b("ngIf",t.cityData))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,Ce,Ye,ge,_e,ve]})}}return i})();var lp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllBrands(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/brands/getAllBrands`,{params:o})}addBrand(e){return this.http.post(`${this.baseUrl}/brands/addBrand`,e)}updateBrand(e,n){return this.http.put(`${this.baseUrl}/brands/updateBrand/${e}`,n)}deleteBrand(e){return this.http.post(`${this.baseUrl}/brands/deleteBrand`,{id_brand:e})}getCategoryInLive(e){return this.http.get(`${this.baseUrl}/brands/searchCategoryInLive`,{params:{category:e}})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Tx(i,r){i&1&&(s(0,"div",71)(1,"button",72),c(2," Eliminar seleccionados "),a()())}function Ax(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",73),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",74),c(5),a(),s(6,"td"),h(7,"img",75),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td"),c(13),a(),s(14,"td")(15,"button",76),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectBrand(t))}),h(16,"i",77),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),sn("alt",e.name),b("src",e.imagePath,Ie),u(2),Y(" ",e.totalSalones," "),u(2),Y(" ",e.categories," "),u(2),V(e.active?"Si":"No")}}function Ix(i,r){if(i&1){let e=z();s(0,"li",24)(1,"a",78),f("click",function(){let t=g(e).$implicit,o=x();return _(o.onPageChange(t))}),c(2),a()()}if(i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage),u(2),V(e)}}function kx(i,r){if(i&1){let e=z();s(0,"li",81),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectCategory({name:t}))}),h(1,"i",82),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function Px(i,r){if(i&1&&(s(0,"ul",79),M(1,kx,3,1,"li",80),a()),i&2){let e=x();u(),b("ngForOf",e.dataCategoryList)}}function Fx(i,r){if(i&1){let e=z();s(0,"li",83),c(1),s(2,"button",84),f("click",function(){let t=g(e).index,o=x(2);return _(o.removeCategory(t))}),h(3,"i",85),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e.name," ")}}function Ox(i,r){if(i&1&&(s(0,"div")(1,"ul",56),M(2,Fx,4,1,"li",57),a()()),i&2){let e=x();u(2),b("ngForOf",e.newCategory.categories)}}function Nx(i,r){if(i&1){let e=z();s(0,"li",83),c(1),s(2,"button",84),f("click",function(){let t=g(e).index,o=x();return _(o.removeUpdateCategory(t))}),h(3,"i",85),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e," ")}}function Bx(i,r){if(i&1){let e=z();s(0,"li",81),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectCategory({name:t}))}),h(1,"i",82),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function Rx(i,r){if(i&1&&(s(0,"ul",79),M(1,Bx,3,1,"li",80),a()),i&2){let e=x();u(),b("ngForOf",e.dataCategoryList)}}function Vx(i,r){if(i&1){let e=z();s(0,"li",83),c(1),s(2,"button",84),f("click",function(){let t=g(e).index,o=x();return _(o.removeCategory(t))}),h(3,"i",85),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e.name," ")}}var cp=(()=>{class i{constructor(e,n){this.brandsService=e,this.toastr=n,this.AllBrands=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.categories=[],this.Math=Math,this.allSelected=!1,this.searchText="",this.selectedBrand={name:""},this.selectedImgFile=null,this.imagePreview=null,this.searchTermsCategory=new Te,this.selectedCategory="",this.dataCategoryList=[],this.newCategory={email:"",salons:[]}}ngOnInit(){this.loadAllBrands(this.currentPage),this.searchTermsCategory.pipe(Rt(300),qt(),et(e=>e.length>=2?this.brandsService.getCategoryInLive(e):ae([]))).subscribe({next:e=>{this.dataCategoryList=e.map(n=>n.categories)},error:e=>{console.error("Error al buscar categorias:",e)}})}loadAllBrands(e){this.brandsService.loadAllBrands(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllBrands=n.data.map(t=>De(q({},t),{categories:t.categories&&t.categories!==""?Array.from(new Set(t.categories.split(",").map(o=>o.trim()))):[]})),this.totalItems=n.totalItems,console.log("Marcas cargadas",this.AllBrands)},error:n=>{console.error("Error loading brands",n)}})}selectCategory(e){this.newCategory.categories||(this.newCategory.categories=[]),this.newCategory.categories.push({name:e.name}),this.dataCategoryList=[],this.selectedCategory=""}selectBrand(e){this.id_brand_category=e.id_brand_category,this.id_brand=e.id_brand,this.selectedBrand=e.name,this.selectedImgBrang=e.imagePath,this.brand=e,console.log("id_brand_category",this.id_brand_category),this.categories=[],this.newCategory.categories=[],typeof e.categories=="string"?this.categories=e.categories.split(",").map(n=>n.trim()):this.categories=Array.isArray(e.categories)?e.categories:[],console.log("Categor\xEDas asignadas:",this.categories),console.log("id_brand_category",this.id_brand_category)}removeCategory(e){this.newCategory.categories.splice(e,1)}removeUpdateCategory(e){this.categories.splice(e,1)}searchCategory(e){this.searchTermsCategory.next(e)}updatebrand(){if(!this.selectedBrand||this.selectedBrand.trim()===""){this.toastr.warning("El nombre de la marca no puede estar vac\xEDo.");return}let e=new FormData;e.append("name",this.selectedBrand),this.selectedUpdateImgFile&&e.append("brandImage",this.selectedUpdateImgFile);let t=[...this.categories.map(o=>({name:o})),...this.newCategory.categories].reduce((o,l)=>(o.find(m=>m.name===l.name)||o.push(l),o),[]);e.append("categories",JSON.stringify(t)),this.brandsService.updateBrand(this.id_brand,e).subscribe({next:o=>{this.toastr.success("Marca actualizada con \xE9xito"),this.loadAllBrands(this.currentPage)},error:o=>{this.toastr.error("Error al actualizar la marca"),console.error("Error al actualizar la marca",o)}})}onEditImageSelected(e){let n=e.target.files[0];if(n){this.selectedUpdateImgFile=n;let t=new FileReader;t.onload=o=>{this.selectedImgBrang=o.target.result},t.readAsDataURL(n)}}onSearch(){this.loadAllBrands(this.currentPage),this.searchText.trim()===""&&this.loadAllBrands(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllBrands(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllBrands.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllBrands.every(e=>e.selected)}hasSelected(){return this.AllBrands.some(e=>e.selected)}confirmDelete(){let n=this.AllBrands.filter(t=>t.selected).map(t=>t.id_brand);console.log("id marcas a eliminar",n),n.length>0&&this.brandsService.deleteBrand(n).subscribe({next:()=>{this.toastr.success("Marcas eliminadas con \xE9xito"),this.loadAllBrands(this.currentPage)},error:t=>{console.error("Error eliminando Marcas",t),this.toastr.error("Hubo un error al eliminar las marcas","Error")}})}addBrand(){if(!this.newBrand||this.newBrand.trim()===""){this.toastr.warning("El nombre de la marca no puede estar vac\xEDo","Advertencia");return}if(!this.selectedImgFile){this.toastr.warning("Debe seleccionar una imagen para la marca","Advertencia");return}if(!this.newCategory.categories||this.newCategory.categories.length===0){this.toastr.error("Debe seleccionar al menos una categor\xEDa","Advertencia");return}let e=new FormData;e.append("name",this.newBrand),e.append("brandImage",this.selectedImgFile);let n=this.newCategory.categories.map(o=>o.name),t=JSON.stringify(n);e.append("categories",t),e.forEach((o,l)=>{console.log(l,o)}),this.brandsService.addBrand(e).subscribe({next:o=>{this.toastr.success("Marca a\xF1adida con \xE9xito","\xC9xito"),this.loadAllBrands(this.currentPage),this.newBrand="",this.imagePreview="../../../assets/img/sello.jpg",this.newCategory.categories=[]},error:o=>{console.error("Error a\xF1adiendo marca",o),this.toastr.error("Hubo un error al a\xF1adir la marca, por favor compruebe que la marca no exista en su lista","Error")}})}onImageSelected(e){let n=e.target;if(n.files&&n.files.length>0){this.selectedImgFile=n.files[0];let t=new FileReader;t.onload=()=>{this.imagePreview=t.result},t.readAsDataURL(this.selectedImgFile)}}static{this.\u0275fac=function(n){return new(n||i)(B(lp),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-brands"]],decls:155,vars:24,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newBrandModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","editBrandModal","tabindex","-1","aria-labelledby","editBrandLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","editBrandLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","brandName",1,"form-label"],["type","text","id","brandName","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["for","brandImage",1,"form-label"],[1,"col-12","mt-3","text-center"],["alt","Imagen de la Marca","width","150",1,"img-fluid",3,"src"],["for","editBrandImage",1,"form-label"],["type","file","id","editBrandImage",1,"form-control",3,"change"],["for","categoryName",1,"form-label","mt-3"],["type","text","id","categoryName","name","category","placeholder","Introduzca el nombre de la categor\xEDa y haga clic para a\xF1adir...","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group email-list",4,"ngIf"],[1,"mt-3"],[4,"ngIf"],[1,"row"],[1,"col-12"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","newBrandModal","tabindex","-1","aria-labelledby","newBrandLabel","aria-hidden","true",1,"modal","fade"],["id","newBrandLabel",1,"modal-title"],["alt","sello","width","120",1,"img-fluid",3,"src"],["for","newBrandName",1,"form-label"],["type","text","id","newBrandName","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"mt-3","mb-3"],["type","file","id","brandImage",1,"form-control",3,"change"],["id","deleteBrandModal","tabindex","-1","aria-labelledby","deleteBrandModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteBrandModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteBrandModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-flag"],["width","100",3,"src","alt"],["data-bs-toggle","modal","data-bs-target","#editBrandModal",1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[1,"page-link",3,"click"],[1,"list-group","email-list"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-tag"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Marcas"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Marcas "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),M(24,Tx,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Nombre"),a(),s(33,"th"),c(34,"Logo"),a(),s(35,"th"),c(36,"Asignaciones a Salones"),a(),s(37,"th"),c(38,"Catagorias Asignadas"),a(),s(39,"th"),c(40,"Activo"),a(),s(41,"th",20),c(42,"Editar"),a()()(),s(43,"tbody"),M(44,Ax,17,7,"tr",21),a()()(),s(45,"nav",22)(46,"ul",23)(47,"li",24)(48,"a",25),f("click",function(){return t.onPageChange(1)}),s(49,"span",26),c(50,"\xAB\xAB"),a()()(),s(51,"li",24)(52,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(53,"span",26),c(54,"\xAB"),a()()(),M(55,Ix,3,3,"li",28),s(56,"li",24)(57,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(58,"span",26),c(59,"\xBB"),a()()(),s(60,"li",24)(61,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(62,"span",26),c(63,"\xBB\xBB"),a()()()()()()()()(),h(64,"app-footer"),a()(),s(65,"div",31)(66,"div",32)(67,"div",33)(68,"div",34)(69,"h5",35),c(70,"Editar Marca"),a(),h(71,"button",36),a(),s(72,"div",37)(73,"div",38),h(74,"img",39),a(),s(75,"div",40)(76,"div",41)(77,"label",42),c(78,"Nombre de la Marca:"),a(),s(79,"input",43),A("ngModelChange",function(l){return T(t.selectedBrand,l)||(t.selectedBrand=l),l}),a()()(),s(80,"div",40)(81,"div",41)(82,"label",44),c(83,"Imagen de la Marca:"),a()()(),s(84,"div",40)(85,"div",45),h(86,"img",46),a()(),s(87,"div",40)(88,"div",41)(89,"label",47),c(90,"Reemplazar Imagen de la Marca:"),a(),s(91,"input",48),f("change",function(l){return t.onEditImageSelected(l)}),a()()(),s(92,"label",49),c(93,"Introduce categoria:"),a(),s(94,"input",50),A("ngModelChange",function(l){return T(t.selectedCategory,l)||(t.selectedCategory=l),l}),f("input",function(){return t.searchCategory(t.selectedCategory)}),a(),M(95,Px,2,1,"ul",51),s(96,"div",52),M(97,Ox,3,1,"div",53),a(),s(98,"div",54)(99,"div",55)(100,"ul",56),M(101,Nx,4,1,"li",57),a()()()(),s(102,"div",58)(103,"button",59),f("click",function(){return t.updatebrand()}),c(104,"Guardar"),a(),s(105,"button",60),c(106,"Cancelar"),a()()()()(),s(107,"div",61)(108,"div",32)(109,"div",33)(110,"div",34)(111,"h5",62),c(112,"Nueva Marca"),a(),h(113,"button",36),a(),s(114,"div",37)(115,"div",38),h(116,"img",63),a(),s(117,"div",40)(118,"div",41)(119,"label",64),c(120,"Introduzca el nombre de la Marca:"),a(),s(121,"input",65),A("ngModelChange",function(l){return T(t.newBrand,l)||(t.newBrand=l),l}),a()(),s(122,"label",49),c(123,"Introduce categoria:"),a(),s(124,"input",50),A("ngModelChange",function(l){return T(t.selectedCategory,l)||(t.selectedCategory=l),l}),f("input",function(){return t.searchCategory(t.selectedCategory)}),a(),M(125,Rx,2,1,"ul",51),s(126,"div",66)(127,"ul",56),M(128,Vx,4,1,"li",57),a()(),s(129,"div",41)(130,"label",44),c(131,"Subir imagen de la Marca:"),a(),s(132,"input",67),f("change",function(l){return t.onImageSelected(l)}),a()()()(),s(133,"div",58)(134,"button",59),f("click",function(){return t.addBrand()}),c(135,"Guardar"),a(),s(136,"button",60),c(137,"Cancelar"),a()()()()(),s(138,"div",68)(139,"div",32)(140,"div",33)(141,"div",34)(142,"h5",69),c(143,"Eliminar Marcas"),a(),h(144,"button",36),a(),s(145,"div",37)(146,"div",70),h(147,"img",39),a(),s(148,"p"),c(149,"\xBFEst\xE1s seguro que deseas eliminar la marca/s seleccionadas?"),a()(),s(150,"div",58)(151,"button",59),f("click",function(){return t.confirmDelete()}),c(152,"Eliminar"),a(),s(153,"button",60),c(154,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(14),b("ngForOf",t.AllBrands),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),D("ngModel",t.selectedBrand),u(7),b("src",t.selectedImgBrang,Ie),u(8),D("ngModel",t.selectedCategory),u(),b("ngIf",t.dataCategoryList.length>0),u(2),b("ngIf",t.newCategory!==""),u(4),b("ngForOf",t.categories),u(15),b("src",t.imagePreview||"../../../assets/img/sello.jpg",Ie),u(5),D("ngModel",t.newBrand),u(3),D("ngModel",t.selectedCategory),u(),b("ngIf",t.dataCategoryList.length>0),u(3),b("ngForOf",t.newCategory.categories))},dependencies:[ue,ce,me,Ve,fe,Ce,ge,_e,ve],styles:["#brandName[_ngcontent-%COMP%], #newBrandName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#categoryName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}"]})}}return i})();var dp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllCategoriesJobs(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/categories-jobs/getAllCategoriesJobs`,{params:o}).pipe(we(l=>(l.data=l.data.map(d=>De(q({},d),{subcategoriesText:d.subcategories.map(m=>m.name).join(", ")})),l)))}deleteCategoryJobs(e){return this.http.post(`${this.baseUrl}/categories-jobs/delete`,{categoryIds:e})}updateCategoryJobs(e){return this.http.put(`${this.baseUrl}/categories-jobs/updateCategoryJob/${e.id}`,e)}updateSubCategories(e,n){return this.http.put(`${this.baseUrl}/categories-jobs/updateSubcategories/${e}`,n)}addCategorySubcategoryJob(e){return console.log("Datos enviados en el servicio:",e),this.http.post(`${this.baseUrl}/categories-jobs/addCategoryWithSubcategoriesJobs`,e)}getCategories(){return this.http.get(`${this.baseUrl}/categories-jobs/getCategories`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ux(i,r){i&1&&(s(0,"div",65)(1,"button",66),c(2," Eliminar seleccionados "),a()())}function jx(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",67),A("ngModelChange",function(t){let o=g(e).$implicit;return T(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",68),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td")(11,"button",69),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectCategoryJob(t))}),c(12," Categor\xEDa "),a(),s(13,"button",70),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectSubCategories(t))}),c(14," Subcategor\xEDas "),a()()()}if(i&2){let e=r.$implicit;u(2),D("ngModel",e.selected),u(3),Y(" ",e.name," "),u(2),Y(" ",e.subcategoriesText," "),u(2),Y(" ",e.active?"No":"Si"," ")}}function Hx(i,r){if(i&1){let e=z();s(0,"li",24)(1,"a",71),f("click",function(){let t=g(e).$implicit,o=x();return _(o.onPageChange(t))}),c(2),a()()}if(i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage),u(2),V(e)}}function Wx(i,r){if(i&1&&(s(0,"option",72),c(1),a()),i&2){let e=r.$implicit;b("value",e.categories),u(),Y(" ",e.categories," ")}}function zx(i,r){if(i&1&&(s(0,"option",72),c(1),a()),i&2){let e=r.$implicit;b("value",e.categories),u(),Y(" ",e.categories," ")}}function Gx(i,r){if(i&1){let e=z();s(0,"li",73),c(1),s(2,"button",74),f("click",function(){let t=g(e).index,o=x();return _(o.removeCategory(t))}),h(3,"i",75),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e," ")}}var up=(()=>{class i{constructor(e,n){this.CategoriesJobsService=e,this.toastr=n,this.AllCategoriesJobs=[],this.AllCategories=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.categories=[],this.Math=Math,this.allSelected=!1,this.searchText="",this.selectedCategoryJob="",this.subCategories=[],this.newCategoryJob="",this.editCategoryJob="",this.newSubCategoryJob="",this.selectedCategoryId=null,this.selectedSubCategories=[],this.selectedSubCategoriesText="",this.subCategoriesAsText="",this.selectedSubCategoryIds=[]}ngOnInit(){this.loadAllCategoriesJobs(this.currentPage),this.getCategories()}getCategories(){this.CategoriesJobsService.getCategories().subscribe({next:e=>{this.AllCategories=e.data||e},error:e=>{console.error("Error fetching categories",e)}})}addSubCategory(e){e.trim()&&(this.subCategories.push(e.trim()),this.newSubCategoryJob="")}removeCategory(e){this.subCategories.splice(e,1)}selectCategoryJob(e){this.selectedCategoryJob=e.name,this.selectedCategoryId=e.id_job_cat}loadAllCategoriesJobs(e){this.CategoriesJobsService.loadAllCategoriesJobs(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllCategoriesJobs=n.data.map(t=>De(q({},t),{categories:t.categories&&t.categories!==""?Array.from(new Set(t.categories.split(",").map(o=>o.trim()))):[]})),this.totalItems=n.totalItems,console.log("Categorias de empleo cargadas",this.AllCategoriesJobs)},error:n=>{console.error("Error loading categories jobs",n)}})}removeUpdateCategory(e){this.categories.splice(e,1)}onSearch(){this.loadAllCategoriesJobs(this.currentPage),this.searchText.trim()===""&&this.loadAllCategoriesJobs(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllCategoriesJobs(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllCategoriesJobs.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllCategoriesJobs.every(e=>e.selected)}hasSelected(){return this.AllCategoriesJobs.some(e=>e.selected)}confirmDelete(){let n=this.AllCategoriesJobs.filter(t=>t.selected).map(t=>t.id_job_cat);console.log("id categor\xEDas de empleo a eliminar",n),console.log("id categor\xEDas de empleo a eliminar",n),n.length>0&&this.CategoriesJobsService.deleteCategoryJobs(n).subscribe({next:()=>{this.toastr.success("Categorias de Empleo eliminadas con \xE9xito"),this.loadAllCategoriesJobs(this.currentPage)},error:t=>{console.error("Error eliminando Categor\xEDas de Empleo",t),this.toastr.error("Hubo un error al eliminar las Categorias de Empleo","Error")}})}selectSubCategories(e){this.selectedCategoryId=e.id_job_cat,this.selectedSubCategories=e.subcategories.map(n=>n.name),this.selectedSubCategoriesText=this.selectedSubCategories.join(", "),this.selectedSubCategoryIds=e.subcategories.map(n=>n.id_job_subcat)}updateSubCategories(){if(this.selectedSubCategories=this.selectedSubCategoriesText.split(",").map(n=>n.trim()).filter(n=>n.length>0),this.selectedSubCategories.length===0){this.toastr.error("Error, introduzca al menos una subcategor\xEDa");return}if(!this.selectedCategoryId){this.toastr.error("No se pudo actualizar las subcategor\xEDas porque falta el ID de la categor\xEDa");return}let e={subcategories:this.selectedSubCategories,id_category:this.selectedCategoryId};this.CategoriesJobsService.updateSubCategories(this.selectedCategoryId,e).subscribe({next:n=>{console.log("Respuesta del servidor:",n),this.toastr.success("Subcategor\xEDas actualizadas con \xE9xito"),this.loadAllCategoriesJobs(this.currentPage)},error:n=>{console.error("Error al actualizar las subcategor\xEDas:",n),this.toastr.error("Error al actualizar las subcategor\xEDas")}})}updateCategoryJobs(){if(this.selectedCategoryJob&&this.selectedCategoryId){let e={id:this.selectedCategoryId,name:this.selectedCategoryJob};console.log("Datos enviados para actualizar categoria de empleo:",e),this.CategoriesJobsService.updateCategoryJobs(e).subscribe({next:n=>{this.toastr.success("Categor\xEDa actualizada exitosamente"),this.loadAllCategoriesJobs(this.currentPage)},error:n=>{this.toastr.error("Error al actualizar la categor\xEDa"),console.error(n)}})}else this.toastr.warning("No se seleccion\xF3 ninguna categor\xEDa para actualizar")}addCategoryJob(){if(!this.newCategoryJob){this.toastr.warning("Debe seleccionar una categor\xEDa de empleo");return}if(this.subCategories.length===0){this.toastr.warning("Debe a\xF1adir al menos una subcategor\xEDa de empleo");return}let e={category:this.newCategoryJob,subCategories:this.subCategories};console.log("Datos enviados:",e),this.CategoriesJobsService.addCategorySubcategoryJob(e).subscribe({next:n=>{this.toastr.success("Categor\xEDa y subcategor\xEDas de empleo a\xF1adidas con \xE9xito","\xC9xito"),this.newCategoryJob="",this.subCategories=[],this.loadAllCategoriesJobs(this.currentPage)},error:n=>{console.error("Error a\xF1adiendo categor\xEDa y subcategor\xEDas de empleo",n),this.toastr.error("Hubo un error al a\xF1adir la categor\xEDa y subcategor\xEDas de empleo","Error")}})}static{this.\u0275fac=function(n){return new(n||i)(B(dp),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-categories-jobs"]],decls:148,vars:21,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newCategoryJobModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-2"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","editCategoryJobModal","tabindex","-1","aria-labelledby","editCategoryJobLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","editCategoryJobLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"mb-3"],["for","newCategoryJob",1,"form-label","mt-3"],["name","editCategoryJob","id","editCategoryJob",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","editSubCategoryJobModal","tabindex","-1","aria-labelledby","editSubCategoryJobLabel","aria-hidden","true",1,"modal","fade"],["id","editSubCategoryJobJobLabel",1,"modal-title"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","subservicesTextarea",1,"form-label"],["id","subCategoriesTextarea","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["id","newCategoryJobModal","tabindex","-1","aria-labelledby","newCategoryJobLabel","aria-hidden","true",1,"modal","fade"],["id","newCategoryJobLabel",1,"modal-title"],[1,"text-center"],["alt","sello","width","120",1,"img-fluid","rounded",3,"src"],["name","newCategoryJob","id","newCategoryJob",1,"form-select",3,"ngModelChange","ngModel"],["for","newSubCategoryJob",1,"form-label","mt-3"],["type","text","id","newSubCategoryJob","placeholder","Pulse enter para introducir...","autocomplete","off",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],[1,"list-group","mt-3"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["id","deleteCategoryJobModal","tabindex","-1","aria-labelledby","deleteCategoryJobModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteCategoryJobModalLabel",1,"modal-title"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteCategoryJobModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-hashtag"],["data-bs-toggle","modal","data-bs-target","#editCategoryJobModal",1,"btn","btn-dark","me-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#editSubCategoryJobModal",1,"btn","btn-dark",3,"click"],[1,"page-link",3,"click"],[3,"value"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Portal de Empleo / "),s(11,"b"),c(12,"Categor\xEDas de Empleo"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Categor\xEDas de Empleo "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),A("ngModelChange",function(l){return T(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23," Nuevo "),a()(),M(24,Ux,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Categor\xEDa de Empleo"),a(),s(33,"th"),c(34,"Subcategor\xEDa de Empleo"),a(),s(35,"th"),c(36,"Activo"),a(),s(37,"th",20),c(38,"Editar Categor\xEDa/Subcategor\xEDa"),a()()(),s(39,"tbody"),M(40,jx,15,4,"tr",21),a()()(),s(41,"nav",22)(42,"ul",23)(43,"li",24)(44,"a",25),f("click",function(){return t.onPageChange(1)}),s(45,"span",26),c(46,"\xAB\xAB"),a()()(),s(47,"li",24)(48,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(49,"span",26),c(50,"\xAB"),a()()(),M(51,Hx,3,3,"li",28),s(52,"li",24)(53,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(54,"span",26),c(55,"\xBB"),a()()(),s(56,"li",24)(57,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(58,"span",26),c(59,"\xBB\xBB"),a()()()()()()()()(),h(60,"app-footer"),a()(),s(61,"div",31)(62,"div",32)(63,"div",33)(64,"div",34)(65,"h5",35),c(66,"Editar Categor\xEDa de Empleo"),a(),h(67,"button",36),a(),s(68,"div",37)(69,"div",38),h(70,"img",39),a(),s(71,"div",40)(72,"label",41),c(73,"selecccione nueva categor\xEDa de empleo:"),a(),s(74,"select",42),A("ngModelChange",function(l){return T(t.selectedCategoryJob,l)||(t.selectedCategoryJob=l),l}),s(75,"option",43),c(76," Seleccione Categor\xEDa de Empleo "),a(),M(77,Wx,2,2,"option",44),a()()(),s(78,"div",45)(79,"button",46),f("click",function(){return t.updateCategoryJobs()}),c(80,"Guardar"),a(),s(81,"button",47),c(82,"Cancelar"),a()()()()(),s(83,"div",48)(84,"div",32)(85,"div",33)(86,"div",34)(87,"h5",49),c(88,"Editar Subcategor\xEDa"),a(),h(89,"button",36),a(),s(90,"div",37)(91,"div",38),h(92,"img",39),a(),s(93,"div",50)(94,"div",51)(95,"label",52),c(96,"Subcategor\xEDas:"),a(),s(97,"textarea",53),A("ngModelChange",function(l){return T(t.selectedSubCategoriesText,l)||(t.selectedSubCategoriesText=l),l}),a()()()(),s(98,"div",45)(99,"button",46),f("click",function(){return t.updateSubCategories()}),c(100,"Guardar"),a(),s(101,"button",47),c(102,"Cancelar"),a()()()()(),s(103,"div",54)(104,"div",32)(105,"div",33)(106,"div",34)(107,"h5",55),c(108," Nueva Categor\xEDa y Subcategor\xEDa de Empleo "),a(),h(109,"button",36),a(),s(110,"div",37)(111,"div",56),h(112,"img",57),a(),s(113,"div",40)(114,"label",41),c(115,"Introduce categor\xEDa:"),a(),s(116,"select",58),A("ngModelChange",function(l){return T(t.newCategoryJob,l)||(t.newCategoryJob=l),l}),s(117,"option",43),c(118," Seleccione Categor\xEDa de Empleo "),a(),M(119,zx,2,2,"option",44),a()(),s(120,"div",40)(121,"label",59),c(122,"Introduce nueva Subcategor\xEDa:"),a(),s(123,"input",60),A("ngModelChange",function(l){return T(t.newSubCategoryJob,l)||(t.newSubCategoryJob=l),l}),f("keydown.enter",function(){return t.addSubCategory(t.newSubCategoryJob)}),a()(),s(124,"ul",61),M(125,Gx,4,1,"li",62),a(),s(126,"div",45)(127,"button",46),f("click",function(){return t.addCategoryJob()}),c(128," Guardar "),a(),s(129,"button",47),c(130," Cancelar "),a()()()()()(),s(131,"div",63)(132,"div",32)(133,"div",33)(134,"div",34)(135,"h5",64),c(136,"Eliminar Categor\xEDa de Empleo"),a(),h(137,"button",36),a(),s(138,"div",37)(139,"div",38),h(140,"img",39),a(),s(141,"p"),c(142,"\xBFEst\xE1s seguro que deseas eliminar la categor\xEDa/s seleccionadas?"),a()(),s(143,"div",45)(144,"button",46),f("click",function(){return t.confirmDelete()}),c(145,"Eliminar"),a(),s(146,"button",47),c(147,"Cancelar"),a()()()()()),n&2&&(u(20),D("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(10),b("ngForOf",t.AllCategoriesJobs),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(18),D("ngModel",t.selectedCategoryJob),u(3),b("ngForOf",t.AllCategories),u(20),D("ngModel",t.selectedSubCategoriesText),u(15),b("src","../../../assets/img/sello.jpg",Ie),u(4),D("ngModel",t.newCategoryJob),u(3),b("ngForOf",t.AllCategories),u(4),D("ngModel",t.newSubCategoryJob),u(2),b("ngForOf",t.subCategories))},dependencies:[ue,ce,Qe,Ke,me,Ve,je,fe,Ce,ge,_e,ve],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#newSubCategoryJob[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}"]})}}return i})();var mp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}addImgJobs(e){return this.http.post(`${this.baseUrl}/img-jobs/addImgJobs`,e)}getAllImgJobs(e,n){return this.http.get(`${this.baseUrl}/img-jobs/getAllImgJobs?page=${e}&pageSize=${n}`)}deleteImage(e){return this.http.delete(`${this.baseUrl}/img-jobs/deleteImgJob/${e}`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function $x(i,r){if(i&1){let e=z();s(0,"div",43)(1,"div",44),h(2,"img",45),s(3,"button",46),f("click",function(){let t=g(e).$implicit,o=x();return _(o.removeImgjob(t.id_jobs_img))}),h(4,"i",47),a()()()}if(i&2){let e=r.$implicit;u(2),b("src",e.imageUrl,Ie)}}function Jx(i,r){if(i&1){let e=z();s(0,"li",17)(1,"a",48),f("click",function(){let t=g(e).$implicit,o=x();return _(o.onPageChange(t))}),c(2),a()()}if(i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage),u(2),V(e)}}var hp=(()=>{class i{constructor(e,n){this.toastr=e,this.imgJobsService=n,this.imagePreview=null,this.selectedImgFile=null,this.images=[],this.selectedImgToDelete=0,this.currentPage=1,this.pageSize=12,this.totalItems=0}ngOnInit(){this.getAllImages(this.currentPage)}onPageChange(e){this.currentPage=e,this.getAllImages(this.currentPage)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}getAllImages(e=1){this.imgJobsService.getAllImgJobs(e,this.pageSize).subscribe({next:n=>{this.images=n.images,this.totalItems=n.totalItems,console.log("Im\xE1genes recibidas",this.images)},error:n=>{console.error("Error al obtener las im\xE1genes",n)}})}removeImgjob(e){this.selectedImgToDelete=e}confirmDelete(){this.selectedImgToDelete||console.log("Falta el id de la imagen para poder eliminarla"),console.log(this.selectedImgToDelete),this.imgJobsService.deleteImage(this.selectedImgToDelete).subscribe(e=>{this.toastr.success("Imagen de empleo eliminada con \xE9xito"),this.getAllImages(this.currentPage)},e=>{this.toastr.error("Error al eliminar la imagen")})}onImageSelected(e){let n=e.target;if(n.files&&n.files.length>0){this.selectedImgFile=n.files[0];let t=new FileReader;t.onload=()=>{this.imagePreview=t.result},t.readAsDataURL(this.selectedImgFile)}}addImgJob(){if(!this.selectedImgFile){this.toastr.warning("Debe seleccionar una imagen para la marca","Advertencia");return}let e=new FormData;e.append("imgJobs",this.selectedImgFile),this.imgJobsService.addImgJobs(e).subscribe({next:n=>{n&&n.imageUrl?(this.toastr.success("Imagen de empleo agregada exitosamente."),this.getAllImages(this.currentPage)):this.toastr.warning("La respuesta no contiene la URL de la imagen.")},error:n=>{console.error("Error al subir la imagen",n),this.toastr.error("Error al subir la imagen.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(xe),B(mp))}}static{this.\u0275cmp=re({type:i,selectors:[["app-img-jobs"]],decls:80,vars:11,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newImgJobModal",1,"btn","btn-danger"],[1,"row"],["class","col-6 col-sm-4 col-md-3 col-lg-2 mb-4 d-flex justify-content-center",4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","newImgJobModal","tabindex","-1","aria-labelledby","newImgJobLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","newImgJobLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["alt","sello","width","120",1,"img-fluid",3,"src"],[1,"col-12","mt-3"],["for","brandImage",1,"form-label"],["type","file","id","brandImage",1,"form-control",3,"change"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteImgJobModal","tabindex","-1","aria-labelledby","deleteImgJobModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteImgJobModalLabel",1,"modal-title"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"col-6","col-sm-4","col-md-3","col-lg-2","mb-4","d-flex","justify-content-center"],[1,"image-container"],["alt","Imagen de empleo",1,"card-img-top","img-fluid","job-image",3,"src"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteImgJobModal",1,"btn","btn-danger","btn-sm","delete-button",3,"click"],[1,"las","la-times",2,"font-size","1rem"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Portal de Empleo / "),s(11,"b"),c(12,"Im\xE1genes"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Galer\xEDa de Im\xE1genes "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"button",12),c(21," Subir "),a()()(),s(22,"div",13),M(23,$x,5,1,"div",14),a()()()(),s(24,"nav",15)(25,"ul",16)(26,"li",17)(27,"a",18),f("click",function(){return t.onPageChange(1)}),s(28,"span",19),c(29,"\xAB\xAB"),a()()(),s(30,"li",17)(31,"a",20),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(32,"span",19),c(33,"\xAB"),a()()(),M(34,Jx,3,3,"li",21),s(35,"li",17)(36,"a",22),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(37,"span",19),c(38,"\xBB"),a()()(),s(39,"li",17)(40,"a",23),f("click",function(){return t.onPageChange(t.pageCount)}),s(41,"span",19),c(42,"\xBB\xBB"),a()()()()()(),h(43,"app-footer"),a()(),s(44,"div",24)(45,"div",25)(46,"div",26)(47,"div",27)(48,"h5",28),c(49,"Nueva Im\xE1gen de empleo"),a(),h(50,"button",29),a(),s(51,"div",30)(52,"div",31),h(53,"img",32),a(),s(54,"div",33)(55,"label",34),c(56,"Subir im\xE1gen de empleo:"),a(),s(57,"input",35),f("change",function(l){return t.onImageSelected(l)}),a()()(),s(58,"div",36)(59,"button",37),f("click",function(){return t.addImgJob()}),c(60," Guardar "),a(),s(61,"button",38),c(62," Cancelar "),a()()()()(),s(63,"div",39)(64,"div",25)(65,"div",26)(66,"div",27)(67,"h5",40),c(68,"Eliminar Im\xE1gen"),a(),h(69,"button",29),a(),s(70,"div",30)(71,"div",41),h(72,"img",42),a(),s(73,"p"),c(74,"\xBFEst\xE1s seguro que deseas eliminar la im\xE1gen seleccionada?"),a()(),s(75,"div",36)(76,"button",37),f("click",function(){return t.confirmDelete()}),c(77," Eliminar "),a(),s(78,"button",38),c(79," Cancelar "),a()()()()()),n&2&&(u(23),b("ngForOf",t.images),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(14),b("src",t.imagePreview||"../../../assets/img/sello.jpg",Ie))},dependencies:[ue,ge,_e,ve],styles:['@charset "UTF-8";.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:10px;padding:5px;text-align:center;width:100%;max-width:350px;aspect-ratio:1/1}.job-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.delete-button[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background-color:#b91622;color:#fff;width:32px;height:32px;font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center}']})}}return i})();var pp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getAllJobsOffers(e,n){let t=new ye().set("page",e.toString()).set("pageSize",n.toString());return this.http.get(`${this.baseUrl}/job-offer/getAlljobsOffers`,{params:t})}getAllJobsOffersByUserPaginated(e,n,t){let o=new ye().set("page",n.toString()).set("pageSize",t.toString());return this.http.get(`${this.baseUrl}/job-offer/getAllJobsOffersByUser/${e}`,{params:o})}getCategoriesJob(){return this.http.get(`${this.baseUrl}/job-offer/getCategoriesJob`)}getSubCategoriesByCategory(e){return this.http.get(`${this.baseUrl}/job-offer/getSubCategoriesByCategory/${e}`)}getImgJob(){return this.http.get(`${this.baseUrl}/job-offer/getImgJob`)}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-aside`,{params:{permiso:e||""}})}addJobOfferData(e){return this.http.post(`${this.baseUrl}/job-offer/addJobOffer`,e)}getSalonsUser(e){return this.http.get(`${this.baseUrl}/job-offer/getSalonsByUser/${e}`)}deleteJobOffer(e){let n=`http://localhost:3900/details-business/deleteJobOffer/${e}`,t=`https://api.mispeluquerias.com/details-business/deleteJobOffer/${e}`;return this.http.delete(n).pipe(xt(o=>(console.error("Error al eliminar en el servidor local, intentando en remoto...",o),this.http.delete(t))))}deleteCandidatureJobOffer(e){let n=`http://localhost:3900/candidatures/deleteCandidatureFromAdmin/${e}`,t=`https://api.mispeluquerias.com/candidatures/deleteCandidatureFromAdmin/${e}`;return this.http.delete(n).pipe(xt(o=>(console.error("Error al eliminar en el servidor local, intentando en remoto...",o),this.http.delete(t))))}getJobInscriptions(e,n=1,t=4){let o={page:n.toString(),pageSize:t.toString()};return this.http.get(`${this.baseUrl}/job-offer/getJobInscriptions/${e}`,{params:o})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Kx(i,r){i&1&&(s(0,"button",83),c(1," Publicar "),a())}function Zx(i,r){if(i&1){let e=z();s(0,"div",84)(1,"div",85)(2,"div",86)(3,"h5",87),c(4),a()(),s(5,"div",11)(6,"div",51),h(7,"img",88),a(),s(8,"h6",89),c(9),a(),s(10,"div",90)(11,"button",91),f("click",function(){let t=g(e).$implicit,o=x();return _(o.SetToViewDetailsOffer(t))}),c(12," Ver detalles "),a()()(),s(13,"div",92)(14,"button",93),f("click",function(t){let o=g(e).$implicit;return x().setToJobInscription(o.id_job_offer),_(t.stopPropagation())}),c(15," Candidatos "),a(),s(16,"button",94),f("click",function(t){let o=g(e).$implicit;return x().setToDelete(o.id_job_offer),_(t.stopPropagation())}),c(17," Eliminar "),a()()()()}if(i&2){let e=r.$implicit;u(4),V(e.category),u(3),b("src",e.img_job_path,Ie),u(2),Y(" Puesto: ",e.subcategory," ")}}function Yx(i,r){i&1&&(he(0),s(1,"span",96),c(2,"..."),a(),pe())}function Xx(i,r){if(i&1){let e=z();he(0),s(1,"a",97),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function eS(i,r){if(i&1&&(s(0,"li",20),M(1,Yx,3,0,"ng-container",95)(2,Xx,3,1,"ng-container",95),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}function tS(i,r){if(i&1){let e=z();s(0,"div",99)(1,"div",100),h(2,"img",101),s(3,"div",102)(4,"input",103),f("change",function(t){let o=g(e).$implicit,l=x(2);return _(l.toggleImageSelection(o.path,t))}),a()()()()}if(i&2){let e=r.$implicit,n=x(2);u(2),b("src",e.path,Ie),u(2),b("value",e.path)("checked",n.selectedImage===e.path)}}function iS(i,r){if(i&1&&(he(0),M(1,tS,5,3,"div",98),pe()),i&2){let e=x();u(),b("ngForOf",e.serverImages)}}function nS(i,r){i&1&&(s(0,"p",104),c(1," No hay im\xE1genes disponibles en el servidor. "),a())}function rS(i,r){if(i&1&&(s(0,"option",105),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_job_cat),u(),Y(" ",e.name," ")}}function oS(i,r){if(i&1&&(s(0,"option",105),c(1),a()),i&2){let e=r.$implicit;b("value",e.name),u(),Y(" ",e.name," ")}}function aS(i,r){if(i&1&&(s(0,"option",105),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_salon),u(),Y(" ",e.salon_name," ")}}function sS(i,r){if(i&1&&(s(0,"a",113),c(1," Ver PDF "),a()),i&2){let e=x().$implicit;b("href",e.path_curriculum,Ie)}}function lS(i,r){i&1&&(s(0,"span",114),c(1,"No disponible"),a())}function cS(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td"),c(8),a(),s(9,"td"),c(10),Mt(11,"date"),a(),s(12,"td"),c(13),a(),s(14,"td"),M(15,sS,2,1,"a",110)(16,lS,2,0,"span",111),a(),s(17,"td")(18,"button",112),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.setToDeleteCandidature(t.id_user_job_subscriptions))}),c(19,"Eliminar"),a()()()}if(i&2){let e=r.$implicit,n=r.index;u(2),V(n+1),u(2),V(e.user_name),u(2),V(e.user_last_name),u(2),V(e.user_email),u(2),V(Ut(11,8,e.date_subscriptions,"dd/MM/yyyy")),u(3),V(e.work_presentation),u(2),b("ngIf",e.path_curriculum),u(),b("ngIf",!e.path_curriculum)}}function dS(i,r){if(i&1){let e=z();s(0,"div")(1,"table",106)(2,"thead")(3,"tr")(4,"th"),c(5,"#"),a(),s(6,"th"),c(7,"Nombre"),a(),s(8,"th"),c(9,"Apellidos"),a(),s(10,"th"),c(11,"Email"),a(),s(12,"th"),c(13,"Fecha de Inscripci\xF3n"),a(),s(14,"th"),c(15,"Presentaci\xF3n"),a(),s(16,"th"),c(17,"Curriculum"),a(),s(18,"th"),c(19,"Eliminar"),a()()(),s(20,"tbody"),M(21,cS,20,11,"tr",107),a()(),s(22,"div",108)(23,"button",109),f("click",function(){g(e);let t=x();return _(t.getJobInscriptions(t.currentPage-1))}),c(24," < "),a(),s(25,"span"),c(26),a(),s(27,"button",109),f("click",function(){g(e);let t=x();return _(t.getJobInscriptions(t.currentPage+1))}),c(28," > "),a()()()}if(i&2){let e=x();u(21),b("ngForOf",e.jobSuscribed),u(2),b("disabled",e.currentPage===1),u(3),bt("P\xE1gina ",e.currentPage," de ",e.totalPages,""),u(),b("disabled",e.currentPage===e.totalPages)}}function uS(i,r){i&1&&(s(0,"div",104)(1,"p"),c(2,"No existen candidatos todav\xEDa para esta oferta."),a()())}var fp=(()=>{class i{constructor(e,n){this.toastr=e,this.jobOfferService=n,this.currentPage=1,this.pageSize=4,this.totalItems=0,this.getAllCategoriesJob=[],this.getAllSubCategoriesJob=[],this.addCategoryJob="",this.addSubCategoryJob="",this.maxCharacters=500,this.textDescriptionJob="",this.textRequirementsJob="",this.salary="",this.serverImages=[],this.selectedImgJob="",this.selectedCategoryName="",this.defaultImage="../../../assets/img/sello.jpg",this.selectedImage=null,this.selectedCategoryId=null,this.jobsOffers=[],this.salonUser=[],this.selectedSalon=null,this.selectedToDelete=0,this.viewDetailsJob=null,this.errorMensajeCategory="",this.errorMensajeSubcategory="",this.errorTextDesription="",this.errorTextRequirements="",this.errorSalary="",this.errorImage="",this.jobSuscribed=[],this.id_job_offer=0,this.setToDeleteCandidate=0,this.isAdmin=!1,this.totalRecords=0,this.totalPages=1}ngOnInit(){let e=localStorage.getItem("usuarioId");this.getPanelforTypeUser(),this.getCategoriesJob(),this.getImgJob(),this.getSalonsByUser(e||"")}getPanelforTypeUser(){let e=localStorage.getItem("usuarioId");this.jobOfferService.getUserPermiso().subscribe(n=>{n.permiso==="salon"&&e?(this.isAdmin=!1,this.getAllJobsOffersByUser(e)):n.permiso==="admin"?(this.isAdmin=!0,this.getAllJobsOffers()):console.warn("Permiso desconocido o usuario no identificado")},n=>{console.error("Error al obtener permiso del usuario:",n)})}preventComma(e){let n=e.target;if(!["Backspace","ArrowLeft","ArrowRight","Delete","Tab"].includes(e.key)&&!/^\d$/.test(e.key)){e.preventDefault();return}setTimeout(()=>{let o=n.value.replace(/\D/g,"");n.value=this.addThousandSeparator(o)},0)}addThousandSeparator(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,".")}getAllJobsOffers(){let e=this.currentPage,n=this.pageSize;this.jobOfferService.getAllJobsOffers(e,n).subscribe(t=>{console.log("Respuesta del backend:",t),this.jobsOffers=t.jobs,this.totalItems=t.total},t=>{console.error("Error al cargar las ofertas de empleo:",t)})}getAllJobsOffersByUser(e){let n=this.currentPage,t=this.pageSize;this.jobOfferService.getAllJobsOffersByUserPaginated(e,n,t).subscribe(o=>{this.jobsOffers=o.jobs,this.totalItems=o.total},o=>{console.error("Error al cargar las ofertas de empleo por usuario:",o)})}getSalonsByUser(e){this.jobOfferService.getSalonsUser(e).subscribe(n=>{this.salonUser=Array.isArray(n)?n:n.data,console.log("Salones por usuario recibidos:",this.salonUser),this.salonUser.length>0&&(this.selectedSalon=this.salonUser[0].id_salon)})}getAllJobsOffer(e){this.currentPage=e}setToDelete(e){this.selectedToDelete=e,console.log("Id candidato para eliminar",this.selectedToDelete)}deleteJobOffer(){this.jobOfferService.deleteJobOffer(this.selectedToDelete).subscribe(e=>{this.getPanelforTypeUser(),this.toastr.success("Oferta de empleo eliminada con \xE9xito","\xC9xito")},e=>{console.error("Error al eliminar la oferta de empleo:",e),this.toastr.error("Error al eliminar la oferta de empleo","Error")})}SetToViewDetailsOffer(e){this.viewDetailsJob=e,console.log("datos enviados",e)}get currentCharacterDescriptionJobCount(){return this.textDescriptionJob.length}get currentCharacterRequirementsJobCount(){return this.textRequirementsJob.length}getImgJob(){this.jobOfferService.getImgJob().subscribe(e=>{this.serverImages=Array.isArray(e)?e:e.data,console.log("Im\xE1genes de empleo recibidas:",this.serverImages)},e=>{console.log("Error al cargar las im\xE1genes:",e)})}selectImage(e){console.log("Imagen seleccionada:",e),this.selectedImgJob=e}toggleImageSelection(e,n){n.target.checked?this.selectedImage=e:this.selectedImage=null}confirmSelection(){console.log("Im\xE1genes seleccionadas:",this.selectedImage)}getCategoriesJob(){this.jobOfferService.getCategoriesJob().subscribe(e=>{this.getAllCategoriesJob=Array.isArray(e)?e:e.data},e=>{console.log(e)})}onCategoryChange(e){let t=e.target.value;t&&(this.addSubCategoryJob="",this.getSubCategoriesByCategory(Number(t)));let o=this.getAllCategoriesJob.find(l=>l.id_job_cat===Number(t));o&&(this.selectedCategoryId=o.id_job_cat,this.selectedCategoryName=o.name)}getSubCategoriesByCategory(e){this.jobOfferService.getSubCategoriesByCategory(e).subscribe(n=>{this.getAllSubCategoriesJob=Array.isArray(n)?n:n.data},n=>{console.log(n)})}onPageChange(e){if(e>=1&&e<=this.pageCount){this.currentPage=e;let n=localStorage.getItem("usuarioId")||"";this.getPanelforTypeUser()}}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}addJobOffer(){let e=localStorage.getItem("usuarioId");if(this.selectedCategoryName)this.errorMensajeCategory="";else{this.errorMensajeCategory="Seleccione una categor\xEDa";return}if(this.addSubCategoryJob)this.errorMensajeSubcategory="";else{this.errorMensajeSubcategory="Seleccione una subcategor\xEDa";return}if(this.textDescriptionJob)this.errorTextDesription="";else{this.errorTextDesription="Escriba la descripci\xF3n del trabajo";return}if(this.textRequirementsJob)this.errorTextRequirements="";else{this.errorTextRequirements="Escriba los requisitos de la oferta";return}if(this.salary)this.errorSalary="";else{this.errorSalary="Escriba el salario de la oferta";return}if(this.selectedImage)this.errorImage="";else{this.errorImage="Seleccione una imagen";return}let n={id_user:e,id_salon:this.selectedSalon,category:this.selectedCategoryName,subcategory:this.addSubCategoryJob,description:this.textDescriptionJob,requirements:this.textRequirementsJob,salary:this.salary,img_job_path:this.selectedImage};this.jobOfferService.addJobOfferData(n).subscribe(t=>{this.toastr.success("Oferta de empleo publicada con \xE9xito"),this.addCategoryJob="",this.selectedCategoryName="",this.addSubCategoryJob="",this.textDescriptionJob="",this.textRequirementsJob="",this.salary="",this.selectedImage="",this.getPanelforTypeUser()},t=>{this.toastr.error("Error al publicar la oferta de empleo")})}getFormattedSalary(){return this.viewDetailsJob?.salary==null||this.viewDetailsJob.salary==="0"?"Salario no disponible":this.viewDetailsJob.salary.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" \u20AC"}setToJobInscription(e){this.id_job_offer=e,this.getJobInscriptions()}getJobInscriptions(e=1){this.jobOfferService.getJobInscriptions(this.id_job_offer,e,4).subscribe(t=>{this.jobSuscribed=Array.isArray(t.data)?t.data:[],this.totalRecords=t.meta?.totalRecords||0,this.totalPages=t.meta?.totalPages||1,this.currentPage=t.meta?.currentPage||e,console.log("ID de oferta:",this.id_job_offer),console.log("Ofertas inscriptas:",this.jobSuscribed),console.log("Metadatos:",{totalRecords:this.totalRecords,totalPages:this.totalPages,currentPage:this.currentPage})},t=>{console.error("Error al obtener las inscripciones:",t)})}setToDeleteCandidature(e){this.setToDeleteCandidate=e,console.log("Id candidato para eliminar",this.setToDeleteCandidate)}confirmDeleteCandidate(){this.jobOfferService.deleteCandidatureJobOffer(this.setToDeleteCandidate).subscribe(e=>{this.toastr.success("Candidatura eliminada con \xE9xito"),this.getJobInscriptions()},e=>{this.toastr.error("Error al eliminar la candidatura")})}static{this.\u0275fac=function(n){return new(n||i)(B(xe),B(pp))}}static{this.\u0275cmp=re({type:i,selectors:[["app-job-offer"]],decls:244,vars:49,consts:[["noImages",""],["noCandidates",""],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["class","btn btn-danger","data-bs-toggle","modal","data-bs-target","#newJobOfferModal",4,"ngIf"],[1,"container"],[1,"row"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","deleteJobOfferModal","tabindex","-1","aria-labelledby","deleteJobOfferModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","deleteJobOfferModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteCandidatureModal","tabindex","-1","aria-labelledby","deleteCandidatureModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteCandidatureModalLabel",1,"modal-title"],["id","imageGalleryModal","tabindex","-1","aria-labelledby","imageGalleryModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],["id","imageGalleryModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white"],[4,"ngIf","ngIfElse"],["type","button","data-bs-target","#newJobOfferModal","data-bs-toggle","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-target","#newJobOfferModal","data-bs-toggle","modal",1,"btn","btn-secondary"],["id","detailsJobOfferModal","tabindex","-1","aria-labelledby","detailsJobOfferModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],["id","detailsJobOfferModalLabel",1,"modal-title"],[1,"text-center"],["width","220","alt","Imagen del empleo",1,"img-fluid","mb-5",3,"src"],[1,"row","col-12"],[1,"col-6"],["id","newJobOfferModal","tabindex","-1","aria-labelledby","newJobOfferModalLabel","aria-hidden","true",1,"modal","fade"],["id","newJobOfferModalLabel",1,"modal-title"],["alt","sello","width","120",1,"img-fluid",3,"src","ngClass"],[1,"mb-3","mt-3"],[1,"row","col-12","d-flex"],["for","",1,"form-label"],["name","addCategoryJob",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"text-danger"],["name","addSubCategoryJob","id","newSubCategoryJob",1,"form-select",3,"ngModelChange","ngModel"],[1,"dropdown-divider"],[1,"row","col-12","d-flex","mt-4"],["id","jobDescription","name","textDescriptionJob","rows","4","placeholder","Escribe aqu\xED la descripci\xF3n del trabajo...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-end","mt-1","text-muted",2,"font-size","0.9em"],["name","textRequirementsJob","id","","rows","4","maxlength","500","placeholder","Escriba los requisitos de la oferta",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group"],["type","text","name","salary","maxlength","7","placeholder","Cero aparecer\xE1 como no definido","aria-label","Salario",1,"form-control",3,"ngModelChange","keypress","ngModel"],[1,"input-group-text"],["data-bs-toggle","modal","data-bs-target","#imageGalleryModal",1,"btn","btn-secondary"],[1,"row","mt-1"],[1,"col-12","mt-4"],[1,"form-select",3,"ngModelChange","ngModel"],[1,"modal-footer","mt-4"],["type","button",1,"btn","btn-danger",3,"click"],["id","candidatesOfferModal","tabindex","-1","aria-labelledby","candidatesOfferModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],["id","candidatesOfferModalLabel",1,"modal-title"],["data-bs-toggle","modal","data-bs-target","#newJobOfferModal",1,"btn","btn-danger"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"card","h-100","shadow-sm"],[1,"card-header","text-center","bg-dark","text-white"],[1,"mb-0"],["alt","Imagen del empleo",1,"img-fluid","mb-3",2,"max-height","250px","padding","0 auto",3,"src"],[1,"card-subtitle","mb-2","text-muted"],[1,"d-flex","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#detailsJobOfferModal",1,"btn","btn-sm","ms-auto","text-white",2,"background-color","darkgray","font-size","1rem !important",3,"click"],[1,"card-footer","d-flex","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#candidatesOfferModal",1,"btn","btn-outline-primary","bg-dark","btn-sm","me-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteJobOfferModal",1,"btn","bg-danger","btn-sm","text-white",3,"click"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"],["class","col-6 col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","mb-3"],[1,"card","h-100","position-relative"],["alt","Imagen del servidor",1,"card-img-top",2,"max-height","150px","object-fit","cover",3,"src"],[1,"form-check","position-absolute","top-0","end-0","m-2"],["type","checkbox",1,"form-check-input",3,"change","value","checked"],[1,"text-center","text-muted"],[3,"value"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"pagination"],[3,"click","disabled"],["target","_blank","class","btn btn-primary btn-sm",3,"href",4,"ngIf"],["class","text-muted",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#deleteCandidatureModal",1,"btn","btn-sm","btn-danger",3,"click"],["target","_blank",1,"btn","btn-primary","btn-sm",3,"href"],[1,"text-muted"]],template:function(n,t){if(n&1){let o=z();h(0,"app-header"),s(1,"div",2),h(2,"app-aside"),s(3,"div",3)(4,"main")(5,"div",4)(6,"h1",5),c(7,"Panel de control"),a(),s(8,"ol",6)(9,"li",7),c(10," Portal de Empleo / "),s(11,"b"),c(12,"Ofertas"),a()()(),s(13,"div",8)(14,"div",9),h(15,"img",10),c(16," Lista de Ofertas de Empleo "),a(),s(17,"div",11)(18,"div",12)(19,"div",13),M(20,Kx,2,0,"button",14),a()(),s(21,"div",15)(22,"div",16),M(23,Zx,18,3,"div",17),a()(),s(24,"nav",18)(25,"ul",19)(26,"li",20)(27,"a",21),f("click",function(){return g(o),_(t.onPageChange(1))}),s(28,"span",22),c(29,"\xAB\xAB"),a()()(),s(30,"li",20)(31,"a",23),f("click",function(){return g(o),_(t.onPageChange(t.currentPage-1))}),s(32,"span",22),c(33,"\xAB"),a()()(),M(34,eS,3,6,"li",24),s(35,"li",20)(36,"a",25),f("click",function(){return g(o),_(t.onPageChange(t.currentPage+1))}),s(37,"span",22),c(38,"\xBB"),a()()(),s(39,"li",20)(40,"a",26),f("click",function(){return g(o),_(t.onPageChange(t.pageCount))}),s(41,"span",22),c(42,"\xBB\xBB"),a()()()()()()()()(),h(43,"app-footer"),a()(),s(44,"div",27)(45,"div",28)(46,"div",29)(47,"div",30)(48,"h5",31),c(49," Eliminar Oferta de Empleo "),a(),h(50,"button",32),a(),s(51,"div",33)(52,"div",34),h(53,"img",35),a(),s(54,"p"),c(55," \xBFEst\xE1s seguro de que deseas eliminar esta oferta de empleo de su sal\xF3n? "),a()(),s(56,"div",36)(57,"button",37),f("click",function(){return g(o),_(t.deleteJobOffer())}),c(58," Eliminar "),a(),s(59,"button",38),c(60," Cancelar "),a()()()()(),s(61,"div",39)(62,"div",28)(63,"div",29)(64,"div",30)(65,"h5",40),c(66," Eliminar Candidatura de Empleo "),a(),h(67,"button",32),a(),s(68,"div",33)(69,"div",34),h(70,"img",35),a(),s(71,"p"),c(72," \xBFEst\xE1s seguro de que deseas eliminar esta candidatura de empleo, la operaci\xF3n es irreversible? "),a()(),s(73,"div",36)(74,"button",37),f("click",function(){return g(o),_(t.confirmDeleteCandidate())}),c(75," Eliminar "),a(),s(76,"button",38),c(77," Cancelar "),a()()()()(),s(78,"div",41)(79,"div",42)(80,"div",29)(81,"div",30)(82,"h5",43),c(83," Galer\xEDa de Im\xE1genes "),a(),h(84,"button",44),a(),s(85,"div",33)(86,"div",16)(87,"div",34),h(88,"img",35),a(),M(89,iS,2,1,"ng-container",45)(90,nS,2,0,"ng-template",null,0,ln),a()(),s(92,"div",36)(93,"div",36)(94,"button",46),f("click",function(){return g(o),_(t.confirmSelection())}),c(95," Aceptar "),a(),s(96,"button",47),c(97," Cerrar "),a()()()()()(),s(98,"div",48)(99,"div",49)(100,"div",29)(101,"div",30)(102,"h5",50),c(103),a(),h(104,"button",32),a(),s(105,"div",33)(106,"div",51),h(107,"img",52),a(),s(108,"div",53)(109,"div",54)(110,"p")(111,"strong"),c(112,"Puesto:"),a()(),s(113,"p"),c(114),a()(),s(115,"div",54)(116,"p")(117,"strong"),c(118,"Fecha de publicaci\xF3n:"),a()(),s(119,"p"),c(120),Mt(121,"date"),a()()(),s(122,"div",53)(123,"div",54)(124,"p")(125,"strong"),c(126,"Descripci\xF3n:"),a()(),s(127,"p"),c(128),a()(),s(129,"div",54)(130,"p")(131,"strong"),c(132,"Requisitos:"),a()(),s(133,"p"),c(134),a()()(),s(135,"div",53)(136,"div",54)(137,"p")(138,"strong"),c(139,"Salario bruto anual:"),a()(),s(140,"p"),c(141),a()(),s(142,"div",54)(143,"p")(144,"strong"),c(145,"Sal\xF3n:"),a()(),s(146,"p"),c(147),a()()()(),s(148,"div",36)(149,"button",38),c(150," Cerrar "),a()()()()(),s(151,"div",55)(152,"div",49)(153,"div",29)(154,"div",30)(155,"h5",56),c(156," Nueva oferta de empleo "),a(),h(157,"button",32),a(),s(158,"div",33)(159,"div",34),h(160,"img",57),a(),s(161,"div",58)(162,"small"),c(163,"* Todos los campos son obligatorios"),a()(),s(164,"div",59)(165,"div",54)(166,"label",60),c(167,"Seleccione Categor\xEDa de Empleo"),a(),s(168,"select",61),A("ngModelChange",function(d){return g(o),T(t.addCategoryJob,d)||(t.addCategoryJob=d),_(d)}),f("change",function(d){return g(o),_(t.onCategoryChange(d))}),s(169,"option",62),c(170," Seleccione Categor\xEDa de Empleo "),a(),M(171,rS,2,2,"option",63),a(),s(172,"span",64),c(173),a()(),s(174,"div",54)(175,"label",60),c(176,"Seleccione Subcategor\xEDa de Empleo"),a(),s(177,"select",65),A("ngModelChange",function(d){return g(o),T(t.addSubCategoryJob,d)||(t.addSubCategoryJob=d),_(d)}),s(178,"option",62),c(179," Seleccione Subcategor\xEDa de Empleo "),a(),M(180,oS,2,2,"option",63),a(),s(181,"span",64),c(182),a()()(),h(183,"hr",66),s(184,"div",67)(185,"div",54)(186,"label",60),c(187,"Describa la oferta de empleo:"),a(),s(188,"textarea",68),A("ngModelChange",function(d){return g(o),T(t.textDescriptionJob,d)||(t.textDescriptionJob=d),_(d)}),a(),s(189,"div",69),c(190),a(),s(191,"span",64),c(192),a()(),s(193,"div",54)(194,"label",60),c(195,"Describa los requisitos de la oferta:"),a(),s(196,"textarea",70),A("ngModelChange",function(d){return g(o),T(t.textRequirementsJob,d)||(t.textRequirementsJob=d),_(d)}),a(),s(197,"div",69),c(198),a(),s(199,"span",64),c(200),a()(),s(201,"div",67)(202,"div",54)(203,"label",60),c(204,"Introduzca el salario bruto anual de la oferta:"),a(),s(205,"div",71)(206,"input",72),A("ngModelChange",function(d){return g(o),T(t.salary,d)||(t.salary=d),_(d)}),f("keypress",function(d){return g(o),_(t.preventComma(d))}),a(),s(207,"span",73),c(208,"\u20AC"),a()(),s(209,"span",64),c(210),a()(),s(211,"div",54)(212,"label",60),c(213,"Seleccione una im\xE1gen para la oferta de empleo:"),a(),s(214,"button",74),c(215," Seleccionar "),a(),s(216,"div",75)(217,"span",64),c(218),a()()(),s(219,"div",76)(220,"div",54)(221,"label",60),c(222,"Oferta de empleo para el sal\xF3n:"),a(),s(223,"select",77),A("ngModelChange",function(d){return g(o),T(t.selectedSalon,d)||(t.selectedSalon=d),_(d)}),M(224,aS,2,2,"option",63),a()()(),s(225,"div",78)(226,"button",79),f("click",function(){return g(o),_(t.addJobOffer())}),c(227," Publicar "),a(),s(228,"button",38),c(229," Cancelar "),a()()()()()()()(),s(230,"div",80)(231,"div",81)(232,"div",29)(233,"div",30)(234,"h5",82),c(235," Candidatos a la oferta "),a(),h(236,"button",32),a(),s(237,"div",33),M(238,dS,29,5,"div",45)(239,uS,3,0,"ng-template",null,1,ln),a(),s(241,"div",36)(242,"button",38),c(243," Cerrar "),a()()()()()}if(n&2){let o=Se(91),l=Se(240);u(20),b("ngIf",!t.isAdmin),u(3),b("ngForOf",t.jobsOffers),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(50),b("ngIf",t.serverImages&&t.serverImages.length>0)("ngIfElse",o),u(14),Y(" ",t.viewDetailsJob==null?null:t.viewDetailsJob.category," "),u(4),b("src",t.viewDetailsJob==null?null:t.viewDetailsJob.img_job_path,Ie),u(7),V(t.viewDetailsJob==null?null:t.viewDetailsJob.subcategory),u(6),V(Ut(121,46,t.viewDetailsJob==null?null:t.viewDetailsJob.date_job_offer,"dd/MM/yyyy")),u(8),V(t.viewDetailsJob==null?null:t.viewDetailsJob.description),u(6),V(t.viewDetailsJob==null?null:t.viewDetailsJob.requirements),u(7),V(t.getFormattedSalary()),u(6),V(t.viewDetailsJob==null?null:t.viewDetailsJob.salon_name),u(13),b("src",t.selectedImage||t.defaultImage,Ie)("ngClass",t.selectedImage?"selected-image":"default-image"),u(8),D("ngModel",t.addCategoryJob),u(3),b("ngForOf",t.getAllCategoriesJob),u(2),V(t.errorMensajeCategory),u(4),D("ngModel",t.addSubCategoryJob),u(3),b("ngForOf",t.getAllSubCategoriesJob),u(2),V(t.errorMensajeSubcategory),u(6),D("ngModel",t.textDescriptionJob),vt("maxLength",t.maxCharacters),u(2),bt(" ",t.currentCharacterDescriptionJobCount,"/",t.maxCharacters," "),u(2),V(t.errorTextDesription),u(4),D("ngModel",t.textRequirementsJob),vt("maxLength",t.maxCharacters),u(2),bt(" ",t.currentCharacterRequirementsJobCount,"/",t.maxCharacters," "),u(2),V(t.errorTextRequirements),u(6),D("ngModel",t.salary),u(4),V(t.errorSalary),u(8),V(t.errorImage),u(5),D("ngModel",t.selectedSalon),u(),b("ngForOf",t.salonUser),u(14),b("ngIf",t.jobSuscribed&&t.jobSuscribed.length>0)("ngIfElse",l)}},dependencies:[Ai,ue,ce,Qe,Ke,me,je,fe,Ir,Ce,ge,_e,ve,Ft],styles:['@charset "UTF-8";.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}.selected-image[_ngcontent-%COMP%]{width:250px}*[_ngcontent-%COMP%]{white-space:pre-wrap}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#fffc;border:none;width:40px;height:40px;padding:0;border-radius:50%;box-shadow:0 2px 5px #0003;cursor:pointer;z-index:10;font-size:1.5rem;color:red;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease,transform .3s ease}.delete-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:red}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#f00c;color:#fff;transform:scale(1.1)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:.9375rem}.pagination-info[_ngcontent-%COMP%]{font-weight:700;margin:0 .625rem}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;border-radius:.75rem;padding:.3125rem .625rem;margin:0 .3125rem;cursor:pointer;font-size:.875rem}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#8b0000}']})}}return i})();var mS=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:ac,title:"Adm | Mis Peluquerias"},{path:"home",component:lm,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"home/edit/:id",component:qh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"clients",component:bh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"administrators",component:kh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"cities",component:Ch,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"categories",component:Sh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"contact",component:Fh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"contact-proffesional",component:Nh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"services",component:Lh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"reclamations",component:Rh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"export",component:Mh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"import",component:Ah,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"new-home",component:Jh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"profile",component:fc,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"new-client",component:Zh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"edit-client/edit/:id",component:Xh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"edit-administrator/edit/:id",component:tp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"edit-city/edit/:id",component:sp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"owners",component:np,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"edit-owner/edit/:id",component:op,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"brands",component:cp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"categories-jobs",component:up,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"img-jobs",component:hp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"job-offer",component:fp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"",component:fc,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"**",component:ac}],gp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[Tl.forRoot(mS),Tl]})}}return i})();var gc;try{gc=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gc=!1}var zr=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?bs(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||gc)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||i)(L(ni))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Wr;function hS(){if(Wr==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wr=!0}))}finally{Wr=Wr||!1}return Wr}function _c(i){return hS()?i:!!i.capture}function _p(i){return i.composedPath?i.composedPath()[0]:i.target}function vp(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function vc(i){return Array.isArray(i)?i:[i]}function bc(i){return i instanceof gt?i.nativeElement:i}var pS=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var yp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({providers:[pS]})}}return i})();var Cp=new Set,Zi,fS=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_S}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&gS(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(n){return new(n||i)(L(zr),L(Un,8))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function gS(i,r){if(!Cp.has(i))try{Zi||(Zi=document.createElement("style"),r&&Zi.setAttribute("nonce",r),Zi.setAttribute("type","text/css"),document.head.appendChild(Zi)),Zi.sheet&&(Zi.sheet.insertRule(`@media ${i} {body{ }}`,0),Cp.add(i))}catch(e){console.error(e)}}function _S(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Sp=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new Te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return xp(vc(e)).some(t=>this._registerQuery(t).mql.matches)}observe(e){let t=xp(vc(e)).map(l=>this._registerQuery(l).observable),o=Wi(t);return o=Jr(o.pipe(Vt(1)),o.pipe(es(1),Rt(0))),o.pipe(we(l=>{let d={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:v})=>{d.matches=d.matches||m,d.breakpoints[v]=m}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new ui(l=>{let d=m=>this._zone.run(()=>l.next(m));return n.addListener(d),()=>{n.removeListener(d)}}).pipe(Rn(n),we(({matches:l})=>({query:e,matches:l})),St(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static{this.\u0275fac=function(n){return new(n||i)(L(fS),L(Re))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xp(i){return i.map(r=>r.split(",")).reduce((r,e)=>r.concat(e)).map(r=>r.trim())}function Mp(i){return i.buttons===0||i.detail===0}function Dp(i){let r=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}var Yi=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(Yi||{}),wp="cdk-high-contrast-black-on-white",Ep="cdk-high-contrast-white-on-black",yc="cdk-high-contrast-active",Cc=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=ee(Sp).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Yi.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,t=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(t&&t.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Yi.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Yi.BLACK_ON_WHITE}return Yi.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(yc,wp,Ep),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Yi.BLACK_ON_WHITE?e.add(yc,wp):n===Yi.WHITE_ON_BLACK&&e.add(yc,Ep)}}static{this.\u0275fac=function(n){return new(n||i)(L(zr),L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Tp=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(n){return new(n||i)(L(Cc))}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[yp]})}}return i})();var xc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({})}}return i})();function bS(){return!0}var yS=new Ae("mat-sanity-checks",{providedIn:"root",factory:bS}),Ec=(()=>{class i{constructor(e,n,t){this._sanityChecks=n,this._document=t,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return vp()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(n){return new(n||i)(L(Cc),L(yS,8),L(Ze))}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[xc,xc]})}}return i})();var Qt=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Qt||{}),Sc=class{constructor(r,e,n,t=!1){this._renderer=r,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=t,this.state=Qt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Ap=_c({passive:!0,capture:!0}),wc=class{constructor(){this._events=new Map,this._delegateEventHandler=r=>{let e=_p(r);e&&this._events.get(r.type)?.forEach((n,t)=>{(t===e||t.contains(e))&&n.forEach(o=>o.handleEvent(r))})}}addHandler(r,e,n,t){let o=this._events.get(e);if(o){let l=o.get(n);l?l.add(t):o.set(n,new Set([t]))}else this._events.set(e,new Map([[n,new Set([t])]])),r.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Ap)})}removeHandler(r,e,n){let t=this._events.get(r);if(!t)return;let o=t.get(e);o&&(o.delete(n),o.size===0&&t.delete(e),t.size===0&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,Ap)))}},Ip={enterDuration:225,exitDuration:150},CS=800,kp=_c({passive:!0,capture:!0}),Pp=["mousedown","touchstart"],Fp=["mouseup","mouseleave","touchend","touchcancel"],Op=class i{static{this._eventManager=new wc}constructor(r,e,n,t){this._target=r,this._ngZone=e,this._platform=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,t.isBrowser&&(this._containerElement=bc(n))}fadeInRipple(r,e,n={}){let t=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=q(q({},Ip),n.animation);n.centered&&(r=t.left+t.width/2,e=t.top+t.height/2);let l=n.radius||xS(r,e,t),d=r-t.left,m=e-t.top,v=o.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=`${d-l}px`,p.style.top=`${m-l}px`,p.style.height=`${l*2}px`,p.style.width=`${l*2}px`,n.color!=null&&(p.style.backgroundColor=n.color),p.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(p);let y=window.getComputedStyle(p),C=y.transitionProperty,E=y.transitionDuration,I=C==="none"||E==="0s"||E==="0s, 0s"||t.width===0&&t.height===0,k=new Sc(this,p,n,I);p.style.transform="scale3d(1, 1, 1)",k.state=Qt.FADING_IN,n.persistent||(this._mostRecentTransientRipple=k);let P=null;return!I&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let S=()=>this._finishRippleTransition(k),w=()=>this._destroyRipple(k);p.addEventListener("transitionend",S),p.addEventListener("transitioncancel",w),P={onTransitionEnd:S,onTransitionCancel:w}}),this._activeRipples.set(k,P),(I||!v)&&this._finishRippleTransition(k),k}fadeOutRipple(r){if(r.state===Qt.FADING_OUT||r.state===Qt.HIDDEN)return;let e=r.element,n=q(q({},Ip),r.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",r.state=Qt.FADING_OUT,(r._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){let e=bc(r);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Pp.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(r){r.type==="mousedown"?this._onMousedown(r):r.type==="touchstart"?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Fp.forEach(e=>{this._triggerElement.addEventListener(e,this,kp)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===Qt.FADING_IN?this._startFadeOutTransition(r):r.state===Qt.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){let e=r===this._mostRecentTransientRipple,{persistent:n}=r.config;r.state=Qt.VISIBLE,!n&&(!e||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){let e=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=Qt.HIDDEN,e!==null&&(r.element.removeEventListener("transitionend",e.onTransitionEnd),r.element.removeEventListener("transitioncancel",e.onTransitionCancel)),r.element.remove()}_onMousedown(r){let e=Mp(r),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+CS;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!Dp(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=r.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{let e=r.state===Qt.VISIBLE||r.config.terminateOnPointerUp&&r.state===Qt.FADING_IN;!r.config.persistent&&e&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let r=this._triggerElement;r&&(Pp.forEach(e=>i._eventManager.removeHandler(e,r,this)),this._pointerUpEventsRegistered&&(Fp.forEach(e=>r.removeEventListener(e,this,kp)),this._pointerUpEventsRegistered=!1))}};function xS(i,r,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),t=Math.max(Math.abs(r-e.top),Math.abs(r-e.bottom));return Math.sqrt(n*n+t*t)}var Np=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[Tp,Ec,Ec]})}}return i})();var Bp=(()=>{class i{constructor(){this.title="AdmMisPeluquerias-angularFront"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,t){n&1&&h(0,"router-outlet")},dependencies:[Cl]})}}return i})();var SS="@",wS=(()=>{class i{constructor(e,n,t,o,l){this.doc=e,this.delegate=n,this.zone=t,this.animationType=o,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=ee(ud,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-H6V56IIF.js")).catch(n=>{throw new Le(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:t})=>{this._engine=n(this.animationType,this.doc,this.scheduler);let o=new t(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,n){let t=this.delegate.createRenderer(e,n);if(t.\u0275type===0)return t;typeof t.throwOnSyntheticProps=="boolean"&&(t.throwOnSyntheticProps=!1);let o=new Mc(t);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let d=l.createRenderer(e,n);o.use(d)}).catch(l=>{o.use(t)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){Kr()}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Mc=class{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,this.replay!==null){for(let e of this.replay)e(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,e){this.delegate.appendChild(r,e)}insertBefore(r,e,n,t){this.delegate.insertBefore(r,e,n,t)}removeChild(r,e,n){this.delegate.removeChild(r,e,n)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,n,t){this.delegate.setAttribute(r,e,n,t)}removeAttribute(r,e,n){this.delegate.removeAttribute(r,e,n)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,n,t){this.delegate.setStyle(r,e,n,t)}removeStyle(r,e,n){this.delegate.removeStyle(r,e,n)}setProperty(r,e,n){this.shouldReplay(e)&&this.replay.push(t=>t.setProperty(r,e,n)),this.delegate.setProperty(r,e,n)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,n){return this.shouldReplay(e)&&this.replay.push(t=>t.listen(r,e,n)),this.delegate.listen(r,e,n)}shouldReplay(r){return this.replay!==null&&r.startsWith(SS)}};function Rp(i="animations"){return ls("NgAsyncAnimations"),Di([{provide:Zr,useFactory:(r,e,n)=>new wS(r,e,n,i),deps:[Ze,go,Re]},{provide:as,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Vp=(()=>{class i{constructor(e,n){this.authService=e,this.router=n}intercept(e,n){return n.handle(e).pipe(xt(t=>(t.status===401&&t.error.message==="Token expired"&&this.authService.logout(),mi(t))))}static{this.\u0275fac=function(n){return new(n||i)(L(Ui),L(qe))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();var Lp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i,bootstrap:[Bp]})}static{this.\u0275inj=He({providers:[ks(jd()),Rp(),{provide:Ts,useClass:Vp,multi:!0}],imports:[Kd,gp,Au,Hd,Np,Tu,z0.forRoot({positionClass:"toast-center-center",enableHtml:!0,preventDuplicates:!0,timeOut:5e3})]})}}return i})();Qd().bootstrapModule(Lp).catch(i=>console.error(i));
========
import{$ as Mi,$a as md,$b as _s,A as Za,Aa as gt,Ab as x,Ac as bs,B as zc,Ba as wt,Bb as ms,Bc as so,C as hi,Ca as ed,Cb as hs,Cc as Dd,D as Gc,Da as Ln,Db as sn,Dc as lo,E as kt,Ea as td,Eb as ps,F as qc,Fa as ni,Fb as Yr,G as Qr,Ga as as,Gb as Xr,Gc as Td,H as xt,Ha as Un,Hb as Se,Hc as ys,I as Si,Ia as nn,Ib as c,J as Rt,Ja as rn,Jb as V,Jc as co,K as Ya,Ka as id,Kb as Y,Kc as uo,L as Vt,La as nd,Lb as bt,Lc as Cs,M as $c,Ma as rd,Mb as T,N as qt,Na as od,Nb as A,O as Jc,Oa as ad,Ob as I,P as wi,Pa as sd,Pb as Et,Q as Ei,Qa as ld,Qb as ri,R as Xa,Ra as pi,Rb as Mt,S as Qc,Sa as ss,Sb as fs,T as Kc,Ta as Ie,Tb as Ut,U as es,Ua as cd,Ub as ln,V as Rn,Va as jn,Vb as eo,W as et,Wa as u,Wb as fd,X as St,Xa as B,Xb as to,Y as ht,Ya as Kr,Yb as io,Z as ts,Za as dd,Zb as gs,_ as Le,_a as ud,_b as no,a as q,aa as Dt,ab as Zr,ac as vs,b as De,ba as U,bb as Ti,bc as oi,c as Lc,ca as He,cb as ls,cc as ro,da as Zc,db as Re,dc as gd,e as Pe,ea as Ae,eb as cs,ec as ai,f as Xp,fa as is,fb as ds,fc as _d,g as $a,ga as L,gb as Hn,gc as vd,h as Bn,ha as ee,hb as _t,hc as si,i as Uc,ia as ns,ib as on,ic as oo,j as jc,ja as Yc,jb as hd,jc as bd,k as ui,ka as Vn,kb as us,kc as zi,l as Ja,la as ft,lb as Wn,lc as yd,m as Qa,ma as re,mb as D,mc as Cd,n as Te,na as We,nb as vt,nc as Ze,o as Bt,oa as Be,ob as b,oc as xd,p as ei,pa as Di,pb as an,pc as zn,q as Ct,qa as Xc,qb as W,qc as Sd,r as ae,ra as Yt,rb as Lt,rc as wd,s as mi,sa as ti,sb as s,sc as Gn,t as Hc,ta as ii,tb as a,tc as ao,u as Wc,ua as g,ub as h,uc as Ai,v as we,va as _,vb as he,vc as ue,w as Wi,wa as Pt,wb as pe,wc as ce,x as It,xa as rs,xb as z,xc as Ft,y as Ka,ya as $t,yb as pd,yc as Ed,z as Jr,za as os,zb as f,zc as Md}from"./chunk-OWEAIO2N.js";var cm=Pe(()=>{"use strict"});var Fe=Pe((oa,dm)=>{"use strict";(function(i,r){typeof oa=="object"?dm.exports=oa=r():typeof define=="function"&&define.amd?define([],r):i.CryptoJS=r()})(oa,function(){var i=i||function(r,e){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof Lc=="function")try{n=cm()}catch{}var t=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function S(){}return function(w){var F;return S.prototype=w,F=new S,S.prototype=null,F}}(),l={},d=l.lib={},m=d.Base=function(){return{extend:function(S){var w=o(this);return S&&w.mixIn(S),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var w in S)S.hasOwnProperty(w)&&(this[w]=S[w]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),v=d.WordArray=m.extend({init:function(S,w){S=this.words=S||[],w!=e?this.sigBytes=w:this.sigBytes=S.length*4},toString:function(S){return(S||y).stringify(this)},concat:function(S){var w=this.words,F=S.words,O=this.sigBytes,N=S.sigBytes;if(this.clamp(),O%4)for(var R=0;R<N;R++){var X=F[R>>>2]>>>24-R%4*8&255;w[O+R>>>2]|=X<<24-(O+R)%4*8}else for(var K=0;K<N;K+=4)w[O+K>>>2]=F[K>>>2];return this.sigBytes+=N,this},clamp:function(){var S=this.words,w=this.sigBytes;S[w>>>2]&=4294967295<<32-w%4*8,S.length=r.ceil(w/4)},clone:function(){var S=m.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var w=[],F=0;F<S;F+=4)w.push(t());return new v.init(w,S)}}),p=l.enc={},y=p.Hex={stringify:function(S){for(var w=S.words,F=S.sigBytes,O=[],N=0;N<F;N++){var R=w[N>>>2]>>>24-N%4*8&255;O.push((R>>>4).toString(16)),O.push((R&15).toString(16))}return O.join("")},parse:function(S){for(var w=S.length,F=[],O=0;O<w;O+=2)F[O>>>3]|=parseInt(S.substr(O,2),16)<<24-O%8*4;return new v.init(F,w/2)}},C=p.Latin1={stringify:function(S){for(var w=S.words,F=S.sigBytes,O=[],N=0;N<F;N++){var R=w[N>>>2]>>>24-N%4*8&255;O.push(String.fromCharCode(R))}return O.join("")},parse:function(S){for(var w=S.length,F=[],O=0;O<w;O++)F[O>>>2]|=(S.charCodeAt(O)&255)<<24-O%4*8;return new v.init(F,w)}},E=p.Utf8={stringify:function(S){try{return decodeURIComponent(escape(C.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return C.parse(unescape(encodeURIComponent(S)))}},M=d.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=E.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var w,F=this._data,O=F.words,N=F.sigBytes,R=this.blockSize,X=R*4,K=N/X;S?K=r.ceil(K):K=r.max((K|0)-this._minBufferSize,0);var te=K*R,oe=r.min(te*4,N);if(te){for(var j=0;j<te;j+=R)this._doProcessBlock(O,j);w=O.splice(0,te),F.sigBytes-=oe}return new v.init(w,oe)},clone:function(){var S=m.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0}),k=d.Hasher=M.extend({cfg:m.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){M.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var w=this._doFinalize();return w},blockSize:512/32,_createHelper:function(S){return function(w,F){return new S.init(F).finalize(w)}},_createHmacHelper:function(S){return function(w,F){return new P.HMAC.init(S,F).finalize(w)}}}),P=l.algo={};return l}(Math);return i})});var jr=Pe((aa,um)=>{"use strict";(function(i,r){typeof aa=="object"?um.exports=aa=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(aa,function(i){return function(r){var e=i,n=e.lib,t=n.Base,o=n.WordArray,l=e.x64={},d=l.Word=t.extend({init:function(v,p){this.high=v,this.low=p}}),m=l.WordArray=t.extend({init:function(v,p){v=this.words=v||[],p!=r?this.sigBytes=p:this.sigBytes=v.length*8},toX32:function(){for(var v=this.words,p=v.length,y=[],C=0;C<p;C++){var E=v[C];y.push(E.high),y.push(E.low)}return o.create(y,this.sigBytes)},clone:function(){for(var v=t.clone.call(this),p=v.words=this.words.slice(0),y=p.length,C=0;C<y;C++)p[C]=p[C].clone();return v}})}(),i})});var hm=Pe((sa,mm)=>{"use strict";(function(i,r){typeof sa=="object"?mm.exports=sa=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(sa,function(i){return function(){if(typeof ArrayBuffer=="function"){var r=i,e=r.lib,n=e.WordArray,t=n.init,o=n.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var d=l.byteLength,m=[],v=0;v<d;v++)m[v>>>2]|=l[v]<<24-v%4*8;t.call(this,m,d)}else t.apply(this,arguments)};o.prototype=n}}(),i.lib.WordArray})});var fm=Pe((la,pm)=>{"use strict";(function(i,r){typeof la=="object"?pm.exports=la=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(la,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=r.enc,o=t.Utf16=t.Utf16BE={stringify:function(d){for(var m=d.words,v=d.sigBytes,p=[],y=0;y<v;y+=2){var C=m[y>>>2]>>>16-y%4*8&65535;p.push(String.fromCharCode(C))}return p.join("")},parse:function(d){for(var m=d.length,v=[],p=0;p<m;p++)v[p>>>1]|=d.charCodeAt(p)<<16-p%2*16;return n.create(v,m*2)}};t.Utf16LE={stringify:function(d){for(var m=d.words,v=d.sigBytes,p=[],y=0;y<v;y+=2){var C=l(m[y>>>2]>>>16-y%4*8&65535);p.push(String.fromCharCode(C))}return p.join("")},parse:function(d){for(var m=d.length,v=[],p=0;p<m;p++)v[p>>>1]|=l(d.charCodeAt(p)<<16-p%2*16);return n.create(v,m*2)}};function l(d){return d<<8&4278255360|d>>>8&16711935}}(),i.enc.Utf16})});var ji=Pe((ca,gm)=>{"use strict";(function(i,r){typeof ca=="object"?gm.exports=ca=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ca,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=r.enc,o=t.Base64={stringify:function(d){var m=d.words,v=d.sigBytes,p=this._map;d.clamp();for(var y=[],C=0;C<v;C+=3)for(var E=m[C>>>2]>>>24-C%4*8&255,M=m[C+1>>>2]>>>24-(C+1)%4*8&255,k=m[C+2>>>2]>>>24-(C+2)%4*8&255,P=E<<16|M<<8|k,S=0;S<4&&C+S*.75<v;S++)y.push(p.charAt(P>>>6*(3-S)&63));var w=p.charAt(64);if(w)for(;y.length%4;)y.push(w);return y.join("")},parse:function(d){var m=d.length,v=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var y=0;y<v.length;y++)p[v.charCodeAt(y)]=y}var C=v.charAt(64);if(C){var E=d.indexOf(C);E!==-1&&(m=E)}return l(d,m,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(d,m,v){for(var p=[],y=0,C=0;C<m;C++)if(C%4){var E=v[d.charCodeAt(C-1)]<<C%4*2,M=v[d.charCodeAt(C)]>>>6-C%4*2,k=E|M;p[y>>>2]|=k<<24-y%4*8,y++}return n.create(p,y)}}(),i.enc.Base64})});var vm=Pe((da,_m)=>{"use strict";(function(i,r){typeof da=="object"?_m.exports=da=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(da,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=r.enc,o=t.Base64url={stringify:function(d,m){m===void 0&&(m=!0);var v=d.words,p=d.sigBytes,y=m?this._safe_map:this._map;d.clamp();for(var C=[],E=0;E<p;E+=3)for(var M=v[E>>>2]>>>24-E%4*8&255,k=v[E+1>>>2]>>>24-(E+1)%4*8&255,P=v[E+2>>>2]>>>24-(E+2)%4*8&255,S=M<<16|k<<8|P,w=0;w<4&&E+w*.75<p;w++)C.push(y.charAt(S>>>6*(3-w)&63));var F=y.charAt(64);if(F)for(;C.length%4;)C.push(F);return C.join("")},parse:function(d,m){m===void 0&&(m=!0);var v=d.length,p=m?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var C=0;C<p.length;C++)y[p.charCodeAt(C)]=C}var E=p.charAt(64);if(E){var M=d.indexOf(E);M!==-1&&(v=M)}return l(d,v,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(d,m,v){for(var p=[],y=0,C=0;C<m;C++)if(C%4){var E=v[d.charCodeAt(C-1)]<<C%4*2,M=v[d.charCodeAt(C)]>>>6-C%4*2,k=E|M;p[y>>>2]|=k<<24-y%4*8,y++}return n.create(p,y)}}(),i.enc.Base64url})});var Hi=Pe((ua,bm)=>{"use strict";(function(i,r){typeof ua=="object"?bm.exports=ua=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ua,function(i){return function(r){var e=i,n=e.lib,t=n.WordArray,o=n.Hasher,l=e.algo,d=[];(function(){for(var E=0;E<64;E++)d[E]=r.abs(r.sin(E+1))*4294967296|0})();var m=l.MD5=o.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(E,M){for(var k=0;k<16;k++){var P=M+k,S=E[P];E[P]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var w=this._hash.words,F=E[M+0],O=E[M+1],N=E[M+2],R=E[M+3],X=E[M+4],K=E[M+5],te=E[M+6],oe=E[M+7],j=E[M+8],Z=E[M+9],ne=E[M+10],J=E[M+11],be=E[M+12],de=E[M+13],Me=E[M+14],Oe=E[M+15],H=w[0],$=w[1],Q=w[2],G=w[3];H=v(H,$,Q,G,F,7,d[0]),G=v(G,H,$,Q,O,12,d[1]),Q=v(Q,G,H,$,N,17,d[2]),$=v($,Q,G,H,R,22,d[3]),H=v(H,$,Q,G,X,7,d[4]),G=v(G,H,$,Q,K,12,d[5]),Q=v(Q,G,H,$,te,17,d[6]),$=v($,Q,G,H,oe,22,d[7]),H=v(H,$,Q,G,j,7,d[8]),G=v(G,H,$,Q,Z,12,d[9]),Q=v(Q,G,H,$,ne,17,d[10]),$=v($,Q,G,H,J,22,d[11]),H=v(H,$,Q,G,be,7,d[12]),G=v(G,H,$,Q,de,12,d[13]),Q=v(Q,G,H,$,Me,17,d[14]),$=v($,Q,G,H,Oe,22,d[15]),H=p(H,$,Q,G,O,5,d[16]),G=p(G,H,$,Q,te,9,d[17]),Q=p(Q,G,H,$,J,14,d[18]),$=p($,Q,G,H,F,20,d[19]),H=p(H,$,Q,G,K,5,d[20]),G=p(G,H,$,Q,ne,9,d[21]),Q=p(Q,G,H,$,Oe,14,d[22]),$=p($,Q,G,H,X,20,d[23]),H=p(H,$,Q,G,Z,5,d[24]),G=p(G,H,$,Q,Me,9,d[25]),Q=p(Q,G,H,$,R,14,d[26]),$=p($,Q,G,H,j,20,d[27]),H=p(H,$,Q,G,de,5,d[28]),G=p(G,H,$,Q,N,9,d[29]),Q=p(Q,G,H,$,oe,14,d[30]),$=p($,Q,G,H,be,20,d[31]),H=y(H,$,Q,G,K,4,d[32]),G=y(G,H,$,Q,j,11,d[33]),Q=y(Q,G,H,$,J,16,d[34]),$=y($,Q,G,H,Me,23,d[35]),H=y(H,$,Q,G,O,4,d[36]),G=y(G,H,$,Q,X,11,d[37]),Q=y(Q,G,H,$,oe,16,d[38]),$=y($,Q,G,H,ne,23,d[39]),H=y(H,$,Q,G,de,4,d[40]),G=y(G,H,$,Q,F,11,d[41]),Q=y(Q,G,H,$,R,16,d[42]),$=y($,Q,G,H,te,23,d[43]),H=y(H,$,Q,G,Z,4,d[44]),G=y(G,H,$,Q,be,11,d[45]),Q=y(Q,G,H,$,Oe,16,d[46]),$=y($,Q,G,H,N,23,d[47]),H=C(H,$,Q,G,F,6,d[48]),G=C(G,H,$,Q,oe,10,d[49]),Q=C(Q,G,H,$,Me,15,d[50]),$=C($,Q,G,H,K,21,d[51]),H=C(H,$,Q,G,be,6,d[52]),G=C(G,H,$,Q,R,10,d[53]),Q=C(Q,G,H,$,ne,15,d[54]),$=C($,Q,G,H,O,21,d[55]),H=C(H,$,Q,G,j,6,d[56]),G=C(G,H,$,Q,Oe,10,d[57]),Q=C(Q,G,H,$,te,15,d[58]),$=C($,Q,G,H,de,21,d[59]),H=C(H,$,Q,G,X,6,d[60]),G=C(G,H,$,Q,J,10,d[61]),Q=C(Q,G,H,$,N,15,d[62]),$=C($,Q,G,H,Z,21,d[63]),w[0]=w[0]+H|0,w[1]=w[1]+$|0,w[2]=w[2]+Q|0,w[3]=w[3]+G|0},_doFinalize:function(){var E=this._data,M=E.words,k=this._nDataBytes*8,P=E.sigBytes*8;M[P>>>5]|=128<<24-P%32;var S=r.floor(k/4294967296),w=k;M[(P+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,M[(P+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E.sigBytes=(M.length+1)*4,this._process();for(var F=this._hash,O=F.words,N=0;N<4;N++){var R=O[N];O[N]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return F},clone:function(){var E=o.clone.call(this);return E._hash=this._hash.clone(),E}});function v(E,M,k,P,S,w,F){var O=E+(M&k|~M&P)+S+F;return(O<<w|O>>>32-w)+M}function p(E,M,k,P,S,w,F){var O=E+(M&P|k&~P)+S+F;return(O<<w|O>>>32-w)+M}function y(E,M,k,P,S,w,F){var O=E+(M^k^P)+S+F;return(O<<w|O>>>32-w)+M}function C(E,M,k,P,S,w,F){var O=E+(k^(M|~P))+S+F;return(O<<w|O>>>32-w)+M}e.MD5=o._createHelper(m),e.HmacMD5=o._createHmacHelper(m)}(Math),i.MD5})});var rc=Pe((ma,ym)=>{"use strict";(function(i,r){typeof ma=="object"?ym.exports=ma=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ma,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=e.Hasher,o=r.algo,l=[],d=o.SHA1=t.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(m,v){for(var p=this._hash.words,y=p[0],C=p[1],E=p[2],M=p[3],k=p[4],P=0;P<80;P++){if(P<16)l[P]=m[v+P]|0;else{var S=l[P-3]^l[P-8]^l[P-14]^l[P-16];l[P]=S<<1|S>>>31}var w=(y<<5|y>>>27)+k+l[P];P<20?w+=(C&E|~C&M)+1518500249:P<40?w+=(C^E^M)+1859775393:P<60?w+=(C&E|C&M|E&M)-1894007588:w+=(C^E^M)-899497514,k=M,M=E,E=C<<30|C>>>2,C=y,y=w}p[0]=p[0]+y|0,p[1]=p[1]+C|0,p[2]=p[2]+E|0,p[3]=p[3]+M|0,p[4]=p[4]+k|0},_doFinalize:function(){var m=this._data,v=m.words,p=this._nDataBytes*8,y=m.sigBytes*8;return v[y>>>5]|=128<<24-y%32,v[(y+64>>>9<<4)+14]=Math.floor(p/4294967296),v[(y+64>>>9<<4)+15]=p,m.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var m=t.clone.call(this);return m._hash=this._hash.clone(),m}});r.SHA1=t._createHelper(d),r.HmacSHA1=t._createHmacHelper(d)}(),i.SHA1})});var pa=Pe((ha,Cm)=>{"use strict";(function(i,r){typeof ha=="object"?Cm.exports=ha=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ha,function(i){return function(r){var e=i,n=e.lib,t=n.WordArray,o=n.Hasher,l=e.algo,d=[],m=[];(function(){function y(k){for(var P=r.sqrt(k),S=2;S<=P;S++)if(!(k%S))return!1;return!0}function C(k){return(k-(k|0))*4294967296|0}for(var E=2,M=0;M<64;)y(E)&&(M<8&&(d[M]=C(r.pow(E,1/2))),m[M]=C(r.pow(E,1/3)),M++),E++})();var v=[],p=l.SHA256=o.extend({_doReset:function(){this._hash=new t.init(d.slice(0))},_doProcessBlock:function(y,C){for(var E=this._hash.words,M=E[0],k=E[1],P=E[2],S=E[3],w=E[4],F=E[5],O=E[6],N=E[7],R=0;R<64;R++){if(R<16)v[R]=y[C+R]|0;else{var X=v[R-15],K=(X<<25|X>>>7)^(X<<14|X>>>18)^X>>>3,te=v[R-2],oe=(te<<15|te>>>17)^(te<<13|te>>>19)^te>>>10;v[R]=K+v[R-7]+oe+v[R-16]}var j=w&F^~w&O,Z=M&k^M&P^k&P,ne=(M<<30|M>>>2)^(M<<19|M>>>13)^(M<<10|M>>>22),J=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),be=N+J+j+m[R]+v[R],de=ne+Z;N=O,O=F,F=w,w=S+be|0,S=P,P=k,k=M,M=be+de|0}E[0]=E[0]+M|0,E[1]=E[1]+k|0,E[2]=E[2]+P|0,E[3]=E[3]+S|0,E[4]=E[4]+w|0,E[5]=E[5]+F|0,E[6]=E[6]+O|0,E[7]=E[7]+N|0},_doFinalize:function(){var y=this._data,C=y.words,E=this._nDataBytes*8,M=y.sigBytes*8;return C[M>>>5]|=128<<24-M%32,C[(M+64>>>9<<4)+14]=r.floor(E/4294967296),C[(M+64>>>9<<4)+15]=E,y.sigBytes=C.length*4,this._process(),this._hash},clone:function(){var y=o.clone.call(this);return y._hash=this._hash.clone(),y}});e.SHA256=o._createHelper(p),e.HmacSHA256=o._createHmacHelper(p)}(Math),i.SHA256})});var Sm=Pe((fa,xm)=>{"use strict";(function(i,r,e){typeof fa=="object"?xm.exports=fa=r(Fe(),pa()):typeof define=="function"&&define.amd?define(["./core","./sha256"],r):r(i.CryptoJS)})(fa,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=r.algo,o=t.SHA256,l=t.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=o._doFinalize.call(this);return d.sigBytes-=4,d}});r.SHA224=o._createHelper(l),r.HmacSHA224=o._createHmacHelper(l)}(),i.SHA224})});var oc=Pe((ga,wm)=>{"use strict";(function(i,r,e){typeof ga=="object"?wm.exports=ga=r(Fe(),jr()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],r):r(i.CryptoJS)})(ga,function(i){return function(){var r=i,e=r.lib,n=e.Hasher,t=r.x64,o=t.Word,l=t.WordArray,d=r.algo;function m(){return o.create.apply(o,arguments)}var v=[m(1116352408,3609767458),m(1899447441,602891725),m(3049323471,3964484399),m(3921009573,2173295548),m(961987163,4081628472),m(1508970993,3053834265),m(2453635748,2937671579),m(2870763221,3664609560),m(3624381080,2734883394),m(310598401,1164996542),m(607225278,1323610764),m(1426881987,3590304994),m(1925078388,4068182383),m(2162078206,991336113),m(2614888103,633803317),m(3248222580,3479774868),m(3835390401,2666613458),m(4022224774,944711139),m(264347078,2341262773),m(604807628,2007800933),m(770255983,1495990901),m(1249150122,1856431235),m(1555081692,3175218132),m(1996064986,2198950837),m(2554220882,3999719339),m(2821834349,766784016),m(2952996808,2566594879),m(3210313671,3203337956),m(3336571891,1034457026),m(3584528711,2466948901),m(113926993,3758326383),m(338241895,168717936),m(666307205,1188179964),m(773529912,1546045734),m(1294757372,1522805485),m(1396182291,2643833823),m(1695183700,2343527390),m(1986661051,1014477480),m(2177026350,1206759142),m(2456956037,344077627),m(2730485921,1290863460),m(2820302411,3158454273),m(3259730800,3505952657),m(3345764771,106217008),m(3516065817,3606008344),m(3600352804,1432725776),m(4094571909,1467031594),m(275423344,851169720),m(430227734,3100823752),m(506948616,1363258195),m(659060556,3750685593),m(883997877,3785050280),m(958139571,3318307427),m(1322822218,3812723403),m(1537002063,2003034995),m(1747873779,3602036899),m(1955562222,1575990012),m(2024104815,1125592928),m(2227730452,2716904306),m(2361852424,442776044),m(2428436474,593698344),m(2756734187,3733110249),m(3204031479,2999351573),m(3329325298,3815920427),m(3391569614,3928383900),m(3515267271,566280711),m(3940187606,3454069534),m(4118630271,4000239992),m(116418474,1914138554),m(174292421,2731055270),m(289380356,3203993006),m(460393269,320620315),m(685471733,587496836),m(852142971,1086792851),m(1017036298,365543100),m(1126000580,2618297676),m(1288033470,3409855158),m(1501505948,4234509866),m(1607167915,987167468),m(1816402316,1246189591)],p=[];(function(){for(var C=0;C<80;C++)p[C]=m()})();var y=d.SHA512=n.extend({_doReset:function(){this._hash=new l.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(C,E){for(var M=this._hash.words,k=M[0],P=M[1],S=M[2],w=M[3],F=M[4],O=M[5],N=M[6],R=M[7],X=k.high,K=k.low,te=P.high,oe=P.low,j=S.high,Z=S.low,ne=w.high,J=w.low,be=F.high,de=F.low,Me=O.high,Oe=O.low,H=N.high,$=N.low,Q=R.high,G=R.low,nt=X,Xe=K,At=te,ke=oe,An=j,Xi=Z,Ga=ne,In=J,Kt=be,Ot=de,Gr=Me,kn=Oe,qr=H,Pn=$,qa=Q,Fn=G,Zt=0;Zt<80;Zt++){var Gt,Ci,$r=p[Zt];if(Zt<16)Ci=$r.high=C[E+Zt*2]|0,Gt=$r.low=C[E+Zt*2+1]|0;else{var Dc=p[Zt-15],en=Dc.high,On=Dc.low,Up=(en>>>1|On<<31)^(en>>>8|On<<24)^en>>>7,Tc=(On>>>1|en<<31)^(On>>>8|en<<24)^(On>>>7|en<<25),Ac=p[Zt-2],tn=Ac.high,Nn=Ac.low,jp=(tn>>>19|Nn<<13)^(tn<<3|Nn>>>29)^tn>>>6,Ic=(Nn>>>19|tn<<13)^(Nn<<3|tn>>>29)^(Nn>>>6|tn<<26),kc=p[Zt-7],Hp=kc.high,Wp=kc.low,Pc=p[Zt-16],zp=Pc.high,Fc=Pc.low;Gt=Tc+Wp,Ci=Up+Hp+(Gt>>>0<Tc>>>0?1:0),Gt=Gt+Ic,Ci=Ci+jp+(Gt>>>0<Ic>>>0?1:0),Gt=Gt+Fc,Ci=Ci+zp+(Gt>>>0<Fc>>>0?1:0),$r.high=Ci,$r.low=Gt}var Gp=Kt&Gr^~Kt&qr,Oc=Ot&kn^~Ot&Pn,qp=nt&At^nt&An^At&An,$p=Xe&ke^Xe&Xi^ke&Xi,Jp=(nt>>>28|Xe<<4)^(nt<<30|Xe>>>2)^(nt<<25|Xe>>>7),Nc=(Xe>>>28|nt<<4)^(Xe<<30|nt>>>2)^(Xe<<25|nt>>>7),Qp=(Kt>>>14|Ot<<18)^(Kt>>>18|Ot<<14)^(Kt<<23|Ot>>>9),Kp=(Ot>>>14|Kt<<18)^(Ot>>>18|Kt<<14)^(Ot<<23|Kt>>>9),Bc=v[Zt],Zp=Bc.high,Rc=Bc.low,Nt=Fn+Kp,xi=qa+Qp+(Nt>>>0<Fn>>>0?1:0),Nt=Nt+Oc,xi=xi+Gp+(Nt>>>0<Oc>>>0?1:0),Nt=Nt+Rc,xi=xi+Zp+(Nt>>>0<Rc>>>0?1:0),Nt=Nt+Gt,xi=xi+Ci+(Nt>>>0<Gt>>>0?1:0),Vc=Nc+$p,Yp=Jp+qp+(Vc>>>0<Nc>>>0?1:0);qa=qr,Fn=Pn,qr=Gr,Pn=kn,Gr=Kt,kn=Ot,Ot=In+Nt|0,Kt=Ga+xi+(Ot>>>0<In>>>0?1:0)|0,Ga=An,In=Xi,An=At,Xi=ke,At=nt,ke=Xe,Xe=Nt+Vc|0,nt=xi+Yp+(Xe>>>0<Nt>>>0?1:0)|0}K=k.low=K+Xe,k.high=X+nt+(K>>>0<Xe>>>0?1:0),oe=P.low=oe+ke,P.high=te+At+(oe>>>0<ke>>>0?1:0),Z=S.low=Z+Xi,S.high=j+An+(Z>>>0<Xi>>>0?1:0),J=w.low=J+In,w.high=ne+Ga+(J>>>0<In>>>0?1:0),de=F.low=de+Ot,F.high=be+Kt+(de>>>0<Ot>>>0?1:0),Oe=O.low=Oe+kn,O.high=Me+Gr+(Oe>>>0<kn>>>0?1:0),$=N.low=$+Pn,N.high=H+qr+($>>>0<Pn>>>0?1:0),G=R.low=G+Fn,R.high=Q+qa+(G>>>0<Fn>>>0?1:0)},_doFinalize:function(){var C=this._data,E=C.words,M=this._nDataBytes*8,k=C.sigBytes*8;E[k>>>5]|=128<<24-k%32,E[(k+128>>>10<<5)+30]=Math.floor(M/4294967296),E[(k+128>>>10<<5)+31]=M,C.sigBytes=E.length*4,this._process();var P=this._hash.toX32();return P},clone:function(){var C=n.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:1024/32});r.SHA512=n._createHelper(y),r.HmacSHA512=n._createHmacHelper(y)}(),i.SHA512})});var Mm=Pe((_a,Em)=>{"use strict";(function(i,r,e){typeof _a=="object"?Em.exports=_a=r(Fe(),jr(),oc()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],r):r(i.CryptoJS)})(_a,function(i){return function(){var r=i,e=r.x64,n=e.Word,t=e.WordArray,o=r.algo,l=o.SHA512,d=o.SHA384=l.extend({_doReset:function(){this._hash=new t.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var m=l._doFinalize.call(this);return m.sigBytes-=16,m}});r.SHA384=l._createHelper(d),r.HmacSHA384=l._createHmacHelper(d)}(),i.SHA384})});var Tm=Pe((va,Dm)=>{"use strict";(function(i,r,e){typeof va=="object"?Dm.exports=va=r(Fe(),jr()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],r):r(i.CryptoJS)})(va,function(i){return function(r){var e=i,n=e.lib,t=n.WordArray,o=n.Hasher,l=e.x64,d=l.Word,m=e.algo,v=[],p=[],y=[];(function(){for(var M=1,k=0,P=0;P<24;P++){v[M+5*k]=(P+1)*(P+2)/2%64;var S=k%5,w=(2*M+3*k)%5;M=S,k=w}for(var M=0;M<5;M++)for(var k=0;k<5;k++)p[M+5*k]=k+(2*M+3*k)%5*5;for(var F=1,O=0;O<24;O++){for(var N=0,R=0,X=0;X<7;X++){if(F&1){var K=(1<<X)-1;K<32?R^=1<<K:N^=1<<K-32}F&128?F=F<<1^113:F<<=1}y[O]=d.create(N,R)}})();var C=[];(function(){for(var M=0;M<25;M++)C[M]=d.create()})();var E=m.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var M=this._state=[],k=0;k<25;k++)M[k]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(M,k){for(var P=this._state,S=this.blockSize/2,w=0;w<S;w++){var F=M[k+2*w],O=M[k+2*w+1];F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360;var N=P[w];N.high^=O,N.low^=F}for(var R=0;R<24;R++){for(var X=0;X<5;X++){for(var K=0,te=0,oe=0;oe<5;oe++){var N=P[X+5*oe];K^=N.high,te^=N.low}var j=C[X];j.high=K,j.low=te}for(var X=0;X<5;X++)for(var Z=C[(X+4)%5],ne=C[(X+1)%5],J=ne.high,be=ne.low,K=Z.high^(J<<1|be>>>31),te=Z.low^(be<<1|J>>>31),oe=0;oe<5;oe++){var N=P[X+5*oe];N.high^=K,N.low^=te}for(var de=1;de<25;de++){var K,te,N=P[de],Me=N.high,Oe=N.low,H=v[de];H<32?(K=Me<<H|Oe>>>32-H,te=Oe<<H|Me>>>32-H):(K=Oe<<H-32|Me>>>64-H,te=Me<<H-32|Oe>>>64-H);var $=C[p[de]];$.high=K,$.low=te}var Q=C[0],G=P[0];Q.high=G.high,Q.low=G.low;for(var X=0;X<5;X++)for(var oe=0;oe<5;oe++){var de=X+5*oe,N=P[de],nt=C[de],Xe=C[(X+1)%5+5*oe],At=C[(X+2)%5+5*oe];N.high=nt.high^~Xe.high&At.high,N.low=nt.low^~Xe.low&At.low}var N=P[0],ke=y[R];N.high^=ke.high,N.low^=ke.low}},_doFinalize:function(){var M=this._data,k=M.words,P=this._nDataBytes*8,S=M.sigBytes*8,w=this.blockSize*32;k[S>>>5]|=1<<24-S%32,k[(r.ceil((S+1)/w)*w>>>5)-1]|=128,M.sigBytes=k.length*4,this._process();for(var F=this._state,O=this.cfg.outputLength/8,N=O/8,R=[],X=0;X<N;X++){var K=F[X],te=K.high,oe=K.low;te=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360,oe=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360,R.push(oe),R.push(te)}return new t.init(R,O)},clone:function(){for(var M=o.clone.call(this),k=M._state=this._state.slice(0),P=0;P<25;P++)k[P]=k[P].clone();return M}});e.SHA3=o._createHelper(E),e.HmacSHA3=o._createHmacHelper(E)}(Math),i.SHA3})});var Im=Pe((ba,Am)=>{"use strict";(function(i,r){typeof ba=="object"?Am.exports=ba=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ba,function(i){return function(r){var e=i,n=e.lib,t=n.WordArray,o=n.Hasher,l=e.algo,d=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),m=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),y=t.create([0,1518500249,1859775393,2400959708,2840853838]),C=t.create([1352829926,1548603684,1836072691,2053994217,0]),E=l.RIPEMD160=o.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,N){for(var R=0;R<16;R++){var X=N+R,K=O[X];O[X]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360}var te=this._hash.words,oe=y.words,j=C.words,Z=d.words,ne=m.words,J=v.words,be=p.words,de,Me,Oe,H,$,Q,G,nt,Xe,At;Q=de=te[0],G=Me=te[1],nt=Oe=te[2],Xe=H=te[3],At=$=te[4];for(var ke,R=0;R<80;R+=1)ke=de+O[N+Z[R]]|0,R<16?ke+=M(Me,Oe,H)+oe[0]:R<32?ke+=k(Me,Oe,H)+oe[1]:R<48?ke+=P(Me,Oe,H)+oe[2]:R<64?ke+=S(Me,Oe,H)+oe[3]:ke+=w(Me,Oe,H)+oe[4],ke=ke|0,ke=F(ke,J[R]),ke=ke+$|0,de=$,$=H,H=F(Oe,10),Oe=Me,Me=ke,ke=Q+O[N+ne[R]]|0,R<16?ke+=w(G,nt,Xe)+j[0]:R<32?ke+=S(G,nt,Xe)+j[1]:R<48?ke+=P(G,nt,Xe)+j[2]:R<64?ke+=k(G,nt,Xe)+j[3]:ke+=M(G,nt,Xe)+j[4],ke=ke|0,ke=F(ke,be[R]),ke=ke+At|0,Q=At,At=Xe,Xe=F(nt,10),nt=G,G=ke;ke=te[1]+Oe+Xe|0,te[1]=te[2]+H+At|0,te[2]=te[3]+$+Q|0,te[3]=te[4]+de+G|0,te[4]=te[0]+Me+nt|0,te[0]=ke},_doFinalize:function(){var O=this._data,N=O.words,R=this._nDataBytes*8,X=O.sigBytes*8;N[X>>>5]|=128<<24-X%32,N[(X+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,O.sigBytes=(N.length+1)*4,this._process();for(var K=this._hash,te=K.words,oe=0;oe<5;oe++){var j=te[oe];te[oe]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return K},clone:function(){var O=o.clone.call(this);return O._hash=this._hash.clone(),O}});function M(O,N,R){return O^N^R}function k(O,N,R){return O&N|~O&R}function P(O,N,R){return(O|~N)^R}function S(O,N,R){return O&R|N&~R}function w(O,N,R){return O^(N|~R)}function F(O,N){return O<<N|O>>>32-N}e.RIPEMD160=o._createHelper(E),e.HmacRIPEMD160=o._createHmacHelper(E)}(Math),i.RIPEMD160})});var Ca=Pe((ya,km)=>{"use strict";(function(i,r){typeof ya=="object"?km.exports=ya=r(Fe()):typeof define=="function"&&define.amd?define(["./core"],r):r(i.CryptoJS)})(ya,function(i){(function(){var r=i,e=r.lib,n=e.Base,t=r.enc,o=t.Utf8,l=r.algo,d=l.HMAC=n.extend({init:function(m,v){m=this._hasher=new m.init,typeof v=="string"&&(v=o.parse(v));var p=m.blockSize,y=p*4;v.sigBytes>y&&(v=m.finalize(v)),v.clamp();for(var C=this._oKey=v.clone(),E=this._iKey=v.clone(),M=C.words,k=E.words,P=0;P<p;P++)M[P]^=1549556828,k[P]^=909522486;C.sigBytes=E.sigBytes=y,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var v=this._hasher,p=v.finalize(m);v.reset();var y=v.finalize(this._oKey.clone().concat(p));return y}})})()})});var Fm=Pe((xa,Pm)=>{"use strict";(function(i,r,e){typeof xa=="object"?Pm.exports=xa=r(Fe(),pa(),Ca()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],r):r(i.CryptoJS)})(xa,function(i){return function(){var r=i,e=r.lib,n=e.Base,t=e.WordArray,o=r.algo,l=o.SHA256,d=o.HMAC,m=o.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,p){for(var y=this.cfg,C=d.create(y.hasher,v),E=t.create(),M=t.create([1]),k=E.words,P=M.words,S=y.keySize,w=y.iterations;k.length<S;){var F=C.update(p).finalize(M);C.reset();for(var O=F.words,N=O.length,R=F,X=1;X<w;X++){R=C.finalize(R),C.reset();for(var K=R.words,te=0;te<N;te++)O[te]^=K[te]}E.concat(F),P[0]++}return E.sigBytes=S*4,E}});r.PBKDF2=function(v,p,y){return m.create(y).compute(v,p)}}(),i.PBKDF2})});var yi=Pe((Sa,Om)=>{"use strict";(function(i,r,e){typeof Sa=="object"?Om.exports=Sa=r(Fe(),rc(),Ca()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],r):r(i.CryptoJS)})(Sa,function(i){return function(){var r=i,e=r.lib,n=e.Base,t=e.WordArray,o=r.algo,l=o.MD5,d=o.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:l,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,v){for(var p,y=this.cfg,C=y.hasher.create(),E=t.create(),M=E.words,k=y.keySize,P=y.iterations;M.length<k;){p&&C.update(p),p=C.update(m).finalize(v),C.reset();for(var S=1;S<P;S++)p=C.finalize(p),C.reset();E.concat(p)}return E.sigBytes=k*4,E}});r.EvpKDF=function(m,v,p){return d.create(p).compute(m,v)}}(),i.EvpKDF})});var pt=Pe((wa,Nm)=>{"use strict";(function(i,r,e){typeof wa=="object"?Nm.exports=wa=r(Fe(),yi()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],r):r(i.CryptoJS)})(wa,function(i){i.lib.Cipher||function(r){var e=i,n=e.lib,t=n.Base,o=n.WordArray,l=n.BufferedBlockAlgorithm,d=e.enc,m=d.Utf8,v=d.Base64,p=e.algo,y=p.EvpKDF,C=n.Cipher=l.extend({cfg:t.extend(),createEncryptor:function(j,Z){return this.create(this._ENC_XFORM_MODE,j,Z)},createDecryptor:function(j,Z){return this.create(this._DEC_XFORM_MODE,j,Z)},init:function(j,Z,ne){this.cfg=this.cfg.extend(ne),this._xformMode=j,this._key=Z,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(j){return this._append(j),this._process()},finalize:function(j){j&&this._append(j);var Z=this._doFinalize();return Z},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function j(Z){return typeof Z=="string"?oe:X}return function(Z){return{encrypt:function(ne,J,be){return j(J).encrypt(Z,ne,J,be)},decrypt:function(ne,J,be){return j(J).decrypt(Z,ne,J,be)}}}}()}),E=n.StreamCipher=C.extend({_doFinalize:function(){var j=this._process(!0);return j},blockSize:1}),M=e.mode={},k=n.BlockCipherMode=t.extend({createEncryptor:function(j,Z){return this.Encryptor.create(j,Z)},createDecryptor:function(j,Z){return this.Decryptor.create(j,Z)},init:function(j,Z){this._cipher=j,this._iv=Z}}),P=M.CBC=function(){var j=k.extend();j.Encryptor=j.extend({processBlock:function(ne,J){var be=this._cipher,de=be.blockSize;Z.call(this,ne,J,de),be.encryptBlock(ne,J),this._prevBlock=ne.slice(J,J+de)}}),j.Decryptor=j.extend({processBlock:function(ne,J){var be=this._cipher,de=be.blockSize,Me=ne.slice(J,J+de);be.decryptBlock(ne,J),Z.call(this,ne,J,de),this._prevBlock=Me}});function Z(ne,J,be){var de,Me=this._iv;Me?(de=Me,this._iv=r):de=this._prevBlock;for(var Oe=0;Oe<be;Oe++)ne[J+Oe]^=de[Oe]}return j}(),S=e.pad={},w=S.Pkcs7={pad:function(j,Z){for(var ne=Z*4,J=ne-j.sigBytes%ne,be=J<<24|J<<16|J<<8|J,de=[],Me=0;Me<J;Me+=4)de.push(be);var Oe=o.create(de,J);j.concat(Oe)},unpad:function(j){var Z=j.words[j.sigBytes-1>>>2]&255;j.sigBytes-=Z}},F=n.BlockCipher=C.extend({cfg:C.cfg.extend({mode:P,padding:w}),reset:function(){var j;C.reset.call(this);var Z=this.cfg,ne=Z.iv,J=Z.mode;this._xformMode==this._ENC_XFORM_MODE?j=J.createEncryptor:(j=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==j?this._mode.init(this,ne&&ne.words):(this._mode=j.call(J,this,ne&&ne.words),this._mode.__creator=j)},_doProcessBlock:function(j,Z){this._mode.processBlock(j,Z)},_doFinalize:function(){var j,Z=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Z.pad(this._data,this.blockSize),j=this._process(!0)):(j=this._process(!0),Z.unpad(j)),j},blockSize:128/32}),O=n.CipherParams=t.extend({init:function(j){this.mixIn(j)},toString:function(j){return(j||this.formatter).stringify(this)}}),N=e.format={},R=N.OpenSSL={stringify:function(j){var Z,ne=j.ciphertext,J=j.salt;return J?Z=o.create([1398893684,1701076831]).concat(J).concat(ne):Z=ne,Z.toString(v)},parse:function(j){var Z,ne=v.parse(j),J=ne.words;return J[0]==1398893684&&J[1]==1701076831&&(Z=o.create(J.slice(2,4)),J.splice(0,4),ne.sigBytes-=16),O.create({ciphertext:ne,salt:Z})}},X=n.SerializableCipher=t.extend({cfg:t.extend({format:R}),encrypt:function(j,Z,ne,J){J=this.cfg.extend(J);var be=j.createEncryptor(ne,J),de=be.finalize(Z),Me=be.cfg;return O.create({ciphertext:de,key:ne,iv:Me.iv,algorithm:j,mode:Me.mode,padding:Me.padding,blockSize:j.blockSize,formatter:J.format})},decrypt:function(j,Z,ne,J){J=this.cfg.extend(J),Z=this._parse(Z,J.format);var be=j.createDecryptor(ne,J).finalize(Z.ciphertext);return be},_parse:function(j,Z){return typeof j=="string"?Z.parse(j,this):j}}),K=e.kdf={},te=K.OpenSSL={execute:function(j,Z,ne,J,be){if(J||(J=o.random(64/8)),be)var de=y.create({keySize:Z+ne,hasher:be}).compute(j,J);else var de=y.create({keySize:Z+ne}).compute(j,J);var Me=o.create(de.words.slice(Z),ne*4);return de.sigBytes=Z*4,O.create({key:de,iv:Me,salt:J})}},oe=n.PasswordBasedCipher=X.extend({cfg:X.cfg.extend({kdf:te}),encrypt:function(j,Z,ne,J){J=this.cfg.extend(J);var be=J.kdf.execute(ne,j.keySize,j.ivSize,J.salt,J.hasher);J.iv=be.iv;var de=X.encrypt.call(this,j,Z,be.key,J);return de.mixIn(be),de},decrypt:function(j,Z,ne,J){J=this.cfg.extend(J),Z=this._parse(Z,J.format);var be=J.kdf.execute(ne,j.keySize,j.ivSize,Z.salt,J.hasher);J.iv=be.iv;var de=X.decrypt.call(this,j,Z,be.key,J);return de}})}()})});var Rm=Pe((Ea,Bm)=>{"use strict";(function(i,r,e){typeof Ea=="object"?Bm.exports=Ea=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Ea,function(i){return i.mode.CFB=function(){var r=i.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(n,t){var o=this._cipher,l=o.blockSize;e.call(this,n,t,l,o),this._prevBlock=n.slice(t,t+l)}}),r.Decryptor=r.extend({processBlock:function(n,t){var o=this._cipher,l=o.blockSize,d=n.slice(t,t+l);e.call(this,n,t,l,o),this._prevBlock=d}});function e(n,t,o,l){var d,m=this._iv;m?(d=m.slice(0),this._iv=void 0):d=this._prevBlock,l.encryptBlock(d,0);for(var v=0;v<o;v++)n[t+v]^=d[v]}return r}(),i.mode.CFB})});var Lm=Pe((Ma,Vm)=>{"use strict";(function(i,r,e){typeof Ma=="object"?Vm.exports=Ma=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Ma,function(i){return i.mode.CTR=function(){var r=i.lib.BlockCipherMode.extend(),e=r.Encryptor=r.extend({processBlock:function(n,t){var o=this._cipher,l=o.blockSize,d=this._iv,m=this._counter;d&&(m=this._counter=d.slice(0),this._iv=void 0);var v=m.slice(0);o.encryptBlock(v,0),m[l-1]=m[l-1]+1|0;for(var p=0;p<l;p++)n[t+p]^=v[p]}});return r.Decryptor=e,r}(),i.mode.CTR})});var jm=Pe((Da,Um)=>{"use strict";(function(i,r,e){typeof Da=="object"?Um.exports=Da=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Da,function(i){return i.mode.CTRGladman=function(){var r=i.lib.BlockCipherMode.extend();function e(o){if((o>>24&255)===255){var l=o>>16&255,d=o>>8&255,m=o&255;l===255?(l=0,d===255?(d=0,m===255?m=0:++m):++d):++l,o=0,o+=l<<16,o+=d<<8,o+=m}else o+=1<<24;return o}function n(o){return(o[0]=e(o[0]))===0&&(o[1]=e(o[1])),o}var t=r.Encryptor=r.extend({processBlock:function(o,l){var d=this._cipher,m=d.blockSize,v=this._iv,p=this._counter;v&&(p=this._counter=v.slice(0),this._iv=void 0),n(p);var y=p.slice(0);d.encryptBlock(y,0);for(var C=0;C<m;C++)o[l+C]^=y[C]}});return r.Decryptor=t,r}(),i.mode.CTRGladman})});var Wm=Pe((Ta,Hm)=>{"use strict";(function(i,r,e){typeof Ta=="object"?Hm.exports=Ta=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Ta,function(i){return i.mode.OFB=function(){var r=i.lib.BlockCipherMode.extend(),e=r.Encryptor=r.extend({processBlock:function(n,t){var o=this._cipher,l=o.blockSize,d=this._iv,m=this._keystream;d&&(m=this._keystream=d.slice(0),this._iv=void 0),o.encryptBlock(m,0);for(var v=0;v<l;v++)n[t+v]^=m[v]}});return r.Decryptor=e,r}(),i.mode.OFB})});var Gm=Pe((Aa,zm)=>{"use strict";(function(i,r,e){typeof Aa=="object"?zm.exports=Aa=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Aa,function(i){return i.mode.ECB=function(){var r=i.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(e,n){this._cipher.encryptBlock(e,n)}}),r.Decryptor=r.extend({processBlock:function(e,n){this._cipher.decryptBlock(e,n)}}),r}(),i.mode.ECB})});var $m=Pe((Ia,qm)=>{"use strict";(function(i,r,e){typeof Ia=="object"?qm.exports=Ia=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Ia,function(i){return i.pad.AnsiX923={pad:function(r,e){var n=r.sigBytes,t=e*4,o=t-n%t,l=n+o-1;r.clamp(),r.words[l>>>2]|=o<<24-l%4*8,r.sigBytes+=o},unpad:function(r){var e=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=e}},i.pad.Ansix923})});var Qm=Pe((ka,Jm)=>{"use strict";(function(i,r,e){typeof ka=="object"?Jm.exports=ka=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(ka,function(i){return i.pad.Iso10126={pad:function(r,e){var n=e*4,t=n-r.sigBytes%n;r.concat(i.lib.WordArray.random(t-1)).concat(i.lib.WordArray.create([t<<24],1))},unpad:function(r){var e=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=e}},i.pad.Iso10126})});var Zm=Pe((Pa,Km)=>{"use strict";(function(i,r,e){typeof Pa=="object"?Km.exports=Pa=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Pa,function(i){return i.pad.Iso97971={pad:function(r,e){r.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(r,e)},unpad:function(r){i.pad.ZeroPadding.unpad(r),r.sigBytes--}},i.pad.Iso97971})});var Xm=Pe((Fa,Ym)=>{"use strict";(function(i,r,e){typeof Fa=="object"?Ym.exports=Fa=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Fa,function(i){return i.pad.ZeroPadding={pad:function(r,e){var n=e*4;r.clamp(),r.sigBytes+=n-(r.sigBytes%n||n)},unpad:function(r){for(var e=r.words,n=r.sigBytes-1,n=r.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){r.sigBytes=n+1;break}}},i.pad.ZeroPadding})});var th=Pe((Oa,eh)=>{"use strict";(function(i,r,e){typeof Oa=="object"?eh.exports=Oa=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Oa,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})});var nh=Pe((Na,ih)=>{"use strict";(function(i,r,e){typeof Na=="object"?ih.exports=Na=r(Fe(),pt()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],r):r(i.CryptoJS)})(Na,function(i){return function(r){var e=i,n=e.lib,t=n.CipherParams,o=e.enc,l=o.Hex,d=e.format,m=d.Hex={stringify:function(v){return v.ciphertext.toString(l)},parse:function(v){var p=l.parse(v);return t.create({ciphertext:p})}}}(),i.format.Hex})});var oh=Pe((Ba,rh)=>{"use strict";(function(i,r,e){typeof Ba=="object"?rh.exports=Ba=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(Ba,function(i){return function(){var r=i,e=r.lib,n=e.BlockCipher,t=r.algo,o=[],l=[],d=[],m=[],v=[],p=[],y=[],C=[],E=[],M=[];(function(){for(var S=[],w=0;w<256;w++)w<128?S[w]=w<<1:S[w]=w<<1^283;for(var F=0,O=0,w=0;w<256;w++){var N=O^O<<1^O<<2^O<<3^O<<4;N=N>>>8^N&255^99,o[F]=N,l[N]=F;var R=S[F],X=S[R],K=S[X],te=S[N]*257^N*16843008;d[F]=te<<24|te>>>8,m[F]=te<<16|te>>>16,v[F]=te<<8|te>>>24,p[F]=te;var te=K*16843009^X*65537^R*257^F*16843008;y[N]=te<<24|te>>>8,C[N]=te<<16|te>>>16,E[N]=te<<8|te>>>24,M[N]=te,F?(F=R^S[S[S[K^R]]],O^=S[S[O]]):F=O=1}})();var k=[0,1,2,4,8,16,32,64,128,27,54],P=t.AES=n.extend({_doReset:function(){var S;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,F=w.words,O=w.sigBytes/4,N=this._nRounds=O+6,R=(N+1)*4,X=this._keySchedule=[],K=0;K<R;K++)K<O?X[K]=F[K]:(S=X[K-1],K%O?O>6&&K%O==4&&(S=o[S>>>24]<<24|o[S>>>16&255]<<16|o[S>>>8&255]<<8|o[S&255]):(S=S<<8|S>>>24,S=o[S>>>24]<<24|o[S>>>16&255]<<16|o[S>>>8&255]<<8|o[S&255],S^=k[K/O|0]<<24),X[K]=X[K-O]^S);for(var te=this._invKeySchedule=[],oe=0;oe<R;oe++){var K=R-oe;if(oe%4)var S=X[K];else var S=X[K-4];oe<4||K<=4?te[oe]=S:te[oe]=y[o[S>>>24]]^C[o[S>>>16&255]]^E[o[S>>>8&255]]^M[o[S&255]]}}},encryptBlock:function(S,w){this._doCryptBlock(S,w,this._keySchedule,d,m,v,p,o)},decryptBlock:function(S,w){var F=S[w+1];S[w+1]=S[w+3],S[w+3]=F,this._doCryptBlock(S,w,this._invKeySchedule,y,C,E,M,l);var F=S[w+1];S[w+1]=S[w+3],S[w+3]=F},_doCryptBlock:function(S,w,F,O,N,R,X,K){for(var te=this._nRounds,oe=S[w]^F[0],j=S[w+1]^F[1],Z=S[w+2]^F[2],ne=S[w+3]^F[3],J=4,be=1;be<te;be++){var de=O[oe>>>24]^N[j>>>16&255]^R[Z>>>8&255]^X[ne&255]^F[J++],Me=O[j>>>24]^N[Z>>>16&255]^R[ne>>>8&255]^X[oe&255]^F[J++],Oe=O[Z>>>24]^N[ne>>>16&255]^R[oe>>>8&255]^X[j&255]^F[J++],H=O[ne>>>24]^N[oe>>>16&255]^R[j>>>8&255]^X[Z&255]^F[J++];oe=de,j=Me,Z=Oe,ne=H}var de=(K[oe>>>24]<<24|K[j>>>16&255]<<16|K[Z>>>8&255]<<8|K[ne&255])^F[J++],Me=(K[j>>>24]<<24|K[Z>>>16&255]<<16|K[ne>>>8&255]<<8|K[oe&255])^F[J++],Oe=(K[Z>>>24]<<24|K[ne>>>16&255]<<16|K[oe>>>8&255]<<8|K[j&255])^F[J++],H=(K[ne>>>24]<<24|K[oe>>>16&255]<<16|K[j>>>8&255]<<8|K[Z&255])^F[J++];S[w]=de,S[w+1]=Me,S[w+2]=Oe,S[w+3]=H},keySize:256/32});r.AES=n._createHelper(P)}(),i.AES})});var sh=Pe((Ra,ah)=>{"use strict";(function(i,r,e){typeof Ra=="object"?ah.exports=Ra=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(Ra,function(i){return function(){var r=i,e=r.lib,n=e.WordArray,t=e.BlockCipher,o=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],m=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],y=o.DES=t.extend({_doReset:function(){for(var k=this._key,P=k.words,S=[],w=0;w<56;w++){var F=l[w]-1;S[w]=P[F>>>5]>>>31-F%32&1}for(var O=this._subKeys=[],N=0;N<16;N++){for(var R=O[N]=[],X=m[N],w=0;w<24;w++)R[w/6|0]|=S[(d[w]-1+X)%28]<<31-w%6,R[4+(w/6|0)]|=S[28+(d[w+24]-1+X)%28]<<31-w%6;R[0]=R[0]<<1|R[0]>>>31;for(var w=1;w<7;w++)R[w]=R[w]>>>(w-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var K=this._invSubKeys=[],w=0;w<16;w++)K[w]=O[15-w]},encryptBlock:function(k,P){this._doCryptBlock(k,P,this._subKeys)},decryptBlock:function(k,P){this._doCryptBlock(k,P,this._invSubKeys)},_doCryptBlock:function(k,P,S){this._lBlock=k[P],this._rBlock=k[P+1],C.call(this,4,252645135),C.call(this,16,65535),E.call(this,2,858993459),E.call(this,8,16711935),C.call(this,1,1431655765);for(var w=0;w<16;w++){for(var F=S[w],O=this._lBlock,N=this._rBlock,R=0,X=0;X<8;X++)R|=v[X][((N^F[X])&p[X])>>>0];this._lBlock=N,this._rBlock=O^R}var K=this._lBlock;this._lBlock=this._rBlock,this._rBlock=K,C.call(this,1,1431655765),E.call(this,8,16711935),E.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),k[P]=this._lBlock,k[P+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function C(k,P){var S=(this._lBlock>>>k^this._rBlock)&P;this._rBlock^=S,this._lBlock^=S<<k}function E(k,P){var S=(this._rBlock>>>k^this._lBlock)&P;this._lBlock^=S,this._rBlock^=S<<k}r.DES=t._createHelper(y);var M=o.TripleDES=t.extend({_doReset:function(){var k=this._key,P=k.words;if(P.length!==2&&P.length!==4&&P.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var S=P.slice(0,2),w=P.length<4?P.slice(0,2):P.slice(2,4),F=P.length<6?P.slice(0,2):P.slice(4,6);this._des1=y.createEncryptor(n.create(S)),this._des2=y.createEncryptor(n.create(w)),this._des3=y.createEncryptor(n.create(F))},encryptBlock:function(k,P){this._des1.encryptBlock(k,P),this._des2.decryptBlock(k,P),this._des3.encryptBlock(k,P)},decryptBlock:function(k,P){this._des3.decryptBlock(k,P),this._des2.encryptBlock(k,P),this._des1.decryptBlock(k,P)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=t._createHelper(M)}(),i.TripleDES})});var ch=Pe((Va,lh)=>{"use strict";(function(i,r,e){typeof Va=="object"?lh.exports=Va=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(Va,function(i){return function(){var r=i,e=r.lib,n=e.StreamCipher,t=r.algo,o=t.RC4=n.extend({_doReset:function(){for(var m=this._key,v=m.words,p=m.sigBytes,y=this._S=[],C=0;C<256;C++)y[C]=C;for(var C=0,E=0;C<256;C++){var M=C%p,k=v[M>>>2]>>>24-M%4*8&255;E=(E+y[C]+k)%256;var P=y[C];y[C]=y[E],y[E]=P}this._i=this._j=0},_doProcessBlock:function(m,v){m[v]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var m=this._S,v=this._i,p=this._j,y=0,C=0;C<4;C++){v=(v+1)%256,p=(p+m[v])%256;var E=m[v];m[v]=m[p],m[p]=E,y|=m[(m[v]+m[p])%256]<<24-C*8}return this._i=v,this._j=p,y}r.RC4=n._createHelper(o);var d=t.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var m=this.cfg.drop;m>0;m--)l.call(this)}});r.RC4Drop=n._createHelper(d)}(),i.RC4})});var uh=Pe((La,dh)=>{"use strict";(function(i,r,e){typeof La=="object"?dh.exports=La=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(La,function(i){return function(){var r=i,e=r.lib,n=e.StreamCipher,t=r.algo,o=[],l=[],d=[],m=t.Rabbit=n.extend({_doReset:function(){for(var p=this._key.words,y=this.cfg.iv,C=0;C<4;C++)p[C]=(p[C]<<8|p[C]>>>24)&16711935|(p[C]<<24|p[C]>>>8)&4278255360;var E=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],M=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var C=0;C<4;C++)v.call(this);for(var C=0;C<8;C++)M[C]^=E[C+4&7];if(y){var k=y.words,P=k[0],S=k[1],w=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,F=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,O=w>>>16|F&4294901760,N=F<<16|w&65535;M[0]^=w,M[1]^=O,M[2]^=F,M[3]^=N,M[4]^=w,M[5]^=O,M[6]^=F,M[7]^=N;for(var C=0;C<4;C++)v.call(this)}},_doProcessBlock:function(p,y){var C=this._X;v.call(this),o[0]=C[0]^C[5]>>>16^C[3]<<16,o[1]=C[2]^C[7]>>>16^C[5]<<16,o[2]=C[4]^C[1]>>>16^C[7]<<16,o[3]=C[6]^C[3]>>>16^C[1]<<16;for(var E=0;E<4;E++)o[E]=(o[E]<<8|o[E]>>>24)&16711935|(o[E]<<24|o[E]>>>8)&4278255360,p[y+E]^=o[E]},blockSize:128/32,ivSize:64/32});function v(){for(var p=this._X,y=this._C,C=0;C<8;C++)l[C]=y[C];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<l[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<l[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<l[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<l[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<l[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<l[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<l[6]>>>0?1:0)|0,this._b=y[7]>>>0<l[7]>>>0?1:0;for(var C=0;C<8;C++){var E=p[C]+y[C],M=E&65535,k=E>>>16,P=((M*M>>>17)+M*k>>>15)+k*k,S=((E&4294901760)*E|0)+((E&65535)*E|0);d[C]=P^S}p[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,p[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,p[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,p[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,p[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,p[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,p[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,p[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}r.Rabbit=n._createHelper(m)}(),i.Rabbit})});var hh=Pe((Ua,mh)=>{"use strict";(function(i,r,e){typeof Ua=="object"?mh.exports=Ua=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(Ua,function(i){return function(){var r=i,e=r.lib,n=e.StreamCipher,t=r.algo,o=[],l=[],d=[],m=t.RabbitLegacy=n.extend({_doReset:function(){var p=this._key.words,y=this.cfg.iv,C=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],E=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var M=0;M<4;M++)v.call(this);for(var M=0;M<8;M++)E[M]^=C[M+4&7];if(y){var k=y.words,P=k[0],S=k[1],w=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,F=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,O=w>>>16|F&4294901760,N=F<<16|w&65535;E[0]^=w,E[1]^=O,E[2]^=F,E[3]^=N,E[4]^=w,E[5]^=O,E[6]^=F,E[7]^=N;for(var M=0;M<4;M++)v.call(this)}},_doProcessBlock:function(p,y){var C=this._X;v.call(this),o[0]=C[0]^C[5]>>>16^C[3]<<16,o[1]=C[2]^C[7]>>>16^C[5]<<16,o[2]=C[4]^C[1]>>>16^C[7]<<16,o[3]=C[6]^C[3]>>>16^C[1]<<16;for(var E=0;E<4;E++)o[E]=(o[E]<<8|o[E]>>>24)&16711935|(o[E]<<24|o[E]>>>8)&4278255360,p[y+E]^=o[E]},blockSize:128/32,ivSize:64/32});function v(){for(var p=this._X,y=this._C,C=0;C<8;C++)l[C]=y[C];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<l[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<l[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<l[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<l[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<l[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<l[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<l[6]>>>0?1:0)|0,this._b=y[7]>>>0<l[7]>>>0?1:0;for(var C=0;C<8;C++){var E=p[C]+y[C],M=E&65535,k=E>>>16,P=((M*M>>>17)+M*k>>>15)+k*k,S=((E&4294901760)*E|0)+((E&65535)*E|0);d[C]=P^S}p[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,p[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,p[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,p[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,p[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,p[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,p[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,p[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}r.RabbitLegacy=n._createHelper(m)}(),i.RabbitLegacy})});var fh=Pe((ja,ph)=>{"use strict";(function(i,r,e){typeof ja=="object"?ph.exports=ja=r(Fe(),ji(),Hi(),yi(),pt()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(i.CryptoJS)})(ja,function(i){return function(){var r=i,e=r.lib,n=e.BlockCipher,t=r.algo;let o=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var m={pbox:[],sbox:[]};function v(M,k){let P=k>>24&255,S=k>>16&255,w=k>>8&255,F=k&255,O=M.sbox[0][P]+M.sbox[1][S];return O=O^M.sbox[2][w],O=O+M.sbox[3][F],O}function p(M,k,P){let S=k,w=P,F;for(let O=0;O<o;++O)S=S^M.pbox[O],w=v(M,S)^w,F=S,S=w,w=F;return F=S,S=w,w=F,w=w^M.pbox[o],S=S^M.pbox[o+1],{left:S,right:w}}function y(M,k,P){let S=k,w=P,F;for(let O=o+1;O>1;--O)S=S^M.pbox[O],w=v(M,S)^w,F=S,S=w,w=F;return F=S,S=w,w=F,w=w^M.pbox[1],S=S^M.pbox[0],{left:S,right:w}}function C(M,k,P){for(let N=0;N<4;N++){M.sbox[N]=[];for(let R=0;R<256;R++)M.sbox[N][R]=d[N][R]}let S=0;for(let N=0;N<o+2;N++)M.pbox[N]=l[N]^k[S],S++,S>=P&&(S=0);let w=0,F=0,O=0;for(let N=0;N<o+2;N+=2)O=p(M,w,F),w=O.left,F=O.right,M.pbox[N]=w,M.pbox[N+1]=F;for(let N=0;N<4;N++)for(let R=0;R<256;R+=2)O=p(M,w,F),w=O.left,F=O.right,M.sbox[N][R]=w,M.sbox[N][R+1]=F;return!0}var E=t.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var M=this._keyPriorReset=this._key,k=M.words,P=M.sigBytes/4;C(m,k,P)}},encryptBlock:function(M,k){var P=p(m,M[k],M[k+1]);M[k]=P.left,M[k+1]=P.right},decryptBlock:function(M,k){var P=y(m,M[k],M[k+1]);M[k]=P.left,M[k+1]=P.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=n._createHelper(E)}(),i.Blowfish})});var _h=Pe((Ha,gh)=>{"use strict";(function(i,r,e){typeof Ha=="object"?gh.exports=Ha=r(Fe(),jr(),hm(),fm(),ji(),vm(),Hi(),rc(),pa(),Sm(),oc(),Mm(),Tm(),Im(),Ca(),Fm(),yi(),pt(),Rm(),Lm(),jm(),Wm(),Gm(),$m(),Qm(),Zm(),Xm(),th(),nh(),oh(),sh(),ch(),uh(),hh(),fh()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],r):i.CryptoJS=r(i.CryptoJS)})(Ha,function(i){return i})});var cc=Pe((sc,lc)=>{"use strict";(function(i,r){typeof define=="function"&&define.amd?define([],r):typeof sc<"u"?r():(r(),i.FileSaver={})})(sc,function(){"use strict";function i(d,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,m,v){var p=new XMLHttpRequest;p.open("GET",d),p.responseType="blob",p.onload=function(){l(p.response,m,v)},p.onerror=function(){console.error("could not download file")},p.send()}function e(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function n(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var t=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=t.saveAs||(typeof window!="object"||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(d,m,v){var p=t.URL||t.webkitURL,y=document.createElement("a");m=m||d.name||"download",y.download=m,y.rel="noopener",typeof d=="string"?(y.href=d,y.origin===location.origin?n(y):e(y.href)?r(d,m,v):n(y,y.target="_blank")):(y.href=p.createObjectURL(d),setTimeout(function(){p.revokeObjectURL(y.href)},4e4),setTimeout(function(){n(y)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,v){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(i(d,v),m);else if(e(d))r(d,m,v);else{var p=document.createElement("a");p.href=d,p.target="_blank",setTimeout(function(){n(p)})}}:function(d,m,v,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof d=="string")return r(d,m,v);var y=d.type==="application/octet-stream",C=/constructor/i.test(t.HTMLElement)||t.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||y&&C||o)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var S=M.result;S=E?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=S:location=S,p=null},M.readAsDataURL(d)}else{var k=t.URL||t.webkitURL,P=k.createObjectURL(d);p?p.location=P:location.href=P,p=null,setTimeout(function(){k.revokeObjectURL(P)},4e4)}});t.saveAs=l.saveAs=l,typeof lc<"u"&&(lc.exports=l)})});var $n=class{},Jn=class{},jt=class i{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let t=e.slice(0,n),o=t.toLowerCase(),l=e.slice(n+1).trim();this.maybeSetNormalizedName(t,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){let e=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,e);let t=(r.op==="a"?this.headers.get(e):void 0)||[];t.push(...n),this.headers.set(e,t);break;case"d":let o=r.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let l=this.headers.get(e);if(!l)return;l=l.filter(d=>o.indexOf(d)===-1),l.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}break}}setHeaderEntries(r,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),t=r.toLowerCase();this.headers.set(t,n),this.maybeSetNormalizedName(r,t)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}};var ws=class{encodeKey(r){return Ad(r)}encodeValue(r){return Ad(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function rf(i,r){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(t=>{let o=t.indexOf("="),[l,d]=o==-1?[r.decodeKey(t),""]:[r.decodeKey(t.slice(0,o)),r.decodeValue(t.slice(o+1))],m=e.get(l)||[];m.push(d),e.set(l,m)}),e}var of=/%(\d[a-f0-9])/gi,af={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ad(i){return encodeURIComponent(i).replace(of,(r,e)=>af[e]??r)}function mo(i){return`${i}`}var ye=class i{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new ws,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=rf(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{let n=r.fromObject[e],t=Array.isArray(n)?n.map(mo):[mo(n)];this.map.set(e,t)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){let e=[];return Object.keys(r).forEach(n=>{let t=r[n];Array.isArray(t)?t.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:t,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let e=this.encoder.encodeKey(r);return this.map.get(r).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let e=(r.op==="a"?this.map.get(r.param):void 0)||[];e.push(mo(r.value)),this.map.set(r.param,e);break;case"d":if(r.value!==void 0){let n=this.map.get(r.param)||[],t=n.indexOf(mo(r.value));t!==-1&&n.splice(t,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}};var Es=class{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function sf(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Id(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function kd(i){return typeof Blob<"u"&&i instanceof Blob}function Pd(i){return typeof FormData<"u"&&i instanceof FormData}function lf(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var qn=class i{constructor(r,e,n,t){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase();let o;if(sf(this.method)||t?(this.body=n!==void 0?n:null,o=t):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new jt,this.context??=new Es,!this.params)this.params=new ye,this.urlWithParams=e;else{let l=this.params.toString();if(l.length===0)this.urlWithParams=e;else{let d=e.indexOf("?"),m=d===-1?"?":d<e.length-1?"&":"";this.urlWithParams=e+m+l}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Id(this.body)||kd(this.body)||Pd(this.body)||lf(this.body)?this.body:this.body instanceof ye?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Pd(this.body)?null:kd(this.body)?this.body.type||null:Id(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ye?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let e=r.method||this.method,n=r.url||this.url,t=r.responseType||this.responseType,o=r.transferCache??this.transferCache,l=r.body!==void 0?r.body:this.body,d=r.withCredentials??this.withCredentials,m=r.reportProgress??this.reportProgress,v=r.headers||this.headers,p=r.params||this.params,y=r.context??this.context;return r.setHeaders!==void 0&&(v=Object.keys(r.setHeaders).reduce((C,E)=>C.set(E,r.setHeaders[E]),v)),r.setParams&&(p=Object.keys(r.setParams).reduce((C,E)=>C.set(E,r.setParams[E]),p)),new i(e,n,l,{params:p,headers:v,context:y,reportProgress:m,responseType:t,withCredentials:d,transferCache:o})}},ki=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(ki||{}),Qn=class{constructor(r,e=Zn.Ok,n="OK"){this.headers=r.headers||new jt,this.status=r.status!==void 0?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},ho=class i extends Qn{constructor(r={}){super(r),this.type=ki.ResponseHeader}clone(r={}){return new i({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Kn=class i extends Qn{constructor(r={}){super(r),this.type=ki.Response,this.body=r.body!==void 0?r.body:null}clone(r={}){return new i({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Ii=class extends Qn{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},Zn=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(Zn||{});function xs(i,r){return{body:r,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var se=(()=>{class i{constructor(e){this.handler=e}request(e,n,t={}){let o;if(e instanceof qn)o=e;else{let m;t.headers instanceof jt?m=t.headers:m=new jt(t.headers);let v;t.params&&(t.params instanceof ye?v=t.params:v=new ye({fromObject:t.params})),o=new qn(e,n,t.body!==void 0?t.body:null,{headers:m,context:t.context,params:v,reportProgress:t.reportProgress,responseType:t.responseType||"json",withCredentials:t.withCredentials,transferCache:t.transferCache})}let l=ae(o).pipe(Si(m=>this.handler.handle(m)));if(e instanceof qn||t.observe==="events")return l;let d=l.pipe(kt(m=>m instanceof Kn));switch(t.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe(we(m=>{if(m.body!==null&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return d.pipe(we(m=>{if(m.body!==null&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return d.pipe(we(m=>{if(m.body!==null&&typeof m.body!="string")throw new Error("Response is not a string.");return m.body}));case"json":default:return d.pipe(we(m=>m.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${t.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new ye().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,t={}){return this.request("PATCH",e,xs(t,n))}post(e,n,t={}){return this.request("POST",e,xs(t,n))}put(e,n,t={}){return this.request("PUT",e,xs(t,n))}static{this.\u0275fac=function(n){return new(n||i)(L($n))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),cf=/^\)\]\}',?\n/,df="X-Request-URL";function Fd(i){if(i.url)return i.url;let r=df.toLocaleLowerCase();return i.headers.get(r)}var Ss=(()=>{class i{constructor(){this.fetchImpl=ee(Ms,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=ee(Re)}handle(e){return new ui(n=>{let t=new AbortController;return this.doRequest(e,t.signal,n).then(Ds,o=>n.error(new Ii({error:o}))),()=>t.abort()})}doRequest(e,n,t){return Bn(this,null,function*(){let o=this.createRequestInit(e),l;try{let E=this.fetchImpl(e.urlWithParams,q({signal:n},o));uf(E),t.next({type:ki.Sent}),l=yield E}catch(E){t.error(new Ii({error:E,status:E.status??0,statusText:E.statusText,url:e.urlWithParams,headers:E.headers}));return}let d=new jt(l.headers),m=l.statusText,v=Fd(l)??e.urlWithParams,p=l.status,y=null;if(e.reportProgress&&t.next(new ho({headers:d,status:p,statusText:m,url:v})),l.body){let E=l.headers.get("content-length"),M=[],k=l.body.getReader(),P=0,S,w,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Bn(this,null,function*(){for(;;){let{done:N,value:R}=yield k.read();if(N)break;if(M.push(R),P+=R.length,e.reportProgress){w=e.responseType==="text"?(w??"")+(S??=new TextDecoder).decode(R,{stream:!0}):void 0;let X=()=>t.next({type:ki.DownloadProgress,total:E?+E:void 0,loaded:P,partialText:w});F?F.run(X):X()}}}));let O=this.concatChunks(M,P);try{let N=l.headers.get("Content-Type")??"";y=this.parseBody(e,O,N)}catch(N){t.error(new Ii({error:N,headers:new jt(l.headers),status:l.status,statusText:l.statusText,url:Fd(l)??e.urlWithParams}));return}}p===0&&(p=y?Zn.Ok:0),p>=200&&p<300?(t.next(new Kn({body:y,headers:d,status:p,statusText:m,url:v})),t.complete()):t.error(new Ii({error:y,headers:d,status:p,statusText:m,url:v}))})}parseBody(e,n,t){switch(e.responseType){case"json":let o=new TextDecoder().decode(n).replace(cf,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:t});case"arraybuffer":return n.buffer}}createRequestInit(e){let n={},t=e.withCredentials?"include":void 0;if(e.headers.forEach((o,l)=>n[o]=l.join(",")),n.Accept??="application/json, text/plain, */*",!n["Content-Type"]){let o=e.detectContentTypeHeader();o!==null&&(n["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:n,credentials:t}}concatChunks(e,n){let t=new Uint8Array(n),o=0;for(let l of e)t.set(l,o),o+=l.length;return t}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Ms=class{};function Ds(){}function uf(i){i.then(Ds,Ds)}function Rd(i,r){return r(i)}function mf(i,r){return(e,n)=>r.intercept(e,{handle:t=>i(t,n)})}function hf(i,r,e){return(n,t)=>ti(e,()=>r(n,o=>i(o,t)))}var Ts=new Ae(""),As=new Ae(""),pf=new Ae(""),Vd=new Ae("");function ff(){let i=null;return(r,e)=>{i===null&&(i=(ee(Ts,{optional:!0})??[]).reduceRight(mf,Rd));let n=ee(Wn),t=n.add();return i(r,e).pipe(wi(()=>n.remove(t)))}}var Od=(()=>{class i extends $n{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=ee(Wn);let t=ee(Vd,{optional:!0});this.backend=t??e}handle(e){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(As),...this.injector.get(pf,[])]));this.chain=t.reduceRight((o,l)=>hf(o,l,this.injector),Rd)}let n=this.pendingTasks.add();return this.chain(e,t=>this.backend.handle(t)).pipe(wi(()=>this.pendingTasks.remove(n)))}static{this.\u0275fac=function(n){return new(n||i)(L(Jn),L(Yt))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();var gf=/^\)\]\}',?\n/;function _f(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var Nd=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Le(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?Ct(n.\u0275loadImpl()):ae(null)).pipe(et(()=>new ui(o=>{let l=n.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((k,P)=>l.setRequestHeader(k,P.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let k=e.detectContentTypeHeader();k!==null&&l.setRequestHeader("Content-Type",k)}if(e.responseType){let k=e.responseType.toLowerCase();l.responseType=k!=="json"?k:"text"}let d=e.serializeBody(),m=null,v=()=>{if(m!==null)return m;let k=l.statusText||"OK",P=new jt(l.getAllResponseHeaders()),S=_f(l)||e.url;return m=new ho({headers:P,status:l.status,statusText:k,url:S}),m},p=()=>{let{headers:k,status:P,statusText:S,url:w}=v(),F=null;P!==Zn.NoContent&&(F=typeof l.response>"u"?l.responseText:l.response),P===0&&(P=F?Zn.Ok:0);let O=P>=200&&P<300;if(e.responseType==="json"&&typeof F=="string"){let N=F;F=F.replace(gf,"");try{F=F!==""?JSON.parse(F):null}catch(R){F=N,O&&(O=!1,F={error:R,text:F})}}O?(o.next(new Kn({body:F,headers:k,status:P,statusText:S,url:w||void 0})),o.complete()):o.error(new Ii({error:F,headers:k,status:P,statusText:S,url:w||void 0}))},y=k=>{let{url:P}=v(),S=new Ii({error:k,status:l.status||0,statusText:l.statusText||"Unknown Error",url:P||void 0});o.error(S)},C=!1,E=k=>{C||(o.next(v()),C=!0);let P={type:ki.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(P.total=k.total),e.responseType==="text"&&l.responseText&&(P.partialText=l.responseText),o.next(P)},M=k=>{let P={type:ki.UploadProgress,loaded:k.loaded};k.lengthComputable&&(P.total=k.total),o.next(P)};return l.addEventListener("load",p),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),e.reportProgress&&(l.addEventListener("progress",E),d!==null&&l.upload&&l.upload.addEventListener("progress",M)),l.send(d),o.next({type:ki.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",p),l.removeEventListener("timeout",y),e.reportProgress&&(l.removeEventListener("progress",E),d!==null&&l.upload&&l.upload.removeEventListener("progress",M)),l.readyState!==l.DONE&&l.abort()}})))}static{this.\u0275fac=function(n){return new(n||i)(L(lo))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Ld=new Ae(""),vf="XSRF-TOKEN",bf=new Ae("",{providedIn:"root",factory:()=>vf}),yf="X-XSRF-TOKEN",Cf=new Ae("",{providedIn:"root",factory:()=>yf}),po=class{},xf=(()=>{class i{constructor(e,n,t){this.doc=e,this.platform=n,this.cookieName=t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ao(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(n){return new(n||i)(L(Ze),L(ni),L(bf))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();function Sf(i,r){let e=i.url.toLowerCase();if(!ee(Ld)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return r(i);let n=ee(po).getToken(),t=ee(Cf);return n!=null&&!i.headers.has(t)&&(i=i.clone({headers:i.headers.set(t,n)})),r(i)}var Is=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Is||{});function Ud(i,r){return{\u0275kind:i,\u0275providers:r}}function ks(...i){let r=[se,Nd,Od,{provide:$n,useExisting:Od},{provide:Jn,useExisting:Nd},{provide:As,useValue:Sf,multi:!0},{provide:Ld,useValue:!0},{provide:po,useClass:xf}];for(let e of i)r.push(...e.\u0275providers);return Di(r)}var Bd=new Ae("");function wf(){return Ud(Is.LegacyInterceptors,[{provide:Bd,useFactory:ff},{provide:As,useExisting:Bd,multi:!0}])}function jd(){return Ud(Is.Fetch,[Ss,{provide:Jn,useExisting:Ss},{provide:Vd,useExisting:Ss}])}var Hd=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({providers:[ks(wf())]})}}return i})();var Os=class extends Cd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ns=class i extends Os{static makeCurrent(){yd(new i)}onAndCancel(r,e,n){return r.addEventListener(e,n),()=>{r.removeEventListener(e,n)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return e=e||this.getDefaultDocument(),e.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return e==="window"?window:e==="document"?r:e==="body"?r.body:null}getBaseHref(r){let e=Mf();return e==null?null:Df(e)}resetBaseElement(){Yn=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return ao(document.cookie,r)}},Yn=null;function Mf(){return Yn=Yn||document.querySelector("base"),Yn?Yn.getAttribute("href"):null}function Df(i){return new URL(i,document.baseURI).pathname}var Bs=class{addToWindow(r){Mi.getAngularTestability=(n,t=!0)=>{let o=r.findTestabilityInTree(n,t);if(o==null)throw new Le(5103,!1);return o},Mi.getAllAngularTestabilities=()=>r.getAllTestabilities(),Mi.getAllAngularRootElements=()=>r.getAllRootElements();let e=n=>{let t=Mi.getAllAngularTestabilities(),o=t.length,l=function(){o--,o==0&&n()};t.forEach(d=>{d.whenStable(l)})};Mi.frameworkStabilizers||(Mi.frameworkStabilizers=[]),Mi.frameworkStabilizers.push(e)}findTestabilityInTree(r,e,n){if(e==null)return null;let t=r.getTestability(e);return t??(n?zi().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null)}},Tf=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Rs=new Ae(""),Gd=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(t=>{t.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,t){return this._findPluginFor(n).addEventListener(e,n,t)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new Le(5101,!1);return this._eventNameToPlugin.set(e,n),n}static{this.\u0275fac=function(n){return new(n||i)(L(Rs),L(Re))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),fo=class{constructor(r){this._doc=r}},Ps="ng-app-id",qd=(()=>{class i{constructor(e,n,t,o={}){this.doc=e,this.appId=n,this.nonce=t,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=so(o),this.resetHostNodes()}addStyles(e){for(let n of e)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(e){for(let n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){let n=this.styleRef;n.get(e)?.elements?.forEach(t=>t.remove()),n.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Ps}="${this.appId}"]`);if(e?.length){let n=new Map;return e.forEach(t=>{t.textContent!=null&&n.set(t.textContent,t)}),n}return null}changeUsageCount(e,n){let t=this.styleRef;if(t.has(e)){let o=t.get(e);return o.usage+=n,o.usage}return t.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){let t=this.styleNodesInDOM,o=t?.get(n);if(o?.parentNode===e)return t.delete(n),o.removeAttribute(Ps),o;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=n,this.platformIsServer&&l.setAttribute(Ps,this.appId),e.appendChild(l),l}}addStyleToHost(e,n){let t=this.getStyleElement(e,n),o=this.styleRef,l=o.get(n)?.elements;l?l.push(t):o.set(n,{elements:[t],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||i)(L(Ze),L(Ln),L(Un,8),L(ni))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Fs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Us=/%COMP%/g,$d="%COMP%",Af=`_nghost-${$d}`,If=`_ngcontent-${$d}`,kf=!0,Pf=new Ae("",{providedIn:"root",factory:()=>kf});function Ff(i){return If.replace(Us,i)}function Of(i){return Af.replace(Us,i)}function Jd(i,r){return r.map(e=>e.replace(Us,i))}var go=(()=>{class i{constructor(e,n,t,o,l,d,m,v=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=t,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=d,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=so(d),this.defaultRenderer=new Xn(e,l,m,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Vn.ShadowDom&&(n=De(q({},n),{encapsulation:Vn.Emulated}));let t=this.getOrCreateRenderer(e,n);return t instanceof _o?t.applyToHost(e):t instanceof er&&t.applyStyles(),t}getOrCreateRenderer(e,n){let t=this.rendererByCompId,o=t.get(n.id);if(!o){let l=this.doc,d=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(n.encapsulation){case Vn.Emulated:o=new _o(m,v,n,this.appId,p,l,d,y);break;case Vn.ShadowDom:return new Vs(m,v,e,n,l,d,this.nonce,y);default:o=new er(m,v,n,p,l,d,y);break}t.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||i)(L(Gd),L(qd),L(Ln),L(Pf),L(Ze),L(ni),L(Re),L(Un))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Xn=class{constructor(r,e,n,t){this.eventManager=r,this.doc=e,this.ngZone=n,this.platformIsServer=t,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,e){return e?this.doc.createElementNS(Fs[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(Wd(r)?r.content:r).appendChild(e)}insertBefore(r,e,n){r&&(Wd(r)?r.content:r).insertBefore(e,n)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new Le(-5104,!1);return e||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,n,t){if(t){e=t+":"+e;let o=Fs[t];o?r.setAttributeNS(o,e,n):r.setAttribute(e,n)}else r.setAttribute(e,n)}removeAttribute(r,e,n){if(n){let t=Fs[n];t?r.removeAttributeNS(t,e):r.removeAttribute(`${n}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,n,t){t&(jn.DashCase|jn.Important)?r.style.setProperty(e,n,t&jn.Important?"important":""):r.style[e]=n}removeStyle(r,e,n){n&jn.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,n){r!=null&&(r[e]=n)}setValue(r,e){r.nodeValue=e}listen(r,e,n){if(typeof r=="string"&&(r=zi().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${e}`);return this.eventManager.addEventListener(r,e,this.decoratePreventDefault(n))}decoratePreventDefault(r){return e=>{if(e==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(e)):r(e))===!1&&e.preventDefault()}}};function Wd(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Vs=class extends Xn{constructor(r,e,n,t,o,l,d,m){super(r,o,l,m),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=Jd(t.id,t.styles);for(let p of v){let y=document.createElement("style");d&&y.setAttribute("nonce",d),y.textContent=p,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,n){return super.insertBefore(this.nodeOrShadowRoot(r),e,n)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},er=class extends Xn{constructor(r,e,n,t,o,l,d,m){super(r,o,l,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=t,this.styles=m?Jd(m,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},_o=class extends er{constructor(r,e,n,t,o,l,d,m){let v=t+"-"+n.id;super(r,e,n,o,l,d,m,v),this.contentAttr=Ff(v),this.hostAttr=Of(v)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){let n=super.createElement(r,e);return super.setAttribute(n,this.contentAttr,""),n}},Nf=(()=>{class i extends fo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,t){return e.addEventListener(n,t,!1),()=>this.removeEventListener(e,n,t)}removeEventListener(e,n,t){return e.removeEventListener(n,t)}static{this.\u0275fac=function(n){return new(n||i)(L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),zd=["alt","control","meta","shift"],Bf={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rf={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Vf=(()=>{class i extends fo{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,t){let o=i.parseEventName(n),l=i.eventCallback(o.fullKey,t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zi().onAndCancel(e,o.domEventName,l))}static parseEventName(e){let n=e.toLowerCase().split("."),t=n.shift();if(n.length===0||!(t==="keydown"||t==="keyup"))return null;let o=i._normalizeKey(n.pop()),l="",d=n.indexOf("code");if(d>-1&&(n.splice(d,1),l="code."),zd.forEach(v=>{let p=n.indexOf(v);p>-1&&(n.splice(p,1),l+=v+".")}),l+=o,n.length!=0||o.length===0)return null;let m={};return m.domEventName=t,m.fullKey=l,m}static matchEventFullKeyCode(e,n){let t=Bf[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(t=e.code,o="code."),t==null||!t?!1:(t=t.toLowerCase(),t===" "?t="space":t==="."&&(t="dot"),zd.forEach(l=>{if(l!==t){let d=Rf[l];d(e)&&(o+=l+".")}}),o+=t,o===n)}static eventCallback(e,n,t){return o=>{i.matchEventFullKeyCode(o,e)&&t.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(n){return new(n||i)(L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();function Lf(){Ns.makeCurrent()}function Uf(){return new os}function jf(){return ed(document),document}var Hf=[{provide:ni,useValue:Md},{provide:td,useValue:Lf,multi:!0},{provide:Ze,useFactory:jf,deps:[]}],Qd=gd(_d,"browser",Hf),Wf=new Ae(""),zf=[{provide:to,useClass:Bs,deps:[]},{provide:fd,useClass:io,deps:[Re,gs,to]},{provide:io,useClass:io,deps:[Re,gs,to]}],Gf=[{provide:Xc,useValue:"root"},{provide:os,useFactory:Uf,deps:[]},{provide:Rs,useClass:Nf,multi:!0,deps:[Ze,Re,ni]},{provide:Rs,useClass:Vf,multi:!0,deps:[Ze]},go,qd,Gd,{provide:Zr,useExisting:go},{provide:lo,useClass:Tf,deps:[]},[]],Kd=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:Ln,useValue:e.appId}]}}static{this.\u0275fac=function(n){return new(n||i)(L(Wf,12))}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({providers:[...Gf,...zf],imports:[Ed,vd]})}}return i})();var Zd=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(n){return new(n||i)(L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var js=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:function(n){let t=null;return n?t=new(n||i):t=L(qf),t},providedIn:"root"})}}return i})(),qf=(()=>{class i extends js{constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case pi.NONE:return n;case pi.HTML:return rn(n,"HTML")?nn(n):ld(this._doc,String(n)).toString();case pi.STYLE:return rn(n,"Style")?nn(n):n;case pi.SCRIPT:if(rn(n,"Script"))return nn(n);throw new Le(5200,!1);case pi.URL:return rn(n,"URL")?nn(n):sd(String(n));case pi.RESOURCE_URL:if(rn(n,"ResourceURL"))return nn(n);throw new Le(5201,!1);default:throw new Le(5202,!1)}}bypassSecurityTrustHtml(e){return id(e)}bypassSecurityTrustStyle(e){return nd(e)}bypassSecurityTrustScript(e){return rd(e)}bypassSecurityTrustUrl(e){return od(e)}bypassSecurityTrustResourceUrl(e){return ad(e)}static{this.\u0275fac=function(n){return new(n||i)(L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ee="primary",fr=Symbol("RouteTitle"),$s=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function hn(i){return new $s(i)}function Jf(i,r,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<i.length))return null;let t={};for(let o=0;o<n.length;o++){let l=n[o],d=i[o];if(l.startsWith(":"))t[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:i.slice(0,n.length),posParams:t}}function Qf(i,r){if(i.length!==r.length)return!1;for(let e=0;e<i.length;++e)if(!li(i[e],r[e]))return!1;return!0}function li(i,r){let e=i?Js(i):void 0,n=r?Js(r):void 0;if(!e||!n||e.length!=n.length)return!1;let t;for(let o=0;o<e.length;o++)if(t=e[o],!a0(i[t],r[t]))return!1;return!0}function Js(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function a0(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;let e=[...i].sort(),n=[...r].sort();return e.every((t,o)=>n[o]===t)}else return i===r}function s0(i){return i.length>0?i[i.length-1]:null}function Ni(i){return Hc(i)?i:no(i)?Ct(Promise.resolve(i)):ae(i)}var Kf={exact:c0,subset:d0},l0={exact:Zf,subset:Yf,ignored:()=>!0};function Yd(i,r,e){return Kf[e.paths](i.root,r.root,e.matrixParams)&&l0[e.queryParams](i.queryParams,r.queryParams)&&!(e.fragment==="exact"&&i.fragment!==r.fragment)}function Zf(i,r){return li(i,r)}function c0(i,r,e){if(!qi(i.segments,r.segments)||!yo(i.segments,r.segments,e)||i.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!i.children[n]||!c0(i.children[n],r.children[n],e))return!1;return!0}function Yf(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(e=>a0(i[e],r[e]))}function d0(i,r,e){return u0(i,r,r.segments,e)}function u0(i,r,e,n){if(i.segments.length>e.length){let t=i.segments.slice(0,e.length);return!(!qi(t,e)||r.hasChildren()||!yo(t,e,n))}else if(i.segments.length===e.length){if(!qi(i.segments,e)||!yo(i.segments,e,n))return!1;for(let t in r.children)if(!i.children[t]||!d0(i.children[t],r.children[t],n))return!1;return!0}else{let t=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!qi(i.segments,t)||!yo(i.segments,t,n)||!i.children[Ee]?!1:u0(i.children[Ee],r,o,n)}}function yo(i,r,e){return r.every((n,t)=>l0[e](i[t].parameters,n.parameters))}var Pi=class{constructor(r=new Ue([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return tg.serialize(this)}},Ue=class{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Co(this)}},Gi=class{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=hn(this.parameters),this._parameterMap}toString(){return h0(this)}};function Xf(i,r){return qi(i,r)&&i.every((e,n)=>li(e.parameters,r[n].parameters))}function qi(i,r){return i.length!==r.length?!1:i.every((e,n)=>e.path===r[n].path)}function eg(i,r){let e=[];return Object.entries(i.children).forEach(([n,t])=>{n===Ee&&(e=e.concat(r(t,n)))}),Object.entries(i.children).forEach(([n,t])=>{n!==Ee&&(e=e.concat(r(t,n)))}),e}var gr=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>new sr,providedIn:"root"})}}return i})(),sr=class{parse(r){let e=new Ks(r);return new Pi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${tr(r.root,!0)}`,n=rg(r.queryParams),t=typeof r.fragment=="string"?`#${ig(r.fragment)}`:"";return`${e}${n}${t}`}},tg=new sr;function Co(i){return i.segments.map(r=>h0(r)).join("/")}function tr(i,r){if(!i.hasChildren())return Co(i);if(r){let e=i.children[Ee]?tr(i.children[Ee],!1):"",n=[];return Object.entries(i.children).forEach(([t,o])=>{t!==Ee&&n.push(`${t}:${tr(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=eg(i,(n,t)=>t===Ee?[tr(i.children[Ee],!1)]:[`${t}:${tr(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[Ee]!=null?`${Co(i)}/${e[0]}`:`${Co(i)}/(${e.join("//")})`}}function m0(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vo(i){return m0(i).replace(/%3B/gi,";")}function ig(i){return encodeURI(i)}function Qs(i){return m0(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xo(i){return decodeURIComponent(i)}function Xd(i){return xo(i.replace(/\+/g,"%20"))}function h0(i){return`${Qs(i.path)}${ng(i.parameters)}`}function ng(i){return Object.entries(i).map(([r,e])=>`;${Qs(r)}=${Qs(e)}`).join("")}function rg(i){let r=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(t=>`${vo(e)}=${vo(t)}`).join("&"):`${vo(e)}=${vo(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var og=/^[^\/()?;#]+/;function Ws(i){let r=i.match(og);return r?r[0]:""}var ag=/^[^\/()?;=#]+/;function sg(i){let r=i.match(ag);return r?r[0]:""}var lg=/^[^=?&#]+/;function cg(i){let r=i.match(lg);return r?r[0]:""}var dg=/^[^&#]+/;function ug(i){let r=i.match(dg);return r?r[0]:""}var Ks=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n[Ee]=new Ue(r,e)),n}parseSegment(){let r=Ws(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new Le(4009,!1);return this.capture(r),new Gi(xo(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=sg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let t=Ws(this.remaining);t&&(n=t,this.capture(n))}r[xo(e)]=xo(n)}parseQueryParam(r){let e=cg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let l=ug(this.remaining);l&&(n=l,this.capture(n))}let t=Xd(e),o=Xd(n);if(r.hasOwnProperty(t)){let l=r[t];Array.isArray(l)||(l=[l],r[t]=l),l.push(o)}else r[t]=o}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Ws(this.remaining),t=this.remaining[n.length];if(t!=="/"&&t!==")"&&t!==";")throw new Le(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=Ee);let l=this.parseChildren();e[o]=Object.keys(l).length===1?l[Ee]:new Ue([],l),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new Le(4011,!1)}};function p0(i){return i.segments.length>0?new Ue([],{[Ee]:i}):i}function f0(i){let r={};for(let[n,t]of Object.entries(i.children)){let o=f0(t);if(n===Ee&&o.segments.length===0&&o.hasChildren())for(let[l,d]of Object.entries(o.children))r[l]=d;else(o.segments.length>0||o.hasChildren())&&(r[n]=o)}let e=new Ue(i.segments,r);return mg(e)}function mg(i){if(i.numberOfChildren===1&&i.children[Ee]){let r=i.children[Ee];return new Ue(i.segments.concat(r.segments),r.children)}return i}function pn(i){return i instanceof Pi}function hg(i,r,e=null,n=null){let t=g0(i);return _0(t,r,e,n)}function g0(i){let r;function e(o){let l={};for(let m of o.children){let v=e(m);l[m.outlet]=v}let d=new Ue(o.url,l);return o===i&&(r=d),d}let n=e(i.root),t=p0(n);return r??t}function _0(i,r,e,n){let t=i;for(;t.parent;)t=t.parent;if(r.length===0)return zs(t,t,t,e,n);let o=pg(r);if(o.toRoot())return zs(t,t,new Ue([],{}),e,n);let l=fg(o,t,i),d=l.processChildren?rr(l.segmentGroup,l.index,o.commands):b0(l.segmentGroup,l.index,o.commands);return zs(t,l.segmentGroup,d,e,n)}function So(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function lr(i){return typeof i=="object"&&i!=null&&i.outlets}function zs(i,r,e,n,t){let o={};n&&Object.entries(n).forEach(([m,v])=>{o[m]=Array.isArray(v)?v.map(p=>`${p}`):`${v}`});let l;i===r?l=e:l=v0(i,r,e);let d=p0(f0(l));return new Pi(d,o,t)}function v0(i,r,e){let n={};return Object.entries(i.children).forEach(([t,o])=>{o===r?n[t]=e:n[t]=v0(o,r,e)}),new Ue(i.segments,n)}var wo=class{constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&So(n[0]))throw new Le(4003,!1);let t=n.find(lr);if(t&&t!==s0(n))throw new Le(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pg(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new wo(!0,0,i);let r=0,e=!1,n=i.reduce((t,o,l)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let d={};return Object.entries(o.outlets).forEach(([m,v])=>{d[m]=typeof v=="string"?v.split("/"):v}),[...t,{outlets:d}]}if(o.segmentPath)return[...t,o.segmentPath]}return typeof o!="string"?[...t,o]:l===0?(o.split("/").forEach((d,m)=>{m==0&&d==="."||(m==0&&d===""?e=!0:d===".."?r++:d!=""&&t.push(d))}),t):[...t,o]},[]);return new wo(e,r,n)}var un=class{constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function fg(i,r,e){if(i.isAbsolute)return new un(r,!0,0);if(!e)return new un(r,!1,NaN);if(e.parent===null)return new un(e,!0,0);let n=So(i.commands[0])?0:1,t=e.segments.length-1+n;return gg(e,t,i.numberOfDoubleDots)}function gg(i,r,e){let n=i,t=r,o=e;for(;o>t;){if(o-=t,n=n.parent,!n)throw new Le(4005,!1);t=n.segments.length}return new un(n,!1,t-o)}function _g(i){return lr(i[0])?i[0].outlets:{[Ee]:i}}function b0(i,r,e){if(i??=new Ue([],{}),i.segments.length===0&&i.hasChildren())return rr(i,r,e);let n=vg(i,r,e),t=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new Ue(i.segments.slice(0,n.pathIndex),{});return o.children[Ee]=new Ue(i.segments.slice(n.pathIndex),i.children),rr(o,0,t)}else return n.match&&t.length===0?new Ue(i.segments,{}):n.match&&!i.hasChildren()?Zs(i,r,e):n.match?rr(i,0,t):Zs(i,r,e)}function rr(i,r,e){if(e.length===0)return new Ue(i.segments,{});{let n=_g(e),t={};if(Object.keys(n).some(o=>o!==Ee)&&i.children[Ee]&&i.numberOfChildren===1&&i.children[Ee].segments.length===0){let o=rr(i.children[Ee],r,e);return new Ue(i.segments,o.children)}return Object.entries(n).forEach(([o,l])=>{typeof l=="string"&&(l=[l]),l!==null&&(t[o]=b0(i.children[o],r,l))}),Object.entries(i.children).forEach(([o,l])=>{n[o]===void 0&&(t[o]=l)}),new Ue(i.segments,t)}}function vg(i,r,e){let n=0,t=r,o={match:!1,pathIndex:0,commandIndex:0};for(;t<i.segments.length;){if(n>=e.length)return o;let l=i.segments[t],d=e[n];if(lr(d))break;let m=`${d}`,v=n<e.length-1?e[n+1]:null;if(t>0&&m===void 0)break;if(m&&v&&typeof v=="object"&&v.outlets===void 0){if(!t0(m,v,l))return o;n+=2}else{if(!t0(m,{},l))return o;n++}t++}return{match:!0,pathIndex:t,commandIndex:n}}function Zs(i,r,e){let n=i.segments.slice(0,r),t=0;for(;t<e.length;){let o=e[t];if(lr(o)){let m=bg(o.outlets);return new Ue(n,m)}if(t===0&&So(e[0])){let m=i.segments[r];n.push(new Gi(m.path,e0(e[0]))),t++;continue}let l=lr(o)?o.outlets[Ee]:`${o}`,d=t<e.length-1?e[t+1]:null;l&&d&&So(d)?(n.push(new Gi(l,e0(d))),t+=2):(n.push(new Gi(l,{})),t++)}return new Ue(n,{})}function bg(i){let r={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=Zs(new Ue([],{}),0,n))}),r}function e0(i){let r={};return Object.entries(i).forEach(([e,n])=>r[e]=`${n}`),r}function t0(i,r,e){return i==e.path&&li(r,e.parameters)}var or="imperative",yt=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(yt||{}),Jt=class{constructor(r,e){this.id=r,this.url=e}},fn=class extends Jt{constructor(r,e,n="imperative",t=null){super(r,e),this.type=yt.NavigationStart,this.navigationTrigger=n,this.restoredState=t}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends Jt{constructor(r,e,n){super(r,e),this.urlAfterRedirects=n,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Wt||{}),Eo=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Eo||{}),Fi=class extends Jt{constructor(r,e,n,t){super(r,e),this.reason=n,this.code=t,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Oi=class extends Jt{constructor(r,e,n,t){super(r,e),this.reason=n,this.code=t,this.type=yt.NavigationSkipped}},cr=class extends Jt{constructor(r,e,n,t){super(r,e),this.error=n,this.target=t,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mo=class extends Jt{constructor(r,e,n,t){super(r,e),this.urlAfterRedirects=n,this.state=t,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ys=class extends Jt{constructor(r,e,n,t){super(r,e),this.urlAfterRedirects=n,this.state=t,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xs=class extends Jt{constructor(r,e,n,t,o){super(r,e),this.urlAfterRedirects=n,this.state=t,this.shouldActivate=o,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},el=class extends Jt{constructor(r,e,n,t){super(r,e),this.urlAfterRedirects=n,this.state=t,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tl=class extends Jt{constructor(r,e,n,t){super(r,e),this.urlAfterRedirects=n,this.state=t,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class{constructor(r){this.route=r,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},nl=class{constructor(r){this.route=r,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rl=class{constructor(r){this.snapshot=r,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ol=class{constructor(r){this.snapshot=r,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},al=class{constructor(r){this.snapshot=r,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sl=class{constructor(r){this.snapshot=r,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Do=class{constructor(r,e,n){this.routerEvent=r,this.position=e,this.anchor=n,this.type=yt.Scroll}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},dr=class{},ur=class{constructor(r){this.url=r}};var ll=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _r,this.attachRef=null}},_r=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){let t=this.getOrCreateContext(e);t.outlet=n,this.contexts.set(e,t)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new ll,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),To=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=cl(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=cl(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=dl(r,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(t=>t!==r)}pathFromRoot(r){return dl(r,this._root).map(e=>e.value)}};function cl(i,r){if(i===r.value)return r;for(let e of r.children){let n=cl(i,e);if(n)return n}return null}function dl(i,r){if(i===r.value)return[r];for(let e of r.children){let n=dl(i,e);if(n.length)return n.unshift(r),n}return[]}var Ht=class{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function dn(i){let r={};return i&&i.children.forEach(e=>r[e.value.outlet]=e),r}var Ao=class extends To{constructor(r,e){super(r),this.snapshot=e,yl(this,r)}toString(){return this.snapshot.toString()}};function y0(i){let r=yg(i),e=new Bt([new Gi("",{})]),n=new Bt({}),t=new Bt({}),o=new Bt({}),l=new Bt(""),d=new dt(e,n,o,l,t,Ee,i,r.root);return d.snapshot=r.root,new Ao(new Ht(d,[]),r)}function yg(i){let r={},e={},n={},t="",o=new mr([],r,n,t,e,Ee,i,null,{});return new Io("",new Ht(o,[]))}var dt=class{constructor(r,e,n,t,o,l,d,m){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=t,this.dataSubject=o,this.outlet=l,this.component=d,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(we(v=>v[fr]))??ae(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=t,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(we(r=>hn(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(we(r=>hn(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bl(i,r,e="emptyOnly"){let n,{routeConfig:t}=i;return r!==null&&(e==="always"||t?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:q(q({},r.params),i.params),data:q(q({},r.data),i.data),resolve:q(q(q(q({},i.data),r.data),t?.data),i._resolvedData)}:n={params:q({},i.params),data:q({},i.data),resolve:q(q({},i.data),i._resolvedData??{})},t&&x0(t)&&(n.resolve[fr]=t.title),n}var mr=class{get title(){return this.data?.[fr]}constructor(r,e,n,t,o,l,d,m,v){this.url=r,this.params=e,this.queryParams=n,this.fragment=t,this.data=o,this.outlet=l,this.component=d,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},Io=class extends To{constructor(r,e){super(e),this.url=r,yl(this,e)}toString(){return C0(this._root)}};function yl(i,r){r.value._routerState=i,r.children.forEach(e=>yl(i,e))}function C0(i){let r=i.children.length>0?` { ${i.children.map(C0).join(", ")} } `:"";return`${i.value}${r}`}function Gs(i){if(i.snapshot){let r=i.snapshot,e=i._futureSnapshot;i.snapshot=e,li(r.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),li(r.params,e.params)||i.paramsSubject.next(e.params),Qf(r.url,e.url)||i.urlSubject.next(e.url),li(r.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function ul(i,r){let e=li(i.params,r.params)&&Xf(i.url,r.url),n=!i.parent!=!r.parent;return e&&!n&&(!i.parent||ul(i.parent,r.parent))}function x0(i){return typeof i.title=="string"||i.title===null}var Cl=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new wt,this.deactivateEvents=new wt,this.attachEvents=new wt,this.detachEvents=new wt,this.parentContexts=ee(_r),this.location=ee(ds),this.changeDetector=ee(ai),this.environmentInjector=ee(Yt),this.inputBinder=ee(No,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:t}=e.name;if(n)return;this.isTrackedInParentContexts(t)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(t)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Le(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Le(4013,!1);this._activatedRoute=e;let t=this.location,l=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,m=new ml(e,d,t.injector);this.activated=t.createComponent(l,{index:t.length,injector:m,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Be({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ii]})}}return i})(),ml=class i{__ngOutletInjector(r){return new i(this.route,this.childContexts,r)}constructor(r,e,n){this.route=r,this.childContexts=e,this.parent=n}get(r,e){return r===dt?this.route:r===_r?this.childContexts:this.parent.get(r,e)}},No=new Ae(""),i0=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,t=Wi([n.queryParams,n.params,n.data]).pipe(et(([o,l,d],m)=>(d=q(q(q({},o),l),d),m===0?ae(d):Promise.resolve(d)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let l=bd(n.component);if(!l){this.unsubscribeFromRouteData(e);return}for(let{templateName:d}of l.inputs)e.activatedComponentRef.setInput(d,o[d])});this.outletDataSubscriptions.set(e,t)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();function Cg(i,r,e){let n=hr(i,r._root,e?e._root:void 0);return new Ao(n,r)}function hr(i,r,e){if(e&&i.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let t=xg(i,r,e);return new Ht(n,t)}else{if(i.shouldAttach(r.value)){let o=i.retrieve(r.value);if(o!==null){let l=o.route;return l.value._futureSnapshot=r.value,l.children=r.children.map(d=>hr(i,d)),l}}let n=Sg(r.value),t=r.children.map(o=>hr(i,o));return new Ht(n,t)}}function xg(i,r,e){return r.children.map(n=>{for(let t of e.children)if(i.shouldReuseRoute(n.value,t.value.snapshot))return hr(i,n,t);return hr(i,n)})}function Sg(i){return new dt(new Bt(i.url),new Bt(i.params),new Bt(i.queryParams),new Bt(i.fragment),new Bt(i.data),i.outlet,i.component,i)}var S0="ngNavigationCancelingError";function w0(i,r){let{redirectTo:e,navigationBehaviorOptions:n}=pn(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,t=E0(!1,Wt.Redirect);return t.url=e,t.navigationBehaviorOptions=n,t}function E0(i,r){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[S0]=!0,e.cancellationCode=r,e}function wg(i){return M0(i)&&pn(i.url)}function M0(i){return!!i&&i[S0]}var Eg=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["ng-component"]],standalone:!0,features:[ri],decls:1,vars:0,template:function(n,t){n&1&&h(0,"router-outlet")},dependencies:[Cl],encapsulation:2})}}return i})();function Mg(i,r){return i.providers&&!i._injector&&(i._injector=us(i.providers,r,`Route: ${i.path}`)),i._injector??r}function xl(i){let r=i.children&&i.children.map(xl),e=r?De(q({},i),{children:r}):q({},i);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Ee&&(e.component=Eg),e}function di(i){return i.outlet||Ee}function Dg(i,r){let e=i.filter(n=>di(n)===r);return e.push(...i.filter(n=>di(n)!==r)),e}function vr(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let r=i.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Tg=(i,r,e,n)=>we(t=>(new hl(r,t.targetRouterState,t.currentRouterState,e,n).activate(i),t)),hl=class{constructor(r,e,n,t,o){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=t,this.inputBindingEnabled=o}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),Gs(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let t=dn(e);r.children.forEach(o=>{let l=o.value.outlet;this.deactivateRoutes(o,t[l],n),delete t[l]}),Object.values(t).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(r,e,n){let t=r.value,o=e?e.value:null;if(t===o)if(t.component){let l=n.getContext(t.outlet);l&&this.deactivateChildRoutes(r,e,l.children)}else this.deactivateChildRoutes(r,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),t=n&&r.value.component?n.children:e,o=dn(r);for(let l of Object.values(o))this.deactivateRouteAndItsChildren(l,t);if(n&&n.outlet){let l=n.outlet.detach(),d=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:l,route:r,contexts:d})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),t=n&&r.value.component?n.children:e,o=dn(r);for(let l of Object.values(o))this.deactivateRouteAndItsChildren(l,t);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let t=dn(e);r.children.forEach(o=>{this.activateRoutes(o,t[o.value.outlet],n),this.forwardEvent(new sl(o.value.snapshot))}),r.children.length&&this.forwardEvent(new ol(r.value.snapshot))}activateRoutes(r,e,n){let t=r.value,o=e?e.value:null;if(Gs(t),t===o)if(t.component){let l=n.getOrCreateContext(t.outlet);this.activateChildRoutes(r,e,l.children)}else this.activateChildRoutes(r,e,n);else if(t.component){let l=n.getOrCreateContext(t.outlet);if(this.routeReuseStrategy.shouldAttach(t.snapshot)){let d=this.routeReuseStrategy.retrieve(t.snapshot);this.routeReuseStrategy.store(t.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),Gs(d.route.value),this.activateChildRoutes(r,null,l.children)}else{let d=vr(t.snapshot);l.attachRef=null,l.route=t,l.injector=d,l.outlet&&l.outlet.activateWith(t,l.injector),this.activateChildRoutes(r,null,l.children)}}else this.activateChildRoutes(r,null,n)}},ko=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},mn=class{constructor(r,e){this.component=r,this.route=e}};function Ag(i,r,e){let n=i._root,t=r?r._root:null;return ir(n,t,e,[n.value])}function Ig(i){let r=i.routeConfig?i.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:i,guards:r}}function _n(i,r){let e=Symbol(),n=r.get(i,e);return n===e?typeof i=="function"&&!Zc(i)?i:r.get(i):n}function ir(i,r,e,n,t={canDeactivateChecks:[],canActivateChecks:[]}){let o=dn(r);return i.children.forEach(l=>{kg(l,o[l.value.outlet],e,n.concat([l.value]),t),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,d])=>ar(d,e.getContext(l),t)),t}function kg(i,r,e,n,t={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,l=r?r.value:null,d=e?e.getContext(i.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){let m=Pg(l,o,o.routeConfig.runGuardsAndResolvers);m?t.canActivateChecks.push(new ko(n)):(o.data=l.data,o._resolvedData=l._resolvedData),o.component?ir(i,r,d?d.children:null,n,t):ir(i,r,e,n,t),m&&d&&d.outlet&&d.outlet.isActivated&&t.canDeactivateChecks.push(new mn(d.outlet.component,l))}else l&&ar(r,d,t),t.canActivateChecks.push(new ko(n)),o.component?ir(i,null,d?d.children:null,n,t):ir(i,null,e,n,t);return t}function Pg(i,r,e){if(typeof e=="function")return e(i,r);switch(e){case"pathParamsChange":return!qi(i.url,r.url);case"pathParamsOrQueryParamsChange":return!qi(i.url,r.url)||!li(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ul(i,r)||!li(i.queryParams,r.queryParams);case"paramsChange":default:return!ul(i,r)}}function ar(i,r,e){let n=dn(i),t=i.value;Object.entries(n).forEach(([o,l])=>{t.component?r?ar(l,r.children.getContext(o),e):ar(l,null,e):ar(l,r,e)}),t.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new mn(r.outlet.component,t)):e.canDeactivateChecks.push(new mn(null,t)):e.canDeactivateChecks.push(new mn(null,t))}function br(i){return typeof i=="function"}function Fg(i){return typeof i=="boolean"}function Og(i){return i&&br(i.canLoad)}function Ng(i){return i&&br(i.canActivate)}function Bg(i){return i&&br(i.canActivateChild)}function Rg(i){return i&&br(i.canDeactivate)}function Vg(i){return i&&br(i.canMatch)}function D0(i){return i instanceof Wc||i?.name==="EmptyError"}var bo=Symbol("INITIAL_VALUE");function gn(){return et(i=>Wi(i.map(r=>r.pipe(Vt(1),Rn(bo)))).pipe(we(r=>{for(let e of r)if(e!==!0){if(e===bo)return bo;if(e===!1||e instanceof Pi)return e}return!0}),kt(r=>r!==bo),Vt(1)))}function Lg(i,r){return It(e=>{let{targetSnapshot:n,currentSnapshot:t,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return l.length===0&&o.length===0?ae(De(q({},e),{guardsResult:!0})):Ug(l,n,t,i).pipe(It(d=>d&&Fg(d)?jg(n,o,i,r):ae(d)),we(d=>De(q({},e),{guardsResult:d})))})}function Ug(i,r,e,n){return Ct(i).pipe(It(t=>qg(t.component,t.route,e,r,n)),Ei(t=>t!==!0,!0))}function jg(i,r,e,n){return Ct(r).pipe(Si(t=>Jr(Wg(t.route.parent,n),Hg(t.route,n),Gg(i,t.path,e),zg(i,t.route,e))),Ei(t=>t!==!0,!0))}function Hg(i,r){return i!==null&&r&&r(new al(i)),ae(!0)}function Wg(i,r){return i!==null&&r&&r(new rl(i)),ae(!0)}function zg(i,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return ae(!0);let t=n.map(o=>Za(()=>{let l=vr(r)??e,d=_n(o,l),m=Ng(d)?d.canActivate(r,i):ti(l,()=>d(r,i));return Ni(m).pipe(Ei())}));return ae(t).pipe(gn())}function Gg(i,r,e){let n=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(l=>Ig(l)).filter(l=>l!==null).map(l=>Za(()=>{let d=l.guards.map(m=>{let v=vr(l.node)??e,p=_n(m,v),y=Bg(p)?p.canActivateChild(n,i):ti(v,()=>p(n,i));return Ni(y).pipe(Ei())});return ae(d).pipe(gn())}));return ae(o).pipe(gn())}function qg(i,r,e,n,t){let o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let l=o.map(d=>{let m=vr(r)??t,v=_n(d,m),p=Rg(v)?v.canDeactivate(i,r,e,n):ti(m,()=>v(i,r,e,n));return Ni(p).pipe(Ei())});return ae(l).pipe(gn())}function $g(i,r,e,n){let t=r.canLoad;if(t===void 0||t.length===0)return ae(!0);let o=t.map(l=>{let d=_n(l,i),m=Og(d)?d.canLoad(r,e):ti(i,()=>d(r,e));return Ni(m)});return ae(o).pipe(gn(),T0(n))}function T0(i){return jc(ht(r=>{if(pn(r))throw w0(i,r)}),we(r=>r===!0))}function Jg(i,r,e,n){let t=r.canMatch;if(!t||t.length===0)return ae(!0);let o=t.map(l=>{let d=_n(l,i),m=Vg(d)?d.canMatch(r,e):ti(i,()=>d(r,e));return Ni(m)});return ae(o).pipe(gn(),T0(n))}var pr=class{constructor(r){this.segmentGroup=r||null}},Po=class extends Error{constructor(r){super(),this.urlTree=r}};function cn(i){return mi(new pr(i))}function Qg(i){return mi(new Le(4e3,!1))}function Kg(i){return mi(E0(!1,Wt.GuardRejected))}var pl=class{constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let n=[],t=e.root;for(;;){if(n=n.concat(t.segments),t.numberOfChildren===0)return ae(n);if(t.numberOfChildren>1||!t.children[Ee])return Qg(r.redirectTo);t=t.children[Ee]}}applyRedirectCommands(r,e,n){let t=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,n);if(e.startsWith("/"))throw new Po(t);return t}applyRedirectCreateUrlTree(r,e,n,t){let o=this.createSegmentGroup(r,e.root,n,t);return new Pi(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([t,o])=>{if(typeof o=="string"&&o.startsWith(":")){let d=o.substring(1);n[t]=e[d]}else n[t]=o}),n}createSegmentGroup(r,e,n,t){let o=this.createSegments(r,e.segments,n,t),l={};return Object.entries(e.children).forEach(([d,m])=>{l[d]=this.createSegmentGroup(r,m,n,t)}),new Ue(o,l)}createSegments(r,e,n,t){return e.map(o=>o.path.startsWith(":")?this.findPosParam(r,o,t):this.findOrReturn(o,n))}findPosParam(r,e,n){let t=n[e.path.substring(1)];if(!t)throw new Le(4001,!1);return t}findOrReturn(r,e){let n=0;for(let t of e){if(t.path===r.path)return e.splice(n),t;n++}return r}},fl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zg(i,r,e,n,t){let o=Sl(i,r,e);return o.matched?(n=Mg(r,n),Jg(n,r,e,t).pipe(we(l=>l===!0?o:q({},fl)))):ae(o)}function Sl(i,r,e){if(r.path==="**")return Yg(e);if(r.path==="")return r.pathMatch==="full"&&(i.hasChildren()||e.length>0)?q({},fl):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let t=(r.matcher||Jf)(e,i,r);if(!t)return q({},fl);let o={};Object.entries(t.posParams??{}).forEach(([d,m])=>{o[d]=m.path});let l=t.consumed.length>0?q(q({},o),t.consumed[t.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:t.consumed,remainingSegments:e.slice(t.consumed.length),parameters:l,positionalParamSegments:t.posParams??{}}}function Yg(i){return{matched:!0,parameters:i.length>0?s0(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function n0(i,r,e,n){return e.length>0&&t1(i,e,n)?{segmentGroup:new Ue(r,e1(n,new Ue(e,i.children))),slicedSegments:[]}:e.length===0&&i1(i,e,n)?{segmentGroup:new Ue(i.segments,Xg(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Ue(i.segments,i.children),slicedSegments:e}}function Xg(i,r,e,n){let t={};for(let o of e)if(Bo(i,r,o)&&!n[di(o)]){let l=new Ue([],{});t[di(o)]=l}return q(q({},n),t)}function e1(i,r){let e={};e[Ee]=r;for(let n of i)if(n.path===""&&di(n)!==Ee){let t=new Ue([],{});e[di(n)]=t}return e}function t1(i,r,e){return e.some(n=>Bo(i,r,n)&&di(n)!==Ee)}function i1(i,r,e){return e.some(n=>Bo(i,r,n))}function Bo(i,r,e){return(i.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function n1(i,r,e,n){return di(i)!==n&&(n===Ee||!Bo(r,e,i))?!1:Sl(r,i,e).matched}function r1(i,r,e){return r.length===0&&!i.children[e]}var gl=class{};function o1(i,r,e,n,t,o,l="emptyOnly"){return new _l(i,r,e,n,t,l,o).recognize()}var a1=31,_l=class{constructor(r,e,n,t,o,l,d){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=t,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=d,this.applyRedirects=new pl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new Le(4002,`'${r.segmentGroup}'`)}recognize(){let r=n0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(we(e=>{let n=new mr([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ee,this.rootComponentType,null,{}),t=new Ht(n,e),o=new Io("",t),l=hg(n,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root,null),{state:o,tree:l}}))}match(r){return this.processSegmentGroup(this.injector,this.config,r,Ee).pipe(xt(n=>{if(n instanceof Po)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof pr?this.noMatchError(n):n}))}inheritParamsAndData(r,e){let n=r.value,t=bl(n,e,this.paramsInheritanceStrategy);n.params=Object.freeze(t.params),n.data=Object.freeze(t.data),r.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(r,e,n,t){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n):this.processSegment(r,e,n,n.segments,t,!0).pipe(we(o=>o instanceof Ht?[o]:[]))}processChildren(r,e,n){let t=[];for(let o of Object.keys(n.children))o==="primary"?t.unshift(o):t.push(o);return Ct(t).pipe(Si(o=>{let l=n.children[o],d=Dg(e,o);return this.processSegmentGroup(r,d,l,o)}),Kc((o,l)=>(o.push(...l),o)),Ya(null),Qc(),It(o=>{if(o===null)return cn(n);let l=A0(o);return s1(l),ae(l)}))}processSegment(r,e,n,t,o,l){return Ct(e).pipe(Si(d=>this.processSegmentAgainstRoute(d._injector??r,e,d,n,t,o,l).pipe(xt(m=>{if(m instanceof pr)return ae(null);throw m}))),Ei(d=>!!d),xt(d=>{if(D0(d))return r1(n,t,o)?ae(new gl):cn(n);throw d}))}processSegmentAgainstRoute(r,e,n,t,o,l,d){return n1(n,t,o,l)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,t,n,o,l):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(r,t,e,n,o,l):cn(t):cn(t)}expandSegmentAgainstRouteUsingRedirect(r,e,n,t,o,l){let{matched:d,consumedSegments:m,positionalParamSegments:v,remainingSegments:p}=Sl(e,t,o);if(!d)return cn(e);t.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>a1&&(this.allowRedirects=!1));let y=this.applyRedirects.applyRedirectCommands(m,t.redirectTo,v);return this.applyRedirects.lineralizeSegments(t,y).pipe(It(C=>this.processSegment(r,n,e,C.concat(p),l,!1)))}matchSegmentAgainstRoute(r,e,n,t,o){let l=Zg(e,n,t,r,this.urlSerializer);return n.path==="**"&&(e.children={}),l.pipe(et(d=>d.matched?(r=n._injector??r,this.getChildConfig(r,n,t).pipe(et(({routes:m})=>{let v=n._loadedInjector??r,{consumedSegments:p,remainingSegments:y,parameters:C}=d,E=new mr(p,C,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,c1(n),di(n),n.component??n._loadedComponent??null,n,d1(n)),{segmentGroup:M,slicedSegments:k}=n0(e,p,y,m);if(k.length===0&&M.hasChildren())return this.processChildren(v,m,M).pipe(we(S=>S===null?null:new Ht(E,S)));if(m.length===0&&k.length===0)return ae(new Ht(E,[]));let P=di(n)===o;return this.processSegment(v,m,M,k,P?Ee:o,!0).pipe(we(S=>new Ht(E,S instanceof Ht?[S]:[])))}))):cn(e)))}getChildConfig(r,e,n){return e.children?ae({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?ae({routes:e._loadedRoutes,injector:e._loadedInjector}):$g(r,e,n,this.urlSerializer).pipe(It(t=>t?this.configLoader.loadChildren(r,e).pipe(ht(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Kg(e))):ae({routes:[],injector:r})}};function s1(i){i.sort((r,e)=>r.value.outlet===Ee?-1:e.value.outlet===Ee?1:r.value.outlet.localeCompare(e.value.outlet))}function l1(i){let r=i.value.routeConfig;return r&&r.path===""}function A0(i){let r=[],e=new Set;for(let n of i){if(!l1(n)){r.push(n);continue}let t=r.find(o=>n.value.routeConfig===o.value.routeConfig);t!==void 0?(t.children.push(...n.children),e.add(t)):r.push(n)}for(let n of e){let t=A0(n.children);r.push(new Ht(n.value,t))}return r.filter(n=>!e.has(n))}function c1(i){return i.data||{}}function d1(i){return i.resolve||{}}function u1(i,r,e,n,t,o){return It(l=>o1(i,r,e,n,l.extractedUrl,t,o).pipe(we(({state:d,tree:m})=>De(q({},l),{targetSnapshot:d,urlAfterRedirects:m}))))}function m1(i,r){return It(e=>{let{targetSnapshot:n,guards:{canActivateChecks:t}}=e;if(!t.length)return ae(e);let o=new Set(t.map(m=>m.route)),l=new Set;for(let m of o)if(!l.has(m))for(let v of I0(m))l.add(v);let d=0;return Ct(l).pipe(Si(m=>o.has(m)?h1(m,n,i,r):(m.data=bl(m,m.parent,i).resolve,ae(void 0))),ht(()=>d++),Xa(1),It(m=>d===l.size?ae(e):ei))})}function I0(i){let r=i.children.map(e=>I0(e)).flat();return[i,...r]}function h1(i,r,e,n){let t=i.routeConfig,o=i._resolve;return t?.title!==void 0&&!x0(t)&&(o[fr]=t.title),p1(o,i,r,n).pipe(we(l=>(i._resolvedData=l,i.data=bl(i,i.parent,e).resolve,null)))}function p1(i,r,e,n){let t=Js(i);if(t.length===0)return ae({});let o={};return Ct(t).pipe(It(l=>f1(i[l],r,e,n).pipe(Ei(),ht(d=>{o[l]=d}))),Xa(1),$c(o),xt(l=>D0(l)?ei:mi(l)))}function f1(i,r,e,n){let t=vr(r)??n,o=_n(i,t),l=o.resolve?o.resolve(r,e):ti(t,()=>o(r,e));return Ni(l)}function qs(i){return et(r=>{let e=i(r);return e?Ct(e).pipe(we(()=>r)):ae(r)})}var k0=(()=>{class i{buildTitle(e){let n,t=e.root;for(;t!==void 0;)n=this.getResolvedTitleForRoute(t)??n,t=t.children.find(o=>o.outlet===Ee);return n}getResolvedTitleForRoute(e){return e.data[fr]}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>ee(g1),providedIn:"root"})}}return i})(),g1=(()=>{class i extends k0{constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||i)(L(Zd))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),yr=new Ae("",{providedIn:"root",factory:()=>({})}),Fo=new Ae(""),wl=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ee(ro)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ae(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Ni(e.loadComponent()).pipe(we(P0),ht(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),wi(()=>{this.componentLoaders.delete(e)})),t=new Qa(n,()=>new Te).pipe(Ja());return this.componentLoaders.set(e,t),t}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return ae({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=_1(n,this.compiler,e,this.onLoadEndListener).pipe(wi(()=>{this.childrenLoaders.delete(n)})),l=new Qa(o,()=>new Te).pipe(Ja());return this.childrenLoaders.set(n,l),l}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function _1(i,r,e,n){return Ni(i.loadChildren()).pipe(we(P0),It(t=>t instanceof hd||Array.isArray(t)?ae(t):Ct(r.compileModuleAsync(t))),we(t=>{n&&n(i);let o,l,d=!1;return Array.isArray(t)?(l=t,d=!0):(o=t.create(e).injector,l=o.get(Fo,[],{optional:!0,self:!0}).flat()),{routes:l.map(xl),injector:o}}))}function v1(i){return i&&typeof i=="object"&&"default"in i}function P0(i){return v1(i)?i.default:i}var El=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>ee(b1),providedIn:"root"})}}return i})(),b1=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),F0=new Ae(""),O0=new Ae("");function y1(i,r,e){let n=i.get(O0),t=i.get(Ze);return i.get(Re).runOutsideAngular(()=>{if(!t.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(v=>setTimeout(v));let o,l=new Promise(v=>{o=v}),d=t.startViewTransition(()=>(o(),C1(i))),{onViewTransitionCreated:m}=n;return m&&ti(i,()=>m({transition:d,from:r,to:e})),l})}function C1(i){return new Promise(r=>{cs(r,{injector:i})})}var Ml=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=ee(wl),this.environmentInjector=ee(Yt),this.urlSerializer=ee(gr),this.rootContexts=ee(_r),this.location=ee(Gn),this.inputBindingEnabled=ee(No,{optional:!0})!==null,this.titleStrategy=ee(k0),this.options=ee(yr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ee(El),this.createViewTransition=ee(F0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let e=t=>this.events.next(new il(t)),n=t=>this.events.next(new nl(t));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(De(q(q({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,t){return this.transitions=new Bt({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:or,restoredState:null,currentSnapshot:t.snapshot,targetSnapshot:null,currentRouterState:t,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kt(o=>o.id!==0),we(o=>De(q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),et(o=>{let l=!1,d=!1;return ae(o).pipe(et(m=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),ei;this.currentTransition=o,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?De(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let v=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=m.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!v&&p!=="reload"){let y="";return this.events.next(new Oi(m.id,this.urlSerializer.serialize(m.rawUrl),y,Eo.IgnoredSameUrlNavigation)),m.resolve(null),ei}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return ae(m).pipe(et(y=>{let C=this.transitions?.getValue();return this.events.next(new fn(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),C!==this.transitions?.getValue()?ei:Promise.resolve(y)}),u1(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ht(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=De(q({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let C=new Mo(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}));if(v&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:y,extractedUrl:C,source:E,restoredState:M,extras:k}=m,P=new fn(y,this.urlSerializer.serialize(C),E,M);this.events.next(P);let S=y0(this.rootComponentType).snapshot;return this.currentTransition=o=De(q({},m),{targetSnapshot:S,urlAfterRedirects:C,extras:De(q({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,ae(o)}else{let y="";return this.events.next(new Oi(m.id,this.urlSerializer.serialize(m.extractedUrl),y,Eo.IgnoredByUrlHandlingStrategy)),m.resolve(null),ei}}),ht(m=>{let v=new Ys(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),we(m=>(this.currentTransition=o=De(q({},m),{guards:Ag(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),o)),Lg(this.environmentInjector,m=>this.events.next(m)),ht(m=>{if(o.guardsResult=m.guardsResult,pn(m.guardsResult))throw w0(this.urlSerializer,m.guardsResult);let v=new Xs(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(v)}),kt(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",Wt.GuardRejected),!1)),qs(m=>{if(m.guards.canActivateChecks.length)return ae(m).pipe(ht(v=>{let p=new el(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(p)}),et(v=>{let p=!1;return ae(v).pipe(m1(this.paramsInheritanceStrategy,this.environmentInjector),ht({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(v,"",Wt.NoDataFromResolver)}}))}),ht(v=>{let p=new tl(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(p)}))}),qs(m=>{let v=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(ht(C=>{p.component=C}),we(()=>{})));for(let C of p.children)y.push(...v(C));return y};return Wi(v(m.targetSnapshot.root)).pipe(Ya(null),Vt(1))}),qs(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:m,targetSnapshot:v}=o,p=this.createViewTransition?.(this.environmentInjector,m.root,v.root);return p?Ct(p).pipe(we(()=>o)):ae(o)}),we(m=>{let v=Cg(e.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=o=De(q({},m),{targetRouterState:v}),this.currentNavigation.targetRouterState=v,o}),ht(()=>{this.events.next(new dr)}),Tg(this.rootContexts,e.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Vt(1),ht({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),St(this.transitionAbortSubject.pipe(ht(m=>{throw m}))),wi(()=>{!l&&!d&&this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xt(m=>{if(d=!0,M0(m))this.events.next(new Fi(o.id,this.urlSerializer.serialize(o.extractedUrl),m.message,m.cancellationCode)),wg(m)?this.events.next(new ur(m.url)):o.resolve(!1);else{this.events.next(new cr(o.id,this.urlSerializer.serialize(o.extractedUrl),m,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(m))}catch(v){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(v)}}return ei}))}))}cancelNavigationTransition(e,n,t){let o=new Fi(e.id,this.urlSerializer.serialize(e.extractedUrl),n,t);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function x1(i){return i!==or}var S1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>ee(w1),providedIn:"root"})}}return i})(),vl=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},w1=(()=>{class i extends vl{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),N0=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:()=>ee(E1),providedIn:"root"})}}return i})(),E1=(()=>{class i extends N0{constructor(){super(...arguments),this.location=ee(Gn),this.urlSerializer=ee(gr),this.options=ee(yr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ee(El),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=y0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof fn)this.stateMemento=this.createStateMemento();else if(e instanceof Oi)this.rawUrlTree=n.initialUrl;else if(e instanceof Mo){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let t=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(t,n)}}else e instanceof dr?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):e instanceof Fi&&(e.code===Wt.GuardRejected||e.code===Wt.NoDataFromResolver)?this.restoreHistory(n):e instanceof cr?this.restoreHistory(n,!0):e instanceof ci&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let t=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(t)||n.extras.replaceUrl){let o=this.browserPageId,l=q(q({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(t,"",l)}else{let o=q(q({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(t,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let t=this.browserPageId,o=this.currentPageId-t;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),nr=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(nr||{});function B0(i,r){i.events.pipe(kt(e=>e instanceof ci||e instanceof Fi||e instanceof cr||e instanceof Oi),we(e=>e instanceof ci||e instanceof Oi?nr.COMPLETE:(e instanceof Fi?e.code===Wt.Redirect||e.code===Wt.SupersededByNewNavigation:!1)?nr.REDIRECTING:nr.FAILED),kt(e=>e!==nr.REDIRECTING),Vt(1)).subscribe(()=>{r()})}function M1(i){throw i}var D1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ee(eo),this.stateManager=ee(N0),this.options=ee(yr,{optional:!0})||{},this.pendingTasks=ee(Wn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ee(Ml),this.urlSerializer=ee(gr),this.location=ee(Gn),this.urlHandlingStrategy=ee(El),this._events=new Te,this.errorHandler=this.options.errorHandler||M1,this.navigated=!1,this.routeReuseStrategy=ee(S1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ee(Fo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ee(No,{optional:!0}),this.eventsSubscription=new Uc,this.isNgZoneEnabled=ee(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let t=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(t!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Fi&&n.code!==Wt.Redirect&&n.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ci)this.navigated=!0;else if(n instanceof ur){let l=this.urlHandlingStrategy.merge(n.url,t.currentRawUrl),d={info:t.extras.info,skipLocationChange:t.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||x1(t.source)};this.scheduleNavigation(l,or,null,d,{resolve:t.resolve,reject:t.reject,promise:t.promise})}}I1(n)&&this._events.next(n)}catch(t){this.navigationTransitions.transitionAbortSubject.next(t)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),or,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,t){let o={replaceUrl:!0},l=t?.navigationId?t:null;if(t){let m=q({},t);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(o.state=m)}let d=this.parseUrl(e);this.scheduleNavigation(d,n,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(xl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:t,queryParams:o,fragment:l,queryParamsHandling:d,preserveFragment:m}=n,v=m?this.currentUrlTree.fragment:l,p=null;switch(d){case"merge":p=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let C=t?t.snapshot:this.routerState.snapshot.root;y=g0(C)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),y=this.currentUrlTree.root}return _0(y,e,p,v??null)}navigateByUrl(e,n={skipLocationChange:!1}){let t=pn(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(t,this.rawUrlTree);return this.scheduleNavigation(o,or,null,n)}navigate(e,n={skipLocationChange:!1}){return A1(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let t;if(n===!0?t=q({},D1):n===!1?t=q({},T1):t=n,pn(e))return Yd(this.currentUrlTree,e,t);let o=this.parseUrl(e);return Yd(this.currentUrlTree,o,t)}removeEmptyProps(e){return Object.entries(e).reduce((n,[t,o])=>(o!=null&&(n[t]=o),n),{})}scheduleNavigation(e,n,t,o,l){if(this.disposed)return Promise.resolve(!1);let d,m,v;l?(d=l.resolve,m=l.reject,v=l.promise):v=new Promise((y,C)=>{d=y,m=C});let p=this.pendingTasks.add();return B0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:t,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:d,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(y=>Promise.reject(y))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function A1(i){for(let r=0;r<i.length;r++)if(i[r]==null)throw new Le(4008,!1)}function I1(i){return!(i instanceof dr)&&!(i instanceof ur)}var lt=(()=>{class i{constructor(e,n,t,o,l,d){this.router=e,this.route=n,this.tabIndexAttribute=t,this.renderer=o,this.el=l,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new Te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=e.events.subscribe(v=>{v instanceof ci&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e!=null?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,t,o,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(e!==0||n||t||o||l||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,m),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:cd(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let t=this.renderer,o=this.el.nativeElement;n!==null?t.setAttribute(o,e,n):t.removeAttribute(o,e)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(n){return new(n||i)(B(qe),B(dt),rs("tabindex"),B(Ti),B(gt),B(zn))}}static{this.\u0275dir=Be({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,t){n&1&&f("click",function(l){return t.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),n&2&&vt("target",t.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ft.HasDecoratorInputTransform,"preserveFragment","preserveFragment",si],skipLocationChange:[ft.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",si],replaceUrl:[ft.HasDecoratorInputTransform,"replaceUrl","replaceUrl",si],routerLink:"routerLink"},standalone:!0,features:[on,ii]})}}return i})();var Oo=class{};var k1=(()=>{class i{constructor(e,n,t,o,l){this.router=e,this.injector=t,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(kt(e=>e instanceof ci),Si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let t=[];for(let o of n){o.providers&&!o._injector&&(o._injector=us(o.providers,e,`Route: ${o.path}`));let l=o._injector??e,d=o._loadedInjector??l;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&t.push(this.preloadConfig(l,o)),(o.children||o._loadedRoutes)&&t.push(this.processRoutes(d,o.children??o._loadedRoutes))}return Ct(t).pipe(Ka())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let t;n.loadChildren&&n.canLoad===void 0?t=this.loader.loadChildren(e,n):t=ae(null);let o=t.pipe(It(l=>l===null?ae(void 0):(n._loadedRoutes=l.routes,n._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(n.loadComponent&&!n._loadedComponent){let l=this.loader.loadComponent(n);return Ct([o,l]).pipe(Ka())}else return o})}static{this.\u0275fac=function(n){return new(n||i)(L(qe),L(ro),L(Yt),L(Oo),L(wl))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),R0=new Ae(""),P1=(()=>{class i{constructor(e,n,t,o,l={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=t,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=ee(Yt),l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ci?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Oi&&e.code===Eo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Do&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>Bn(this,null,function*(){yield new Promise(t=>{setTimeout(()=>{t()}),cs(()=>{t()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Do(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){Kr()}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();function F1(i){return i.routerState.root}function Cr(i,r){return{\u0275kind:i,\u0275providers:r}}function O1(){let i=ee($t);return r=>{let e=i.get(oi);if(r!==e.components[0])return;let n=i.get(qe),t=i.get(V0);i.get(Dl)===1&&n.initialNavigation(),i.get(L0,null,is.Optional)?.setUpPreloading(),i.get(R0,null,is.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),t.closed||(t.next(),t.complete(),t.unsubscribe())}}var V0=new Ae("",{factory:()=>new Te}),Dl=new Ae("",{providedIn:"root",factory:()=>1});function N1(){return Cr(2,[{provide:Dl,useValue:0},{provide:_s,multi:!0,deps:[$t],useFactory:r=>{let e=r.get(xd,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let t=r.get(qe),o=r.get(V0);B0(t,()=>{n(!0)}),r.get(Ml).afterPreactivation=()=>(n(!0),o.closed?ae(void 0):o),t.initialNavigation()}))}}])}function B1(){return Cr(3,[{provide:_s,multi:!0,useFactory:()=>{let r=ee(qe);return()=>{r.setUpLocationChangeListener()}}},{provide:Dl,useValue:2}])}var L0=new Ae("");function R1(i){return Cr(0,[{provide:L0,useExisting:k1},{provide:Oo,useExisting:i}])}function V1(){return Cr(8,[i0,{provide:No,useExisting:i0}])}function L1(i){let r=[{provide:F0,useValue:y1},{provide:O0,useValue:q({skipNextTransition:!!i?.skipInitialTransition},i)}];return Cr(9,r)}var r0=new Ae("ROUTER_FORROOT_GUARD"),U1=[Gn,{provide:gr,useClass:sr},qe,_r,{provide:dt,useFactory:F1,deps:[qe]},wl,[]],Tl=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[U1,[],{provide:Fo,multi:!0,useValue:e},{provide:r0,useFactory:z1,deps:[[qe,new ns,new Yc]]},{provide:yr,useValue:n||{}},n?.useHash?H1():W1(),j1(),n?.preloadingStrategy?R1(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?G1(n):[],n?.bindToComponentInputs?V1().\u0275providers:[],n?.enableViewTransitions?L1().\u0275providers:[],q1()]}}static forChild(e){return{ngModule:i,providers:[{provide:Fo,multi:!0,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||i)(L(r0,8))}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({})}}return i})();function j1(){return{provide:R0,useFactory:()=>{let i=ee(Dd),r=ee(Re),e=ee(yr),n=ee(Ml),t=ee(gr);return e.scrollOffset&&i.setOffset(e.scrollOffset),new P1(t,n,i,r,e)}}}function H1(){return{provide:zn,useClass:wd}}function W1(){return{provide:zn,useClass:Sd}}function z1(i){return"guarded"}function G1(i){return[i.initialNavigation==="disabled"?B1().\u0275providers:[],i.initialNavigation==="enabledBlocking"?N1().\u0275providers:[]]}var o0=new Ae("");function q1(){return[{provide:o0,useFactory:O1},{provide:vs,multi:!0,useExisting:o0}]}var le={production:!0,baseUrl:"https://apiadm.mispeluquerias.com",socketUrl:"https://api.mispeluquerias.com"};var U0=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllSalon(e,n,t,o="",l=!1){let d=localStorage.getItem("permiso")||"",m=localStorage.getItem("usuarioId")||"",v=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(v=v.set("search",t)),o&&(v=v.set("filterState",o)),v=v.set("filterActive",l.toString()),v=v.set("permiso",d),v=v.set("usuarioId",m),this.http.get(`${this.baseUrl}/home/getAllSalon`,{params:v})}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-aside`,{params:{permiso:e||""}})}deleteBusiness(e){return this.http.post(`${this.baseUrl}/home/deleteBusiness`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var j0=["toast-component",""];function J1(i,r){if(i&1){let e=z();s(0,"button",5),f("click",function(){g(e);let t=x();return _(t.remove())}),s(1,"span",6),c(2,"\xD7"),a()()}}function Q1(i,r){if(i&1&&(he(0),c(1),pe()),i&2){let e=x(2);u(),Y("[",e.duplicatesCount+1,"]")}}function K1(i,r){if(i&1&&(s(0,"div"),c(1),D(2,Q1,2,1,"ng-container",4),a()),i&2){let e=x();Lt(e.options.titleClass),vt("aria-label",e.title),u(),Y(" ",e.title," "),u(),b("ngIf",e.duplicatesCount)}}function Z1(i,r){if(i&1&&h(0,"div",7),i&2){let e=x();Lt(e.options.messageClass),b("innerHTML",e.message,ss)}}function Y1(i,r){if(i&1&&(s(0,"div",8),c(1),a()),i&2){let e=x();Lt(e.options.messageClass),vt("aria-label",e.message),u(),Y(" ",e.message," ")}}function X1(i,r){if(i&1&&(s(0,"div"),h(1,"div",9),a()),i&2){let e=x();u(),an("width",e.width()+"%")}}function e_(i,r){if(i&1){let e=z();s(0,"button",5),f("click",function(){g(e);let t=x();return _(t.remove())}),s(1,"span",6),c(2,"\xD7"),a()()}}function t_(i,r){if(i&1&&(he(0),c(1),pe()),i&2){let e=x(2);u(),Y("[",e.duplicatesCount+1,"]")}}function i_(i,r){if(i&1&&(s(0,"div"),c(1),D(2,t_,2,1,"ng-container",4),a()),i&2){let e=x();Lt(e.options.titleClass),vt("aria-label",e.title),u(),Y(" ",e.title," "),u(),b("ngIf",e.duplicatesCount)}}function n_(i,r){if(i&1&&h(0,"div",7),i&2){let e=x();Lt(e.options.messageClass),b("innerHTML",e.message,ss)}}function r_(i,r){if(i&1&&(s(0,"div",8),c(1),a()),i&2){let e=x();Lt(e.options.messageClass),vt("aria-label",e.message),u(),Y(" ",e.message," ")}}function o_(i,r){if(i&1&&(s(0,"div"),h(1,"div",9),a()),i&2){let e=x();u(),an("width",e.width()+"%")}}var Al=class{_attachedHost;component;viewContainerRef;injector;constructor(r,e){this.component=r,this.injector=e}attach(r,e){return this._attachedHost=r,r.attach(this,e)}detach(){let r=this._attachedHost;if(r)return this._attachedHost=void 0,r.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(r){this._attachedHost=r}},Il=class{_attachedPortal;_disposeFn;attach(r,e){return this._attachedPortal=r,this.attachComponentPortal(r,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(r){this._disposeFn=r}},kl=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Te;_activate=new Te;_manualClose=new Te;_resetTimeout=new Te;_countDuplicate=new Te;constructor(r){this._overlayRef=r}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(r,e){r&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},vn=class{toastId;config;message;title;toastType;toastRef;_onTap=new Te;_onAction=new Te;constructor(r,e,n,t,o,l){this.toastId=r,this.config=e,this.message=n,this.title=t,this.toastType=o,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(r){this._onAction.next(r)}onAction(){return this._onAction.asObservable()}},H0={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},W0=new Ae("ToastConfig"),Pl=class extends Il{_hostDomElement;_componentFactoryResolver;_appRef;constructor(r,e,n){super(),this._hostDomElement=r,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(r,e){let n=this._componentFactoryResolver.resolveComponentFactory(r.component),t;return t=n.create(r.injector),this._appRef.attachView(t.hostView),this.setDisposeFn(()=>{this._appRef.detachView(t.hostView),t.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(t),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(t)),t}_getComponentRootNode(r){return r.hostView.rootNodes[0]}},a_=(()=>{class i{_document=ee(Ze);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Fl=class{_portalHost;constructor(r){this._portalHost=r}attach(r,e=!0){return this._portalHost.attach(r,e)}detach(){return this._portalHost.detach()}},s_=(()=>{class i{_overlayContainer=ee(a_);_componentFactoryResolver=ee(md);_appRef=ee(oi);_document=ee(Ze);_paneElements=new Map;create(e,n){return this._createOverlayRef(this.getPaneElement(e,n))}getPaneElement(e="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[e]||(this._paneElements.get(n)[e]=this._createPaneElement(e,n)),this._paneElements.get(n)[e]}_createPaneElement(e,n){let t=this._document.createElement("div");return t.id="toast-container",t.classList.add(e),t.classList.add("toast-container"),n?n.getContainerElement().appendChild(t):this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalHost(e){return new Pl(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Fl(this._createPortalHost(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),xe=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,n,t,o,l){this.overlay=n,this._injector=t,this.sanitizer=o,this.ngZone=l,this.toastrConfig=q(q({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=q(q({},e.default.iconClasses),e.config.iconClasses))}show(e,n,t={},o=""){return this._preBuildNotification(o,e,n,this.applyConfig(t))}success(e,n,t={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,n,this.applyConfig(t))}error(e,n,t={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,n,this.applyConfig(t))}info(e,n,t={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,n,this.applyConfig(t))}warning(e,n,t={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,n,this.applyConfig(t))}clear(e){for(let n of this.toasts)if(e!==void 0){if(n.toastId===e){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(e){let n=this._findToast(e);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(e="",n="",t,o){let{includeTitleDuplicates:l}=this.toastrConfig;for(let d of this.toasts){let m=l&&d.title===e;if((!l||m)&&d.message===n)return d.toastRef.onDuplicate(t,o),d}return null}applyConfig(e={}){return q(q({},this.toastrConfig),e)}_findToast(e){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===e)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(e,n,t,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,n,t,o)):this._buildNotification(e,n,t,o)}_buildNotification(e,n,t,o){if(!o.toastComponent)throw new Error("toastComponent required");let l=this.findDuplicate(t,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&t||n)&&this.toastrConfig.preventDuplicates&&l!==null)return l;this.previousToastMessage=n;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let m=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let v=n;n&&o.enableHtml&&(v=this.sanitizer.sanitize(pi.HTML,n));let p=new kl(m),y=new vn(this.index,o,v,t,e,p),C=[{provide:vn,useValue:y}],E=$t.create({providers:C,parent:this._injector}),M=new Al(o.toastComponent,E),k=m.attach(M,o.newestOnTop);p.componentInstance=k.instance;let P={toastId:this.index,title:t||"",message:n||"",toastRef:p,onShown:p.afterActivate(),onHidden:p.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:k};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{P.toastRef.activate()})),this.toasts.push(P),P}static \u0275fac=function(n){return new(n||i)(L(W0),L(s_),L($t),L(js),L(Re))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),l_=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Hn(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,t){this.toastrService=e,this.toastPackage=n,this.ngZone=t,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=Hn({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>De(q({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(t=>100-t),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>De(q({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>De(q({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),n)):this.timeout=setTimeout(()=>e(),n)}outsideInterval(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),n)):this.intervalId=setInterval(()=>e(),n)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(n){return new(n||i)(B(xe),B(vn),B(Re))};static \u0275cmp=re({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,t){n&1&&f("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),n&2&&(pd("@flyInOut",t._state),Lt(t.toastClasses),an("display",t.displayStyle))},standalone:!0,features:[ri],attrs:j0,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,t){n&1&&D(0,J1,3,0,"button",0)(1,K1,3,5,"div",1)(2,Z1,1,3,"div",2)(3,Y1,2,4,"div",3)(4,X1,2,2,"div",4),n&2&&(b("ngIf",t.options.closeButton),u(),b("ngIf",t.title),u(),b("ngIf",t.message&&t.options.enableHtml),u(),b("ngIf",t.message&&!t.options.enableHtml),u(),b("ngIf",t.options.progressBar))},dependencies:[ce],encapsulation:2,data:{animation:[Td("flyInOut",[uo("inactive",co({opacity:0})),uo("active",co({opacity:1})),uo("removed",co({opacity:0})),Cs("inactive => active",ys("{{ easeTime }}ms {{ easing }}")),Cs("active => removed",ys("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return i})(),c_=De(q({},H0),{toastComponent:l_}),d_=(i={})=>Di([{provide:W0,useValue:{default:c_,config:i}}]),z0=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[d_(e)]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=We({type:i});static \u0275inj=He({})}return i})();var u_=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Hn(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Hn("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,t){this.toastrService=e,this.toastPackage=n,this.appRef=t,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(t=>100-t),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||i)(B(xe),B(vn),B(oi))};static \u0275cmp=re({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,t){n&1&&f("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),n&2&&(Lt(t.toastClasses),an("display",t.displayStyle))},standalone:!0,features:[ri],attrs:j0,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,t){n&1&&D(0,e_,3,0,"button",0)(1,i_,3,5,"div",1)(2,n_,1,3,"div",2)(3,r_,2,4,"div",3)(4,o_,2,2,"div",4),n&2&&(b("ngIf",t.options.closeButton),u(),b("ngIf",t.title),u(),b("ngIf",t.message&&t.options.enableHtml),u(),b("ngIf",t.message&&!t.options.enableHtml),u(),b("ngIf",t.options.progressBar))},dependencies:[ce],encapsulation:2,changeDetection:0})}return i})(),M2=De(q({},H0),{toastComponent:u_});var eu=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(B(Ti),B(gt))}}static{this.\u0275dir=Be({type:i})}}return i})(),Mr=(()=>{class i extends eu{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,features:[_t]})}}return i})(),Ji=new Ae(""),m_={provide:Ji,useExisting:Dt(()=>Ve),multi:!0},Ve=(()=>{class i extends Mr{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,t){n&1&&f("change",function(l){return t.onChange(l.target.checked)})("blur",function(){return t.onTouched()})},features:[Et([m_]),_t]})}}return i})(),h_={provide:Ji,useExisting:Dt(()=>me),multi:!0};function p_(){let i=zi()?zi().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var f_=new Ae(""),me=(()=>{class i extends eu{constructor(e,n,t){super(e,n),this._compositionMode=t,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!p_())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(B(Ti),B(gt),B(f_,8))}}static{this.\u0275dir=Be({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,t){n&1&&f("input",function(l){return t._handleInput(l.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(l){return t._compositionEnd(l.target.value)})},features:[Et([h_]),_t]})}}return i})();function Bi(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function tu(i){return i!=null&&typeof i.length=="number"}var Ri=new Ae(""),Go=new Ae(""),g_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yn=class{static min(r){return __(r)}static max(r){return v_(r)}static required(r){return iu(r)}static requiredTrue(r){return b_(r)}static email(r){return nu(r)}static minLength(r){return y_(r)}static maxLength(r){return ru(r)}static pattern(r){return ou(r)}static nullValidator(r){return Vo(r)}static compose(r){return uu(r)}static composeAsync(r){return mu(r)}};function __(i){return r=>{if(Bi(r.value)||Bi(i))return null;let e=parseFloat(r.value);return!isNaN(e)&&e<i?{min:{min:i,actual:r.value}}:null}}function v_(i){return r=>{if(Bi(r.value)||Bi(i))return null;let e=parseFloat(r.value);return!isNaN(e)&&e>i?{max:{max:i,actual:r.value}}:null}}function iu(i){return Bi(i.value)?{required:!0}:null}function b_(i){return i.value===!0?null:{required:!0}}function nu(i){return Bi(i.value)||g_.test(i.value)?null:{email:!0}}function y_(i){return r=>Bi(r.value)||!tu(r.value)?null:r.value.length<i?{minlength:{requiredLength:i,actualLength:r.value.length}}:null}function ru(i){return r=>tu(r.value)&&r.value.length>i?{maxlength:{requiredLength:i,actualLength:r.value.length}}:null}function ou(i){if(!i)return Vo;let r,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),r=new RegExp(e)):(e=i.toString(),r=i),n=>{if(Bi(n.value))return null;let t=n.value;return r.test(t)?null:{pattern:{requiredPattern:e,actualValue:t}}}}function Vo(i){return null}function au(i){return i!=null}function su(i){return no(i)?Ct(i):i}function lu(i){let r={};return i.forEach(e=>{r=e!=null?q(q({},r),e):r}),Object.keys(r).length===0?null:r}function cu(i,r){return r.map(e=>e(i))}function C_(i){return!i.validate}function du(i){return i.map(r=>C_(r)?r:e=>r.validate(e))}function uu(i){if(!i)return null;let r=i.filter(au);return r.length==0?null:function(e){return lu(cu(e,r))}}function Rl(i){return i!=null?uu(du(i)):null}function mu(i){if(!i)return null;let r=i.filter(au);return r.length==0?null:function(e){let n=cu(e,r).map(su);return zc(n).pipe(we(lu))}}function Vl(i){return i!=null?mu(du(i)):null}function G0(i,r){return i===null?[r]:Array.isArray(i)?[...i,r]:[i,r]}function hu(i){return i._rawValidators}function pu(i){return i._rawAsyncValidators}function Ol(i){return i?Array.isArray(i)?i:[i]:[]}function Lo(i,r){return Array.isArray(i)?i.includes(r):i===r}function q0(i,r){let e=Ol(r);return Ol(i).forEach(t=>{Lo(e,t)||e.push(t)}),e}function $0(i,r){return Ol(r).filter(e=>!Lo(i,e))}var Uo=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Rl(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Vl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,e){return this.control?this.control.hasError(r,e):!1}getError(r,e){return this.control?this.control.getError(r,e):null}},fi=class extends Uo{get formDirective(){return null}get path(){return null}},$i=class extends Uo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jo=class{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},x_={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},W2=De(q({},x_),{"[class.ng-submitted]":"isSubmitted"}),fe=(()=>{class i extends jo{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(B($i,2))}}static{this.\u0275dir=Be({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,t){n&2&&W("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)},features:[_t]})}}return i})(),$e=(()=>{class i extends jo{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(B(fi,10))}}static{this.\u0275dir=Be({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,t){n&2&&W("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)("ng-submitted",t.isSubmitted)},features:[_t]})}}return i})();var xr="VALID",Ro="INVALID",bn="PENDING",Sr="DISABLED";function Ll(i){return(qo(i)?i.validators:i)||null}function S_(i){return Array.isArray(i)?Rl(i):i||null}function Ul(i,r){return(qo(r)?r.asyncValidators:i)||null}function w_(i){return Array.isArray(i)?Vl(i):i||null}function qo(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function fu(i,r,e){let n=i.controls;if(!(r?Object.keys(n):n).length)throw new Le(1e3,"");if(!n[e])throw new Le(1001,"")}function gu(i,r,e){i._forEachChild((n,t)=>{if(e[t]===void 0)throw new Le(1002,"")})}var Cn=class{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===xr}get invalid(){return this.status===Ro}get pending(){return this.status==bn}get disabled(){return this.status===Sr}get enabled(){return this.status!==Sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(q0(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(q0(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators($0(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators($0(r,this._rawAsyncValidators))}hasValidator(r){return Lo(this._rawValidators,r)}hasAsyncValidator(r){return Lo(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=bn,r.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){let e=this._parentMarkedDirty(r.onlySelf);this.status=Sr,this.errors=null,this._forEachChild(n=>{n.disable(De(q({},r),{onlySelf:!0}))}),this._updateValue(),r.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(q({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!0))}enable(r={}){let e=this._parentMarkedDirty(r.onlySelf);this.status=xr,this._forEachChild(n=>{n.enable(De(q({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(De(q({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xr||this.status===bn)&&this._runAsyncValidator(r.emitEvent)),r.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sr:xr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=bn,this._hasOwnPendingAsyncValidator=!0;let e=su(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(e.emitEvent!==!1)}get(r){let e=r;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,t)=>n&&n._find(t),this)}getError(r,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?Sr:this.errors?Ro:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bn)?bn:this._anyControlsHaveStatus(Ro)?Ro:xr}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){qo(r)&&r.updateOn!=null&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){let e=this._parent&&this._parent.dirty;return!r&&!!e&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=S_(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=w_(this._rawAsyncValidators)}},xn=class extends Cn{constructor(r,e,n){super(Ll(e),Ul(n,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,n={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,n={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){gu(this,!0,r),Object.keys(r).forEach(n=>{fu(this,!0,n),this.controls[n].setValue(r[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){r!=null&&(Object.keys(r).forEach(n=>{let t=this.controls[n];t&&t.patchValue(r[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((n,t)=>{n.reset(r?r[t]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,n)=>(r[n]=e.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&r(n,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&r(n))return!0;return!1}_reduceValue(){let r={};return this._reduceChildren(r,(e,n,t)=>((n.enabled||this.disabled)&&(e[t]=n.value),e))}_reduceChildren(r,e){let n=r;return this._forEachChild((t,o)=>{n=e(n,t,o)}),n}_allControlsDisabled(){for(let r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null}};var Nl=class extends xn{};var Dr=new Ae("CallSetDisabledState",{providedIn:"root",factory:()=>$o}),$o="always";function _u(i,r){return[...r.path,i]}function Ho(i,r,e=$o){jl(i,r),r.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&r.valueAccessor.setDisabledState?.(i.disabled),M_(i,r),T_(i,r),D_(i,r),E_(i,r)}function J0(i,r,e=!0){let n=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(n),r.valueAccessor.registerOnTouched(n)),zo(i,r),i&&(r._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Wo(i,r){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function E_(i,r){if(r.valueAccessor.setDisabledState){let e=n=>{r.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function jl(i,r){let e=hu(i);r.validator!==null?i.setValidators(G0(e,r.validator)):typeof e=="function"&&i.setValidators([e]);let n=pu(i);r.asyncValidator!==null?i.setAsyncValidators(G0(n,r.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let t=()=>i.updateValueAndValidity();Wo(r._rawValidators,t),Wo(r._rawAsyncValidators,t)}function zo(i,r){let e=!1;if(i!==null){if(r.validator!==null){let t=hu(i);if(Array.isArray(t)&&t.length>0){let o=t.filter(l=>l!==r.validator);o.length!==t.length&&(e=!0,i.setValidators(o))}}if(r.asyncValidator!==null){let t=pu(i);if(Array.isArray(t)&&t.length>0){let o=t.filter(l=>l!==r.asyncValidator);o.length!==t.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return Wo(r._rawValidators,n),Wo(r._rawAsyncValidators,n),e}function M_(i,r){r.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&vu(i,r)})}function D_(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&vu(i,r),i.updateOn!=="submit"&&i.markAsTouched()})}function vu(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function T_(i,r){let e=(n,t)=>{r.valueAccessor.writeValue(n),t&&r.viewToModelUpdate(n)};i.registerOnChange(e),r._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function bu(i,r){i==null,jl(i,r)}function A_(i,r){return zo(i,r)}function yu(i,r){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(r,e.currentValue)}function I_(i){return Object.getPrototypeOf(i.constructor)===Mr}function Cu(i,r){i._syncPendingControls(),r.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function xu(i,r){if(!r)return null;Array.isArray(r);let e,n,t;return r.forEach(o=>{o.constructor===me?e=o:I_(o)?n=o:t=o}),t||n||e||null}function k_(i,r){let e=i.indexOf(r);e>-1&&i.splice(e,1)}var P_={provide:fi,useExisting:Dt(()=>Ye)},wr=Promise.resolve(),Ye=(()=>{class i extends fi{constructor(e,n,t){super(),this.callSetDisabledState=t,this.submitted=!1,this._directives=new Set,this.ngSubmit=new wt,this.form=new xn({},Rl(e),Vl(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wr.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Ho(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wr.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){wr.then(()=>{let n=this._findContainer(e.path),t=new xn({});bu(t,e),n.registerControl(e.name,t),t.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wr.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){wr.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Cu(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(n){return new(n||i)(B(Ri,10),B(Go,10),B(Dr,8))}}static{this.\u0275dir=Be({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,t){n&1&&f("submit",function(l){return t.onSubmit(l)})("reset",function(){return t.onReset()})},inputs:{options:[ft.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Et([P_]),_t]})}}return i})();function Q0(i,r){let e=i.indexOf(r);e>-1&&i.splice(e,1)}function K0(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Er=class extends Cn{constructor(r=null,e,n){super(Ll(e),Ul(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qo(e)&&(e.nonNullable||e.initialValueIsDefault)&&(K0(r)?this.defaultValue=r.value:this.defaultValue=r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Q0(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Q0(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(r){K0(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}};var F_=i=>i instanceof Er;var O_={provide:$i,useExisting:Dt(()=>Ce)},Z0=Promise.resolve(),Ce=(()=>{class i extends $i{constructor(e,n,t,o,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new Er,this._registered=!1,this.name="",this.update=new wt,this._parent=e,this._setValidators(n),this._setAsyncValidators(t),this.valueAccessor=xu(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),yu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ho(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Z0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,t=n!==0&&si(n);Z0.then(()=>{t&&!this.control.disabled?this.control.disable():!t&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?_u(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(B(fi,9),B(Ri,10),B(Go,10),B(Ji,10),B(ai,8),B(Dr,8))}}static{this.\u0275dir=Be({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ft.None,"disabled","isDisabled"],model:[ft.None,"ngModel","model"],options:[ft.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Et([O_]),_t,ii]})}}return i})(),Je=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Be({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),N_={provide:Ji,useExisting:Dt(()=>Tr),multi:!0},Tr=(()=>{class i extends Mr{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,t){n&1&&f("input",function(l){return t.onChange(l.target.value)})("blur",function(){return t.onTouched()})},features:[Et([N_]),_t]})}}return i})();var Su=new Ae("");var B_={provide:fi,useExisting:Dt(()=>Hl)},Hl=(()=>{class i extends fi{constructor(e,n,t){super(),this.callSetDisabledState=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new wt,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return Ho(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){J0(e.control||null,e,!1),k_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,Cu(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,t=this.form.get(e.path);n!==t&&(J0(n||null,e),F_(t)&&(Ho(t,e,this.callSetDisabledState),e.control=t))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);bu(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&A_(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jl(this.form,this),this._oldForm&&zo(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(n){return new(n||i)(B(Ri,10),B(Go,10),B(Dr,8))}}static{this.\u0275dir=Be({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,t){n&1&&f("submit",function(l){return t.onSubmit(l)})("reset",function(){return t.onReset()})},inputs:{form:[ft.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Et([B_]),_t,ii]})}}return i})();var R_={provide:$i,useExisting:Dt(()=>Wl)},Wl=(()=>{class i extends $i{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,n,t,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new wt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(t),this.valueAccessor=xu(this,o)}ngOnChanges(e){this._added||this._setUpControl(),yu(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return _u(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||i)(B(fi,13),B(Ri,10),B(Go,10),B(Ji,10),B(Su,8))}}static{this.\u0275dir=Be({type:i,selectors:[["","formControlName",""]],inputs:{name:[ft.None,"formControlName","name"],isDisabled:[ft.None,"disabled","isDisabled"],model:[ft.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Et([R_]),_t,ii]})}}return i})(),V_={provide:Ji,useExisting:Dt(()=>je),multi:!0};function wu(i,r){return i==null?`${r}`:(r&&typeof r=="object"&&(r="Object"),`${i}: ${r}`.slice(0,50))}function L_(i){return i.split(":")[0]}var je=(()=>{class i extends Mr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),t=wu(n,e);this.setProperty("value",t)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=L_(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,t){n&1&&f("change",function(l){return t.onChange(l.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Et([V_]),_t]})}}return i})(),Qe=(()=>{class i{constructor(e,n,t){this._element=e,this._renderer=n,this._select=t,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(wu(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(B(gt),B(Ti),B(je,9))}}static{this.\u0275dir=Be({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),U_={provide:Ji,useExisting:Dt(()=>Eu),multi:!0};function Y0(i,r){return i==null?`${r}`:(typeof r=="string"&&(r=`'${r}'`),r&&typeof r=="object"&&(r="Object"),`${i}: ${r}`.slice(0,50))}function j_(i){return i.split(":")[0]}var Eu=(()=>{class i extends Mr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let t=e.map(o=>this._getOptionId(o));n=(o,l)=>{o._setSelected(t.indexOf(l.toString())>-1)}}else n=(t,o)=>{t._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let t=[],o=n.selectedOptions;if(o!==void 0){let l=o;for(let d=0;d<l.length;d++){let m=l[d],v=this._getOptionValue(m.value);t.push(v)}}else{let l=n.options;for(let d=0;d<l.length;d++){let m=l[d];if(m.selected){let v=this._getOptionValue(m.value);t.push(v)}}}this.value=t,e(t)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=j_(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,t){n&1&&f("change",function(l){return t.onChange(l.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[Et([U_]),_t]})}}return i})(),Ke=(()=>{class i{constructor(e,n,t){this._element=e,this._renderer=n,this._select=t,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Y0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Y0(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(B(gt),B(Ti),B(Eu,9))}}static{this.\u0275dir=Be({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function H_(i){return typeof i=="number"?i:parseInt(i,10)}var Jo=(()=>{class i{constructor(){this._validator=Vo}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Vo,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Be({type:i,features:[ii]})}}return i})();var W_={provide:Ri,useExisting:Dt(()=>ut),multi:!0};var ut=(()=>{class i extends Jo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=si,this.createValidator=e=>iu}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,t){n&2&&vt("required",t._enabled?"":null)},inputs:{required:"required"},features:[Et([W_]),_t]})}}return i})();var z_={provide:Ri,useExisting:Dt(()=>Ar),multi:!0},Ar=(()=>{class i extends Jo{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=si,this.createValidator=e=>nu}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Et([z_]),_t]})}}return i})();var G_={provide:Ri,useExisting:Dt(()=>Ir),multi:!0},Ir=(()=>{class i extends Jo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>H_(e),this.createValidator=e=>ru(e)}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,t){n&2&&vt("maxlength",t._enabled?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Et([G_]),_t]})}}return i})(),q_={provide:Ri,useExisting:Dt(()=>gi),multi:!0},gi=(()=>{class i extends Jo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>ou(e)}static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})()}static{this.\u0275dir=Be({type:i,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,t){n&2&&vt("pattern",t._enabled?t.pattern:null)},inputs:{pattern:"pattern"},features:[Et([q_]),_t]})}}return i})();var Mu=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({})}}return i})(),Bl=class extends Cn{constructor(r,e,n){super(Ll(e),Ul(n,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[this._adjustIndex(r)]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,n={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(r,e={}){let n=this._adjustIndex(r);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,n={}){let t=this._adjustIndex(r);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){gu(this,!1,r),r.forEach((n,t)=>{fu(this,!1,t),this.at(t).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){r!=null&&(r.forEach((n,t)=>{this.at(t)&&this.at(t).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((n,t)=>{n.reset(r[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_adjustIndex(r){return r<0?r+this.length:r}_syncPendingControls(){let r=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){this.controls.forEach((e,n)=>{r(e,n)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_allControlsDisabled(){for(let r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}_find(r){return this.at(r)??null}};function X0(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Du=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let t=this._reduceControls(e),o={};return X0(n)?o=n:n!==null&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new xn(t,o)}record(e,n=null){let t=this._reduceControls(e);return new Nl(t,n)}control(e,n,t){let o={};return this.useNonNullable?(X0(n)?o=n:(o.validators=n,o.asyncValidators=t),new Er(e,De(q({},o),{nonNullable:!0}))):new Er(e,n,t)}array(e,n,t){let o=e.map(l=>this._createControl(l));return new Bl(o,n,t)}_reduceControls(e){let n={};return Object.keys(e).forEach(t=>{n[t]=this._createControl(e[t])}),n}_createControl(e){if(e instanceof Er)return e;if(e instanceof Cn)return e;if(Array.isArray(e)){let n=e[0],t=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(n,t,o)}else return this.control(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Tu=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Dr,useValue:e.callSetDisabledState??$o}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[Mu]})}}return i})(),Au=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Su,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Dr,useValue:e.callSetDisabledState??$o}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[Mu]})}}return i})();var Xt=Object.create(null);Xt.open="0";Xt.close="1";Xt.ping="2";Xt.pong="3";Xt.message="4";Xt.upgrade="5";Xt.noop="6";var kr=Object.create(null);Object.keys(Xt).forEach(i=>{kr[Xt[i]]=i});var Pr={type:"error",data:"parser error"};var Pu=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Fu=typeof ArrayBuffer=="function",Ou=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Fr=({type:i,data:r},e,n)=>Pu&&r instanceof Blob?e?n(r):Iu(r,n):Fu&&(r instanceof ArrayBuffer||Ou(r))?e?n(r):Iu(new Blob([r]),n):n(Xt[i]+(r||"")),Iu=(i,r)=>{let e=new FileReader;return e.onload=function(){let n=e.result.split(",")[1];r("b"+(n||""))},e.readAsDataURL(i)};function ku(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var zl;function Nu(i,r){if(Pu&&i.data instanceof Blob)return i.data.arrayBuffer().then(ku).then(r);if(Fu&&(i.data instanceof ArrayBuffer||Ou(i.data)))return r(ku(i.data));Fr(i,!1,e=>{zl||(zl=new TextEncoder),r(zl.encode(e))})}var Bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Or=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Bu.length;i++)Or[Bu.charCodeAt(i)]=i;var Ru=i=>{let r=i.length*.75,e=i.length,n,t=0,o,l,d,m;i[i.length-1]==="="&&(r--,i[i.length-2]==="="&&r--);let v=new ArrayBuffer(r),p=new Uint8Array(v);for(n=0;n<e;n+=4)o=Or[i.charCodeAt(n)],l=Or[i.charCodeAt(n+1)],d=Or[i.charCodeAt(n+2)],m=Or[i.charCodeAt(n+3)],p[t++]=o<<2|l>>4,p[t++]=(l&15)<<4|d>>2,p[t++]=(d&3)<<6|m&63;return v};var $_=typeof ArrayBuffer=="function",Nr=(i,r)=>{if(typeof i!="string")return{type:"message",data:Vu(i,r)};let e=i.charAt(0);return e==="b"?{type:"message",data:J_(i.substring(1),r)}:kr[e]?i.length>1?{type:kr[e],data:i.substring(1)}:{type:kr[e]}:Pr},J_=(i,r)=>{if($_){let e=Ru(i);return Vu(e,r)}else return{base64:!0,data:i}},Vu=(i,r)=>{switch(r){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var Lu="",Uu=(i,r)=>{let e=i.length,n=new Array(e),t=0;i.forEach((o,l)=>{Fr(o,!1,d=>{n[l]=d,++t===e&&r(n.join(Lu))})})},ju=(i,r)=>{let e=i.split(Lu),n=[];for(let t=0;t<e.length;t++){let o=Nr(e[t],r);if(n.push(o),o.type==="error")break}return n};function Hu(){return new TransformStream({transform(i,r){Nu(i,e=>{let n=e.length,t;if(n<126)t=new Uint8Array(1),new DataView(t.buffer).setUint8(0,n);else if(n<65536){t=new Uint8Array(3);let o=new DataView(t.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{t=new Uint8Array(9);let o=new DataView(t.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}i.data&&typeof i.data!="string"&&(t[0]|=128),r.enqueue(t),r.enqueue(e)})}})}var Gl;function Qo(i){return i.reduce((r,e)=>r+e.length,0)}function Ko(i,r){if(i[0].length===r)return i.shift();let e=new Uint8Array(r),n=0;for(let t=0;t<r;t++)e[t]=i[0][n++],n===i[0].length&&(i.shift(),n=0);return i.length&&n<i[0].length&&(i[0]=i[0].slice(n)),e}function Wu(i,r){Gl||(Gl=new TextDecoder);let e=[],n=0,t=-1,o=!1;return new TransformStream({transform(l,d){for(e.push(l);;){if(n===0){if(Qo(e)<1)break;let m=Ko(e,1);o=(m[0]&128)===128,t=m[0]&127,t<126?n=3:t===126?n=1:n=2}else if(n===1){if(Qo(e)<2)break;let m=Ko(e,2);t=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),n=3}else if(n===2){if(Qo(e)<8)break;let m=Ko(e,8),v=new DataView(m.buffer,m.byteOffset,m.length),p=v.getUint32(0);if(p>Math.pow(2,21)-1){d.enqueue(Pr);break}t=p*Math.pow(2,32)+v.getUint32(4),n=3}else{if(Qo(e)<t)break;let m=Ko(e,t);d.enqueue(Nr(o?m:Gl.decode(m),r)),n=0}if(t===0||t>i){d.enqueue(Pr);break}}}})}var ql=4;function tt(i){if(i)return Q_(i)}function Q_(i){for(var r in tt.prototype)i[r]=tt.prototype[r];return i}tt.prototype.on=tt.prototype.addEventListener=function(i,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(r),this};tt.prototype.once=function(i,r){function e(){this.off(i,e),r.apply(this,arguments)}return e.fn=r,this.on(i,e),this};tt.prototype.off=tt.prototype.removeListener=tt.prototype.removeAllListeners=tt.prototype.removeEventListener=function(i,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,t=0;t<e.length;t++)if(n=e[t],n===r||n.fn===r){e.splice(t,1);break}return e.length===0&&delete this._callbacks["$"+i],this};tt.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),e=this._callbacks["$"+i],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,t=e.length;n<t;++n)e[n].apply(this,r)}return this};tt.prototype.emitReserved=tt.prototype.emit;tt.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};tt.prototype.hasListeners=function(i){return!!this.listeners(i).length};var _i=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,e)=>e(r,0),Tt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),zu="arraybuffer";function Zo(i,...r){return r.reduce((e,n)=>(i.hasOwnProperty(n)&&(e[n]=i[n]),e),{})}var K_=Tt.setTimeout,Z_=Tt.clearTimeout;function vi(i,r){r.useNativeTimers?(i.setTimeoutFn=K_.bind(Tt),i.clearTimeoutFn=Z_.bind(Tt)):(i.setTimeoutFn=Tt.setTimeout.bind(Tt),i.clearTimeoutFn=Tt.clearTimeout.bind(Tt))}var Y_=1.33;function Gu(i){return typeof i=="string"?X_(i):Math.ceil((i.byteLength||i.size)*Y_)}function X_(i){let r=0,e=0;for(let n=0,t=i.length;n<t;n++)r=i.charCodeAt(n),r<128?e+=1:r<2048?e+=2:r<55296||r>=57344?e+=3:(n++,e+=4);return e}function Yo(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function qu(i){let r="";for(let e in i)i.hasOwnProperty(e)&&(r.length&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return r}function $u(i){let r={},e=i.split("&");for(let n=0,t=e.length;n<t;n++){let o=e[n].split("=");r[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return r}var Xo=class extends Error{constructor(r,e,n){super(r),this.description=e,this.context=n,this.type="TransportError"}},bi=class extends tt{constructor(r){super(),this.writable=!1,vi(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,e,n){return super.emitReserved("error",new Xo(r,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){let e=Nr(r,this.socket.binaryType);this.onPacket(e)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,e={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){let e=qu(r);return e.length?"?"+e:""}};var Br=class extends bi{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";let e=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){let e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ju(r,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,Uu(r,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let r=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Yo()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(r,e)}};var Ju=!1;try{Ju=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Qu=Ju;function ev(){}var $l=class extends Br{constructor(r){if(super(r),typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n!==r.port}}doWrite(r,e){let n=this.request({method:"POST",data:r});n.on("success",e),n.on("error",(t,o)=>{this.onError("xhr post error",t,o)})}doPoll(){let r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=r}},ea=(()=>{class i extends tt{constructor(e,n,t){super(),this.createRequest=e,vi(this,t),this._opts=t,this._method=t.method||"GET",this._uri=n,this._data=t.data!==void 0?t.data:null,this._create()}_create(){var e;let n=Zo(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;let t=this._xhr=this.createRequest(n);try{t.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(t),"withCredentials"in t&&(t.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(t.timeout=this._opts.requestTimeout),t.onreadystatechange=()=>{var o;t.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(t.getResponseHeader("set-cookie"))),t.readyState===4&&(t.status===200||t.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof t.status=="number"?t.status:0)},0))},t.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=i.requestsCount++,i.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ev,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ku);else if(typeof addEventListener=="function"){let i="onpagehide"in Tt?"pagehide":"unload";addEventListener(i,Ku,!1)}}function Ku(){for(let i in ea.requests)ea.requests.hasOwnProperty(i)&&ea.requests[i].abort()}var tv=function(){let i=Zu({xdomain:!1});return i&&i.responseType!==null}(),Vi=class extends $l{constructor(r){super(r);let e=r&&r.forceBase64;this.supportsBinary=tv&&!e}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new ea(Zu,this.uri(),r)}};function Zu(i){let r=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||Qu))return new XMLHttpRequest}catch{}if(!r)try{return new Tt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Yu=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Ql=class extends bi{get name(){return"websocket"}doOpen(){let r=this.uri(),e=this.opts.protocols,n=Yu?{}:Zo(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,e,n)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let e=0;e<r.length;e++){let n=r[e],t=e===r.length-1;Fr(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}t&&_i(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let r=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Yo()),this.supportsBinary||(e.b64=1),this.createUri(r,e)}},Jl=Tt.WebSocket||Tt.MozWebSocket,Li=class extends Ql{createSocket(r,e,n){return Yu?new Jl(r,e,n):e?new Jl(r,e):new Jl(r)}doWrite(r,e){this.ws.send(e)}};var Sn=class extends bi{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{let e=Wu(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(e).getReader(),t=Hu();t.readable.pipeTo(r.writable),this._writer=t.writable.getWriter();let o=()=>{n.read().then(({done:d,value:m})=>{d||(this.onPacket(m),o())}).catch(d=>{})};o();let l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let e=0;e<r.length;e++){let n=r[e],t=e===r.length-1;this._writer.write(n).then(()=>{t&&_i(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}};var Kl={websocket:Li,webtransport:Sn,polling:Vi};var iv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wn(i){if(i.length>8e3)throw"URI too long";let r=i,e=i.indexOf("["),n=i.indexOf("]");e!=-1&&n!=-1&&(i=i.substring(0,e)+i.substring(e,n).replace(/:/g,";")+i.substring(n,i.length));let t=iv.exec(i||""),o={},l=14;for(;l--;)o[nv[l]]=t[l]||"";return e!=-1&&n!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=rv(o,o.path),o.queryKey=ov(o,o.query),o}function rv(i,r){let e=/\/{2,9}/g,n=r.replace(e,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function ov(i,r){let e={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,t,o){t&&(e[t]=o)}),e}var Zl=typeof addEventListener=="function"&&typeof removeEventListener=="function",ta=[];Zl&&addEventListener("offline",()=>{ta.forEach(i=>i())},!1);var ia=(()=>{class i extends tt{constructor(e,n){if(super(),this.binaryType=zu,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){let t=wn(e);n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)}else n.host&&(n.hostname=wn(n.host).host);vi(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(t=>{let o=t.prototype.name;this.transports.push(o),this._transportsByName[o]=t}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$u(this.opts.query)),Zl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ta.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let n=Object.assign({},this.opts.query);n.EIO=ql,n.transport=e,this.id&&(n.sid=this.id);let t=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](t)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let t=0;t<this.writeBuffer.length;t++){let o=this.writeBuffer[t].data;if(o&&(n+=Gu(o)),t>0&&n>this._maxPayload)return this.writeBuffer.slice(0,t);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,_i(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,t){return this._sendPacket("message",e,n,t),this}send(e,n,t){return this._sendPacket("message",e,n,t),this}_sendPacket(e,n,t,o){if(typeof n=="function"&&(o=n,n=void 0),typeof t=="function"&&(o=t,t=null),this.readyState==="closing"||this.readyState==="closed")return;t=t||{},t.compress=t.compress!==!1;let l={type:e,data:n,options:t};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},t=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?t():e()}):this.upgrading?t():e()),this}_onError(e){if(i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Zl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let t=ta.indexOf(this._offlineEventListener);t!==-1&&ta.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}return i.protocol=ql,i})(),na=class extends ia{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let e=this.createTransport(r),n=!1;ia.priorWebsocketSuccess=!1;let t=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",y=>{if(!n)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;ia.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let C=new Error("probe error");C.transport=e.name,this.emitReserved("upgradeError",C)}}))};function o(){n||(n=!0,p(),e.close(),e=null)}let l=y=>{let C=new Error("probe error: "+y);C.transport=e.name,o(),this.emitReserved("upgradeError",C)};function d(){l("transport closed")}function m(){l("socket closed")}function v(y){e&&y.name!==e.name&&o()}let p=()=>{e.removeListener("open",t),e.removeListener("error",l),e.removeListener("close",d),this.off("close",m),this.off("upgrading",v)};e.once("open",t),e.once("error",l),e.once("close",d),this.once("close",m),this.once("upgrading",v),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){let e=[];for(let n=0;n<r.length;n++)~this.transports.indexOf(r[n])&&e.push(r[n]);return e}},En=class extends na{constructor(r,e={}){let n=typeof r=="object"?r:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(t=>Kl[t]).filter(t=>!!t)),super(r,n)}};var Kw=En.protocol;function Xu(i,r="",e){let n=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),n=wn(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+r,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}var nc={};Xp(nc,{Decoder:()=>tc,Encoder:()=>ec,PacketType:()=>Ne,protocol:()=>rm});var sv=typeof ArrayBuffer=="function",lv=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,em=Object.prototype.toString,cv=typeof Blob=="function"||typeof Blob<"u"&&em.call(Blob)==="[object BlobConstructor]",dv=typeof File=="function"||typeof File<"u"&&em.call(File)==="[object FileConstructor]";function Vr(i){return sv&&(i instanceof ArrayBuffer||lv(i))||cv&&i instanceof Blob||dv&&i instanceof File}function Rr(i,r){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,n=i.length;e<n;e++)if(Rr(i[e]))return!0;return!1}if(Vr(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Rr(i.toJSON(),!0);for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&Rr(i[e]))return!0;return!1}function tm(i){let r=[],e=i.data,n=i;return n.data=Yl(e,r),n.attachments=r.length,{packet:n,buffers:r}}function Yl(i,r){if(!i)return i;if(Vr(i)){let e={_placeholder:!0,num:r.length};return r.push(i),e}else if(Array.isArray(i)){let e=new Array(i.length);for(let n=0;n<i.length;n++)e[n]=Yl(i[n],r);return e}else if(typeof i=="object"&&!(i instanceof Date)){let e={};for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=Yl(i[n],r));return e}return i}function im(i,r){return i.data=Xl(i.data,r),delete i.attachments,i}function Xl(i,r){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<r.length)return r[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=Xl(i[e],r);else if(typeof i=="object")for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=Xl(i[e],r));return i}var uv=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],rm=5,Ne=function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i}(Ne||{}),ec=class{constructor(r){this.replacer=r}encode(r){return(r.type===Ne.EVENT||r.type===Ne.ACK)&&Rr(r)?this.encodeAsBinary({type:r.type===Ne.EVENT?Ne.BINARY_EVENT:Ne.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let e=""+r.type;return(r.type===Ne.BINARY_EVENT||r.type===Ne.BINARY_ACK)&&(e+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(e+=r.nsp+","),r.id!=null&&(e+=r.id),r.data!=null&&(e+=JSON.stringify(r.data,this.replacer)),e}encodeAsBinary(r){let e=tm(r),n=this.encodeAsString(e.packet),t=e.buffers;return t.unshift(n),t}};function nm(i){return Object.prototype.toString.call(i)==="[object Object]"}var tc=class i extends tt{constructor(r){super(),this.reviver=r}add(r){let e;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(r);let n=e.type===Ne.BINARY_EVENT;n||e.type===Ne.BINARY_ACK?(e.type=n?Ne.EVENT:Ne.ACK,this.reconstructor=new ic(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(Vr(r)||r.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(r),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let e=0,n={type:Number(r.charAt(0))};if(Ne[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ne.BINARY_EVENT||n.type===Ne.BINARY_ACK){let o=e+1;for(;r.charAt(++e)!=="-"&&e!=r.length;);let l=r.substring(o,e);if(l!=Number(l)||r.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(r.charAt(e+1)==="/"){let o=e+1;for(;++e&&!(r.charAt(e)===","||e===r.length););n.nsp=r.substring(o,e)}else n.nsp="/";let t=r.charAt(e+1);if(t!==""&&Number(t)==t){let o=e+1;for(;++e;){let l=r.charAt(e);if(l==null||Number(l)!=l){--e;break}if(e===r.length)break}n.id=Number(r.substring(o,e+1))}if(r.charAt(++e)){let o=this.tryParse(r.substr(e));if(i.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,e){switch(r){case Ne.CONNECT:return nm(e);case Ne.DISCONNECT:return e===void 0;case Ne.CONNECT_ERROR:return typeof e=="string"||nm(e);case Ne.EVENT:case Ne.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&uv.indexOf(e[0])===-1);case Ne.ACK:case Ne.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},ic=class{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){let e=im(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function zt(i,r,e){return i.on(r,e),function(){i.off(r,e)}}var mv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Mn=class extends tt{constructor(r,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let r=this.io;this.subs=[zt(r,"open",this.onopen.bind(this)),zt(r,"packet",this.onpacket.bind(this)),zt(r,"error",this.onerror.bind(this)),zt(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...e){var n,t,o;if(mv.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(e.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let l={type:Ne.EVENT,data:e};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let p=this.ids++,y=e.pop();this._registerAckCallback(p,y),l.id=p}let d=(t=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||t===void 0?void 0:t.writable,m=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!d||(m?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(r,e){var n;let t=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(t===void 0){this.acks[r]=e;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===r&&this.sendBuffer.splice(d,1);e.call(this,new Error("operation has timed out"))},t),l=(...d)=>{this.io.clearTimeoutFn(o),e.apply(this,d)};l.withError=!0,this.acks[r]=l}emitWithAck(r,...e){return new Promise((n,t)=>{let o=(l,d)=>l?t(l):n(d);o.withError=!0,e.push(o),this.emit(r,...e)})}_addToQueue(r){let e;typeof r[r.length-1]=="function"&&(e=r.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((t,...o)=>n!==this._queue[0]?void 0:(t!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!r||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Ne.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){let n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Ne.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ne.EVENT:case Ne.BINARY_EVENT:this.onevent(r);break;case Ne.ACK:case Ne.BINARY_ACK:this.onack(r);break;case Ne.DISCONNECT:this.ondisconnect();break;case Ne.CONNECT_ERROR:this.destroy();let n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){let e=r.data||[];r.id!=null&&e.push(this.ack(r.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let n of e)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){let e=this,n=!1;return function(...t){n||(n=!0,e.packet({type:Ne.ACK,id:r,data:t}))}}onack(r){let e=this.acks[r.id];typeof e=="function"&&(delete this.acks[r.id],e.withError&&r.data.unshift(null),e.apply(this,r.data))}onconnect(r,e){this.id=r,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){let e=this._anyListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){let e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let n of e)n.apply(this,r.data)}}};function Qi(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Qi.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),e=Math.floor(r*this.jitter*i);i=Math.floor(r*10)&1?i+e:i-e}return Math.min(i,this.max)|0};Qi.prototype.reset=function(){this.attempts=0};Qi.prototype.setMin=function(i){this.ms=i};Qi.prototype.setMax=function(i){this.max=i};Qi.prototype.setJitter=function(i){this.jitter=i};var Dn=class extends tt{constructor(r,e){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(e=r,r=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,vi(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Qi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=r;let t=e.parser||nc;this.encoder=new t.Encoder,this.decoder=new t.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var e;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(e=this.backoff)===null||e===void 0||e.setMin(r),this)}randomizationFactor(r){var e;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(e=this.backoff)===null||e===void 0||e.setJitter(r),this)}reconnectionDelayMax(r){var e;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(e=this.backoff)===null||e===void 0||e.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new En(this.uri,this.opts);let e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let t=zt(e,"open",function(){n.onopen(),r&&r()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),r?r(d):this.maybeReconnectOnOpen()},l=zt(e,"error",o);if(this._timeout!==!1){let d=this._timeout,m=this.setTimeoutFn(()=>{t(),o(new Error("timeout")),e.close()},d);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(t),this.subs.push(l),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let r=this.engine;this.subs.push(zt(r,"ping",this.onping.bind(this)),zt(r,"data",this.ondata.bind(this)),zt(r,"error",this.onerror.bind(this)),zt(r,"close",this.onclose.bind(this)),zt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(e){this.onclose("parse error",e)}}ondecoded(r){_i(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,e){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new Mn(this,r,e),this.nsps[r]=n),n}_destroy(r){let e=Object.keys(this.nsps);for(let n of e)if(this.nsps[n].active)return;this._close()}_packet(r){let e=this.encoder.encode(r);for(let n=0;n<e.length;n++)this.engine.write(e[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(t=>{t?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",t)):r.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}};var Lr={};function Ur(i,r){typeof i=="object"&&(r=i,i=void 0),r=r||{};let e=Xu(i,r.path||"/socket.io"),n=e.source,t=e.id,o=e.path,l=Lr[t]&&o in Lr[t].nsps,d=r.forceNew||r["force new connection"]||r.multiplex===!1||l,m;return d?m=new Dn(n,r):(Lr[t]||(Lr[t]=new Dn(n,r)),m=Lr[t]),e.query&&!r.query&&(r.query=e.queryKey),m.socket(e.path,r)}Object.assign(Ur,{Manager:Dn,Socket:Mn,io:Ur,connect:Ur});var om={production:!0,baseUrl:"https://apiadm.mispeluquerias.com",socketUrl:"https://api.mispeluquerias.com"};var Ui=(()=>{class i{constructor(e,n){this.router=e,this.http=n,this.baseUrl=le.baseUrl}isAuthenticated(){return this.isLocalStorageAvailable()?!!localStorage.getItem("Token"):!1}getUserType(){let e=localStorage.getItem("permiso");return e?this.http.post(`${this.baseUrl}/decode-permiso`,{permiso:e}).pipe(we(n=>n.permiso||"client")):new ui(n=>{n.next("client"),n.complete()})}isLocalStorageAvailable(){try{let e="test";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}logout(){localStorage.removeItem("Token"),localStorage.removeItem("usuarioId"),localStorage.removeItem("permiso"),this.router.navigate(["/login"])}static{this.\u0275fac=function(n){return new(n||i)(L(qe),L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var am=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getImgUser(e){let n=new ye().set("id_user",e.toString());return this.http.get(`${this.baseUrl}/header/getImgUser`,{params:n})}getAlertCount(){return this.http.get(`${this.baseUrl}/notifications/count`)}getAllNotifications(){return this.http.get(`${this.baseUrl}/notifications/all`)}deleteNotification(e){return this.http.delete(`${this.baseUrl}/notifications/delete/${e}`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function pv(i,r){if(i&1){let e=z();s(0,"li",23)(1,"a",24),h(2,"i",25),c(3),a(),s(4,"button",26),f("click",function(){let t=g(e).$implicit,o=x(3);return _(o.removeNotification(t.id_alert_admin))}),h(5,"i",27),a()()}if(i&2){let e=r.$implicit;u(),sn("href",e.url,Ie),u(2),Y(" ",e.text," ")}}function fv(i,r){if(i&1&&(he(0),D(1,pv,6,2,"li",22),pe()),i&2){let e=x(2);u(),b("ngForOf",e.notifications)}}function gv(i,r){i&1&&(s(0,"li")(1,"a",28),c(2,"Sin notificaciones"),a()())}function _v(i,r){if(i&1&&(s(0,"li",16)(1,"a",17),h(2,"i",18),s(3,"span",19),c(4),a()(),s(5,"ul",20),D(6,fv,2,1,"ng-container",21)(7,gv,3,0,"ng-template",null,0,ln),a()()),i&2){let e=Se(8),n=x();u(4),V(n.alertCount),u(2),b("ngIf",n.notifications.length>0)("ngIfElse",e)}}var ge=(()=>{class i{constructor(e,n){this.authService=e,this.headerService=n,this.userImagePath="",this.id_user=localStorage.getItem("usuarioId"),this.alertCount=0,this.notifications=[],this.userType=null}ngOnInit(){this.id_user?this.getImgUser(this.id_user):console.error("El usuarioId no est\xE1 disponible en localStorage"),this.socket=Ur(om.socketUrl),this.socket.on("new-alert",e=>{this.getAlertCount(),this.getNotifications()}),this.authService.getUserType().subscribe(e=>{this.userType=e},e=>{console.error("Error al obtener el tipo de usuario:",e)}),console.log(this.userImagePath),this.getAlertCount(),this.getNotifications()}getAlertCount(){this.headerService.getAlertCount().subscribe({next:e=>{this.alertCount=e.total},error:e=>{console.error("Error al obtener el total de alertas:",e)}})}getNotifications(){this.headerService.getAllNotifications().subscribe({next:e=>{this.notifications=e},error:e=>{console.error("Error al obtener las notificaciones:",e)}})}ngAfterViewInit(){try{let e=document.querySelector("#sidebarToggle");e?e.addEventListener("click",n=>{n.preventDefault(),document.body.classList.toggle("sb-sidenav-toggled"),localStorage.setItem("sb|sidebar-toggle",document.body.classList.contains("sb-sidenav-toggled").toString())}):console.log("Elemento #sidebarToggle no encontrado")}catch(e){console.log("Error al inicializar el toggle de la barra lateral:",e)}}getImgUser(e){this.headerService.getImgUser(e).subscribe(n=>{n.data&&n.data.length>0?this.userImagePath=n.data[0].avatar_path:(console.error("No se encontr\xF3 la imagen en la respuesta."),this.userImagePath="../../../../assets/img/sello.jpg")},n=>{console.error("Error al obtener la imagen del usuario:",n),this.userImagePath="../../../../assets/img/sello.jpg"})}logout(){this.authService.logout()}removeNotification(e){console.log(e),this.headerService.deleteNotification(e).subscribe({next:n=>{this.notifications=n,this.getAlertCount(),this.getNotifications()},error:n=>{console.error("Error al eliminar la notificaci\xF3n:",n)}})}static{this.\u0275fac=function(n){return new(n||i)(B(Ui),B(am))}}static{this.\u0275cmp=re({type:i,selectors:[["app-header"]],decls:21,vars:2,consts:[["noNotifications",""],[1,"sb-topnav","navbar","navbar-expand","navbar-dark","bg-dark"],["routerLink","/home",1,"navbar-brand","ps-3",2,"color","#fff !important"],["id","sidebarToggle",1,"btn","btn-link","btn-sm","order-1","order-lg-0","me-4","me-lg-0"],[1,"fas","fa-bars"],[1,"navbar-nav","ms-auto"],["class","nav-item dropdown me-3",4,"ngIf"],[1,"nav-item","dropdown"],["id","navbarDropdownUser","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","d-flex","align-items-center","me-4"],["alt","Foto de perfil","width","40","height","40",1,"rounded-circle",3,"src"],["aria-labelledby","navbarDropdownUser",1,"dropdown-menu","dropdown-menu-end","bg-light","text"],["href","profile",1,"dropdown-item"],[1,"las","la-user-circle"],[1,"dropdown-divider"],["href","#",1,"dropdown-item",3,"click"],[1,"las","la-sign-out-alt"],[1,"nav-item","dropdown","me-3"],["id","navbarDropdownCampaign","href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","custom-badge","position-relative","d-flex","align-items-center"],[1,"fas","fa-bell","fa-xl",2,"margin-top","9px","color","#fff"],[1,"badge","bg-danger","position-absolute","translate-middle",2,"top","20px","left","75%"],["aria-labelledby","navbarDropdownCampaign",1,"dropdown-menu","dropdown-menu-end",2,"cursor","pointer","margin-top","-4px"],[4,"ngIf","ngIfElse"],["style","border-bottom: darkgrey solid 1px; padding: 0.3rem;","class","d-flex align-items-center justify-content-between",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between",2,"border-bottom","darkgrey solid 1px","padding","0.3rem"],[1,"dropdown-item",2,"font-size","0.9rem",3,"href"],[1,"fa-regular","fa-bell"],["type","button",1,"btn","btn-danger","btn-sm","ms-2",2,"font-size","0.5rem",3,"click"],[1,"las","la-times"],[1,"dropdown-item"]],template:function(n,t){n&1&&(s(0,"nav",1)(1,"a",2),c(2,"Mis peluquer\xEDas \xAE"),a(),s(3,"button",3),h(4,"i",4),a(),s(5,"ul",5),D(6,_v,9,3,"li",6),s(7,"li",7)(8,"a",8),h(9,"img",9),a(),s(10,"ul",10)(11,"li")(12,"a",11),h(13,"i",12),c(14," Mi perfil"),a()(),s(15,"li"),h(16,"hr",13),a(),s(17,"li")(18,"a",14),f("click",function(){return t.logout()}),h(19,"i",15),c(20," Salir"),a()()()()()()),n&2&&(u(6),b("ngIf",t.userType==="admin"),u(3),b("src",t.userImagePath||"../../../../assets/img/sello.jpg",Ie))},dependencies:[ue,ce,lt],styles:["a[_ngcontent-%COMP%]{color:#000}"]})}}return i})();var _e=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["app-footer"]],decls:11,vars:0,consts:[[1,"py-4","bg-light","mt-auto"],[1,"container-fluid","px-4"],[1,"d-flex","align-items-center","justify-content-between","small"],[1,"text-muted"],["href","#"]],template:function(n,t){n&1&&(s(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"Copyright \xA9 Mis Peluquerias"),a(),s(5,"div")(6,"a",4),c(7,"Privacy Policy"),a(),c(8," \xB7 "),s(9,"a",4),c(10,"Terms & Conditions"),a()()()()())}})}}return i})();var sm=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getUserName(e){let n=new ye().set("id_user",e.toString());return this.http.get(`${this.baseUrl}/aside/getUserName`,{params:n})}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-aside`,{params:{permiso:e||""}})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function bv(i,r){i&1&&(he(0),s(1,"a",11)(2,"div",12),h(3,"i",13),a(),c(4," Negocios "),a(),s(5,"a",14)(6,"div",12),h(7,"i",15),a(),c(8," Propietarios "),a(),s(9,"a",16)(10,"div",12),h(11,"i",17),a(),c(12," Reclamaciones "),a(),s(13,"a",18)(14,"div",12),h(15,"i",19),a(),c(16," Contacto Profesional "),a(),s(17,"div",7),c(18,"Portal de Empleo"),a(),s(19,"a",20)(20,"div",12),h(21,"i",21),a(),c(22," Categor\xEDas Empleo "),a(),s(23,"a",22)(24,"div",12),h(25,"i",23),a(),c(26," Im\xE1genes Anuncios "),a(),s(27,"a",24)(28,"div",12),h(29,"i",25),a(),c(30," Ofertas de empleo "),a(),pe())}function yv(i,r){i&1&&(he(0),s(1,"a",11)(2,"div",12),h(3,"i",13),a(),c(4," Negocios "),a(),s(5,"div",7),c(6,"Portal de Empleo"),a(),s(7,"a",24)(8,"div",12),h(9,"i",25),a(),c(10," Ofertas de empleo "),a(),pe())}function Cv(i,r){i&1&&(he(0),s(1,"div",7),c(2,"Clientes Web"),a(),s(3,"a",26)(4,"div",12),h(5,"i",27),a(),c(6," Clientes "),a(),s(7,"a",28)(8,"div",12),h(9,"i",29),a(),c(10," Contacto "),a(),pe())}function xv(i,r){i&1&&(he(0),s(1,"div",7),c(2,"Administraci\xF3n"),a(),s(3,"a",30)(4,"div",12),h(5,"i",31),a(),c(6," Administradores "),a(),s(7,"a",32)(8,"div",12),h(9,"i",33),a(),c(10," Poblaciones "),a(),s(11,"a",34)(12,"div",12),h(13,"i",35),a(),c(14," Categorias "),a(),s(15,"a",36)(16,"div",12),h(17,"i",37),a(),c(18," Servicios "),a(),s(19,"a",38)(20,"div",12),h(21,"i",39),a(),c(22," Marcas "),a(),s(23,"a",40)(24,"div",12),h(25,"i",41),a(),c(26," Exportar "),a(),s(27,"a",42)(28,"div",12),h(29,"i",43),a(),c(30," Importar "),a(),pe())}var ve=(()=>{class i{constructor(e,n){this.asideService=e,this.route=n,this.id_user="",this.userName="",this.salonPermiso="",this.mostrarNegocios=!1,this.contactId=0}ngOnInit(){this.id_user=localStorage.getItem("usuarioId"),this.id_user?this.getUserName():console.log("No userId found in localStorage"),this.contactId=Number(this.route.snapshot.paramMap.get("id")),this.asideService.getUserPermiso().subscribe(e=>{e.permiso==="salon"?(this.salonPermiso="salon",this.mostrarNegocios=!0):e.permiso==="admin"?(this.salonPermiso="admin",this.mostrarNegocios=!0):this.mostrarNegocios=!1},e=>{console.log("Error fetching permiso:",e)})}getUserName(){this.asideService.getUserName(this.id_user).subscribe(e=>{e&&e.success?e.data&&e.data.length>0?this.userName=e.data[0].name:console.error("No user name found in response data"):console.error("Error: ",e.message)},e=>{console.error("Error fetching user name:",e)})}static{this.\u0275fac=function(n){return new(n||i)(B(sm),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-aside"]],decls:17,vars:5,consts:[["id","layoutSidenav"],["id","layoutSidenav_nav"],["id","sidenavAccordion",1,"sb-sidenav","accordion","sb-sidenav-light"],[1,"sb-sidenav-menu"],[1,"nav"],[1,"d-flex","justify-content-center"],["src","../../../../assets/img/sello.jpg","alt","","width","75",1,"img-fluid","mt-4",2,"border-radius","39px"],[1,"sb-sidenav-menu-heading"],[4,"ngIf"],[1,"sb-sidenav-footer"],[1,"small"],["routerLink","/home",1,"nav-link"],[1,"sb-nav-link-icon"],[1,"fas","fa-briefcase",2,"font-size","1.1rem"],["routerLink","/owners",1,"nav-link"],[1,"fa-solid","fa-user-check",2,"font-size","1.1rem"],["routerLink","/reclamations",1,"nav-link"],[1,"fa-solid","fa-file-circle-exclamation",2,"font-size","1.1rem"],["routerLink","/contact-proffesional",1,"nav-link"],[1,"fa-solid","fa-envelope-open",2,"font-size","1.1rem"],["routerLink","/categories-jobs",1,"nav-link"],[1,"fa-solid","fa-table-list",2,"font-size","1.1rem"],["routerLink","/img-jobs",1,"nav-link"],[1,"fa-regular","fa-image",2,"font-size","1.1rem"],["routerLink","/job-offer",1,"nav-link"],[1,"fa-solid","fa-envelope-open-text",2,"font-size","1.1rem"],["routerLink","/clients",1,"nav-link"],[1,"fa-solid","fa-users",2,"font-size","1.1rem"],["routerLink","/contact",1,"nav-link"],[1,"fa-solid","fa-envelope",2,"font-size","1.1rem"],["routerLink","/administrators",1,"nav-link"],[1,"fa-solid","fa-user-tie",2,"font-size","1.1rem"],["routerLink","/cities",1,"nav-link"],[1,"fa-solid","fa-map-location-dot",2,"font-size","1.1rem"],["routerLink","/categories",1,"nav-link"],[1,"fa-regular","fa-folder-open",2,"font-size","1.1rem"],["routerLink","/services",1,"nav-link"],[1,"fa-solid","fa-scissors",2,"font-size","1.1rem"],["routerLink","/brands",1,"nav-link"],[1,"fa-solid","fa-copyright",2,"font-size","1.1rem"],["routerLink","/export",1,"nav-link"],[1,"fa-solid","fa-file-export",2,"font-size","1.1rem"],["routerLink","/import",1,"nav-link"],[1,"fa-solid","fa-file-import",2,"font-size","1.1rem"]],template:function(n,t){n&1&&(s(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"img",6),a(),s(7,"div",7),c(8,"Propietarios"),a(),D(9,bv,31,0,"ng-container",8)(10,yv,11,0,"ng-container",8)(11,Cv,11,0,"ng-container",8)(12,xv,31,0,"ng-container",8),a()(),s(13,"div",9)(14,"div",10),c(15,"Iniciado sesi\xF3n como:"),a(),c(16),a()()()()),n&2&&(u(9),b("ngIf",t.salonPermiso==="admin"),u(),b("ngIf",t.salonPermiso==="salon"),u(),b("ngIf",t.salonPermiso==="admin"),u(),b("ngIf",t.salonPermiso==="admin"),u(4),Y(" ",t.userName," "))},dependencies:[ce,lt],styles:["nav[_ngcontent-%COMP%]{background-color:#fff!important}a[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#b91622!important}"]})}}return i})();function Sv(i,r){i&1&&(s(0,"button",57),c(1,"Nuevo"),a())}function wv(i,r){i&1&&(s(0,"div",58)(1,"button",59),c(2,"Eliminar seleccionados"),a()())}function Ev(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",60),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",61),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td")(11,"a",62),c(12," Ir al sitio "),a()(),s(13,"td"),c(14),a(),s(15,"td")(16,"button",63),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editSalon(t.id_salon))}),h(17,"i",64),a()()()}if(i&2){let e=r.$implicit,n=x();u(2),T("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),V(e.email),u(2),V(e.phone),u(2),b("href",n.getSalonUrl(e),Ie),u(3),V(e.state)}}function Mv(i,r){i&1&&(he(0),s(1,"span",66),c(2,"..."),a(),pe())}function Dv(i,r){if(i&1){let e=z();he(0),s(1,"a",67),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Tv(i,r){if(i&1&&(s(0,"li",38),D(1,Mv,3,0,"ng-container",65)(2,Dv,3,1,"ng-container",65),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var lm=(()=>{class i{constructor(e,n,t){this.homeService=e,this.router=n,this.toastr=t,this.AllSalon=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.searchText="",this.filterState="",this.filterActive=!0,this.salonPermiso="",this.showBoton=!1,this.allSelected=!1}ngOnInit(){this.loadAllSalon(this.currentPage),this.homeService.getUserPermiso().subscribe(e=>{e.permiso==="salon"?(this.salonPermiso="salon",this.showBoton=!1):e.permiso==="admin"?(this.salonPermiso="admin",this.showBoton=!0):this.showBoton=!1},e=>{console.log("Error fetching permiso:",e)})}loadAllSalon(e){this.homeService.loadAllSalon(e,this.pageSize,this.searchText,this.filterState,this.filterActive).subscribe({next:n=>{this.AllSalon=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}onFilterChange(){this.currentPage=1,this.loadAllSalon(this.currentPage)}onSearch(){this.loadAllSalon(this.currentPage),this.searchText.trim()===""&&this.loadAllSalon(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllSalon(e)}getSalonUrl(e){return!e||!e.name||!e.id_salon?"#":`https://www.mispeluquerias.com/centro/${e.name.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-")}/${e.id_salon}`}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllSalon.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllSalon.every(e=>e.selected)}hasSelected(){return this.AllSalon.some(e=>e.selected)}editSalon(e){this.router.navigate(["home/edit",e])}confirmDelete(){let e=this.AllSalon.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn negocio para eliminar.");return}console.log("Negocios seleccionados para eliminar:",e);let n=e.map(t=>t.id_salon);this.homeService.deleteBusiness(n).subscribe({next:()=>{this.toastr.success("Negocio/s eliminados con \xE9xito"),this.loadAllSalon(this.currentPage),this.AllSalon.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando negocios",t),this.toastr.error("Error al eliminar los negocio/s seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(U0),B(qe),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-home"]],decls:106,vars:16,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-2"],[1,"dropdown-menu","p-3",2,"min-width","200px"],[1,"mb-2"],["for","largeSelect",1,"form-label"],["id","largeSelect",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","No reclamado"],["value","Validado"],["value","Reclamado"],[1,"dropdown-divider"],["for","flexSwitchCheckDefault",1,"form-label","d-block"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModelChange","change","ngModel"],["class","btn btn-danger","routerLink","/new-home",4,"ngIf"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","deleteBusinessModal","tabindex","-1","aria-labelledby","deleteBusinessModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","deleteBusinessModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["routerLink","/new-home",1,"btn","btn-danger"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteBusinessModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-house"],["target","_blank",1,"text-dark",3,"href"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Administraci\xF3n / "),s(11,"b"),c(12,"Negocios"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Negocios "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"div",14)(23,"button",15),c(24," Filtro "),a(),s(25,"ul",16)(26,"li",17)(27,"label",18),c(28,"Estado"),a(),s(29,"select",19),I("ngModelChange",function(l){return A(t.filterState,l)||(t.filterState=l),l}),f("change",function(){return t.onFilterChange()}),s(30,"option",20),c(31,"Todos"),a(),s(32,"option",21),c(33,"No reclamado"),a(),s(34,"option",22),c(35,"Validado"),a(),s(36,"option",23),c(37,"Reclamado"),a()()(),s(38,"li"),h(39,"hr",24),a(),s(40,"li",17)(41,"label",25),c(42,"\xBFActivo?"),a(),s(43,"div",26)(44,"input",27),I("ngModelChange",function(l){return A(t.filterActive,l)||(t.filterActive=l),l}),f("change",function(){return t.onFilterChange()}),a()()(),s(45,"li"),h(46,"hr",24),a()()(),D(47,Sv,2,0,"button",28),a(),D(48,wv,3,0,"div",29),a(),s(49,"div",30)(50,"table",31)(51,"thead",32)(52,"tr")(53,"th")(54,"input",33),f("change",function(){return t.toggleAllSelection()}),a()(),s(55,"th"),c(56,"Nombre"),a(),s(57,"th"),c(58,"Email"),a(),s(59,"th"),c(60,"Telefono"),a(),s(61,"th"),c(62,"URl"),a(),s(63,"th"),c(64,"Estado"),a(),s(65,"th",34),c(66,"Editar"),a()()(),s(67,"tbody"),D(68,Ev,18,6,"tr",35),a()()(),s(69,"nav",36)(70,"ul",37)(71,"li",38)(72,"a",39),f("click",function(){return t.onPageChange(1)}),s(73,"span",40),c(74,"\xAB\xAB"),a()()(),s(75,"li",38)(76,"a",41),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(77,"span",40),c(78,"\xAB"),a()()(),D(79,Tv,3,6,"li",42),s(80,"li",38)(81,"a",43),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(82,"span",40),c(83,"\xBB"),a()()(),s(84,"li",38)(85,"a",44),f("click",function(){return t.onPageChange(t.pageCount)}),s(86,"span",40),c(87,"\xBB\xBB"),a()()()()()()()()(),h(88,"app-footer"),a()(),s(89,"div",45)(90,"div",46)(91,"div",47)(92,"div",48)(93,"h5",49),c(94,"Eliminar Negocios"),a(),h(95,"button",50),a(),s(96,"div",51)(97,"div",52),h(98,"img",53),a(),s(99,"p"),c(100,"\xBFEst\xE1s seguro que deseas eliminar los negicio/os seleccionados?"),a()(),s(101,"div",54)(102,"button",55),f("click",function(){return t.confirmDelete()}),c(103,"Eliminar"),a(),s(104,"button",56),c(105,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(9),T("ngModel",t.filterState),u(15),T("ngModel",t.filterActive),u(3),b("ngIf",t.salonPermiso=="admin"),u(),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(14),b("ngForOf",t.AllSalon),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,lt,Qe,Ke,me,Ve,je,fe,Ce,ge,_e,ve],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Hr=$a(_h());function Av(i,r){i&1&&(s(0,"div"),c(1,"Email es requerido."),a())}function Iv(i,r){i&1&&(s(0,"div"),c(1,"Email no es v\xE1lido."),a())}function kv(i,r){if(i&1&&(s(0,"div",44),D(1,Av,2,0,"div",45)(2,Iv,2,0,"div",45),a()),i&2){let e=x();u(),b("ngIf",e.loginForm.controls.email.errors==null?null:e.loginForm.controls.email.errors.required),u(),b("ngIf",e.loginForm.controls.email.errors==null?null:e.loginForm.controls.email.errors.email)}}function Pv(i,r){if(i&1&&(s(0,"div",46),c(1),a()),i&2){let e=x();u(),V(e.errorMessage)}}var ac=(()=>{class i{constructor(e,n,t){this.fb=e,this.http=n,this.router=t,this.errorMessage="",this.encryptionKey="b3d5b524b5064bf7714c59261101b842ad378f2ba94d98a739b9b01cf219515f",this.showPassword=!1,this.baseUrl=le.baseUrl,this.loginForm=this.fb.group({email:["",[yn.required,yn.email]],password:["",yn.required],rememberMe:[!1]})}togglePasswordVisibility(){this.showPassword=!this.showPassword}ngOnInit(){if(typeof window<"u"&&typeof window.localStorage<"u"){let e=this.getDecryptedData(localStorage,"email"),n=this.getDecryptedData(localStorage,"password");e&&n&&this.loginForm.patchValue({email:e,password:n,rememberMe:!0})}}onSubmit(){this.loginForm.valid&&this.http.post(`${this.baseUrl}/login`,this.loginForm.value).subscribe({next:e=>{e.token?(localStorage.setItem("Token",e.token),localStorage.setItem("usuarioId",e.usuarioId),localStorage.setItem("permiso",e.permiso),this.loginForm.get("rememberMe")?.value?(this.saveEncryptedData(localStorage,"email",this.loginForm.get("email")?.value),this.saveEncryptedData(localStorage,"password",this.loginForm.get("password")?.value)):(localStorage.removeItem("email"),localStorage.removeItem("password")),this.errorMessage="",this.router.navigate(["/home"])):this.errorMessage="Faltan datos en la respuesta del servidor"},error:e=>{console.error("Error en login",e),this.errorMessage=e.error.message||"Credenciales inv\xE1lidas. Por favor, int\xE9ntalo de nuevo."}})}saveEncryptedData(e,n,t){let o=Hr.AES.encrypt(t,this.encryptionKey).toString();e.setItem(n,o)}getDecryptedData(e,n){let t=e.getItem(n);return t?Hr.AES.decrypt(t,this.encryptionKey).toString(Hr.enc.Utf8):null}static{this.\u0275fac=function(n){return new(n||i)(B(Du),B(se),B(qe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-login"]],decls:54,vars:6,consts:[[1,"bg-light"],[1,"container-fluid","vh-100","d-flex","align-items-center","justify-content-center"],[1,"authentication-wrapper","authentication-cover","w-100"],[1,"authentication-inner","row","m-0"],[1,"d-none","d-lg-flex","col-lg-7","col-xl-8","align-items-center","p-5"],[1,"w-100","d-flex","justify-content-center"],["src","../../../assets/img/login-image.png","alt","Login image","width","700",1,"img-fluid"],[1,"d-flex","col-12","col-lg-5","col-xl-4","align-items-center","bg-white","p-sm-5","p-4"],[1,"w-100","mx-auto"],[1,"app-brand","mb-3","text-center"],["href","/",1,"app-brand-link","gap-2"],[1,"app-brand-logo","demo"],["width","400","src","../../../assets/img/logo-mis-peluquerias-bk.svg",1,"img-fluid"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Introduce tu Email","autofocus","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"mb-3","form-password-toggle"],["for","password",1,"form-label"],[1,"input-group","input-group-merge"],["id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","aria-describedby","password",1,"form-control",3,"type"],[1,"input-group-text","cursor-pointer",3,"click"],[3,"ngClass"],[1,"mb-3","d-flex","justify-content-between"],[1,"form-check"],["type","checkbox","id","remember-me","formControlName","rememberMe",1,"form-check-input"],["for","remember-me",1,"form-check-label"],["type","button","data-bs-toggle","modal","data-bs-target","#modal_add_item",1,"btn","btn-link","d-none"],["type","submit",1,"btn","btn-danger","d-grid","w-100",3,"disabled"],["class","text-danger mt-3",4,"ngIf"],["id","modal_add_item","tabindex","-1","aria-hidden","true","aria-modal","true","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-simple","modal-lg"],[1,"modal-content","p-3","p-md-5"],[1,"modal-body","py-2","px-4"],["id","modal_add_item_header",1,"text-center","mb-4"],["id","modal_title"],["type","reset","data-item-modal-action","close","aria-label","Close",1,"btn-close"],[1,"form-group","col-12"],["for","email_restore",1,"form-label"],["type","email","name","email","id","email_restore",1,"form-control"],[1,"col-12","text-center"],["type","reset","data-item-modal-action","cancel","aria-label","Close",1,"btn","btn-label-secondary","me-sm-3","me-1"],["type","submit","data-item-modal-action","submit",1,"btn","btn-primary"],[1,"text-danger"],[4,"ngIf"],[1,"text-danger","mt-3"]],template:function(n,t){n&1&&(s(0,"body",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"img",6),a()(),s(7,"div",7)(8,"div",8)(9,"div",9)(10,"a",10)(11,"span",11),h(12,"img",12),a()()(),s(13,"form",13),f("ngSubmit",function(){return t.onSubmit()}),s(14,"div",14)(15,"label",15),c(16,"Email"),a(),h(17,"input",16),D(18,kv,3,2,"div",17),a(),s(19,"div",18)(20,"label",19),c(21,"Contrase\xF1a"),a(),s(22,"div",20),h(23,"input",21),s(24,"span",22),f("click",function(){return t.togglePasswordVisibility()}),h(25,"i",23),a()()(),s(26,"div",24)(27,"div",25),h(28,"input",26),s(29,"label",27),c(30," Recu\xE9rdame"),a()(),s(31,"button",28)(32,"small"),c(33,"Olvid\xF3 su contrase\xF1a"),a()()(),s(34,"button",29),c(35,"Entrar"),a(),D(36,Pv,2,1,"div",30),a()()()()()(),s(37,"div",31)(38,"div",32)(39,"div",33)(40,"div",34)(41,"div",35)(42,"h3",36),c(43,"Cambiar contrase\xF1a"),a()(),h(44,"button",37),s(45,"div",38)(46,"label",39),c(47,"Email"),a(),h(48,"input",40),a(),s(49,"div",41)(50,"button",42),c(51," Cancelar "),a(),s(52,"button",43),c(53," Guardar "),a()()()()()()()),n&2&&(u(13),b("formGroup",t.loginForm),u(5),b("ngIf",t.loginForm.controls.email.invalid&&(t.loginForm.controls.email.dirty||t.loginForm.controls.email.touched)),u(5),b("type",t.showPassword?"text":"password"),u(2),b("ngClass",t.showPassword?"las la-eye-slash":"las la-eye"),u(9),b("disabled",t.loginForm.invalid),u(2),b("ngIf",t.errorMessage))},dependencies:[Ai,ce,Je,me,Ve,fe,$e,Hl,Wl],styles:['@charset "UTF-8";.input-group-text[_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:none}.input-group-text[_ngcontent-%COMP%]   .bx[_ngcontent-%COMP%]{font-size:18px}.input-group-text.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}']})}}return i})();var vh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllClients(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/clients/getAllClients`,{params:o})}deleteClients(e){return this.http.post(`${this.baseUrl}/clients/deleteClients`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ov(i,r){i&1&&(s(0,"div",43)(1,"button",44),c(2,"Eliminar seleccionados"),a()())}function Nv(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",45),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",46),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),Mt(10,"date"),a(),s(11,"td"),c(12),a(),s(13,"td")(14,"button",47),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editClient(t.id_user))}),h(15,"i",48),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),V(e.email),u(2),V(Ut(10,5,e.created_at,"dd-MM-yyyy")),u(3),V(e.phone)}}function Bv(i,r){i&1&&(he(0),s(1,"span",50),c(2,"..."),a(),pe())}function Rv(i,r){if(i&1){let e=z();he(0),s(1,"a",51),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Vv(i,r){if(i&1&&(s(0,"li",24),D(1,Bv,3,0,"ng-container",49)(2,Rv,3,1,"ng-container",49),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var bh=(()=>{class i{constructor(e,n,t){this.clientsService=e,this.router=n,this.toastr=t,this.AllClients=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.searchText="",this.allSelected=!1}ngOnInit(){this.loadAllClients(this.currentPage)}loadAllClients(e){this.clientsService.loadAllClients(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllClients=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}onSearch(){this.loadAllClients(this.currentPage),this.searchText.trim()===""&&this.loadAllClients(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllClients(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllClients.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllClients.every(e=>e.selected)}hasSelected(){return this.AllClients.some(e=>e.selected)}editClient(e){this.router.navigate(["edit-client/edit",e])}confirmDelete(){let e=this.AllClients.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn cliente para eliminar.");return}console.log("Cliente seleccionados para eliminar:",e);let n=e.map(t=>t.id_user);this.clientsService.deleteClients(n).subscribe({next:()=>{this.toastr.success("Cliente/s eliminados con \xE9xito"),this.loadAllClients(this.currentPage),this.AllClients.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando clientes",t),this.toastr.error("Error al eliminar los cliente/s seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(vh),B(qe),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-clients"]],decls:80,vars:13,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["routerLink","/new-client",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","deleteClientModal","tabindex","-1","aria-labelledby","deleteClientModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","deleteClientModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteClientModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-user"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Clientes"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Clientes "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),D(24,Ov,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32," Nombre"),a(),s(33,"th"),c(34,"Email"),a(),s(35,"th"),c(36,"Creado"),a(),s(37,"th"),c(38,"Telefono"),a(),s(39,"th",20),c(40,"Acciones"),a()()(),s(41,"tbody"),D(42,Nv,16,8,"tr",21),a()()(),s(43,"nav",22)(44,"ul",23)(45,"li",24)(46,"a",25),f("click",function(){return t.onPageChange(1)}),s(47,"span",26),c(48,"\xAB\xAB"),a()()(),s(49,"li",24)(50,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(51,"span",26),c(52,"\xAB"),a()()(),D(53,Vv,3,6,"li",28),s(54,"li",24)(55,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(56,"span",26),c(57,"\xBB"),a()()(),s(58,"li",24)(59,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(60,"span",26),c(61,"\xBB\xBB"),a()()()()()()()()(),h(62,"app-footer"),a()(),s(63,"div",31)(64,"div",32)(65,"div",33)(66,"div",34)(67,"h5",35),c(68,"Eliminar Clientes"),a(),h(69,"button",36),a(),s(70,"div",37)(71,"div",38),h(72,"img",39),a(),s(73,"p"),c(74,"\xBFEst\xE1s seguro que deseas eliminar el cliente/s seleccionados?"),a()(),s(75,"div",40)(76,"button",41),f("click",function(){return t.confirmDelete()}),c(77,"Eliminar"),a(),s(78,"button",42),c(79,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(12),b("ngForOf",t.AllClients),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,lt,me,Ve,fe,Ce,ge,_e,ve,Ft],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var yh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllCities(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/cities/getAllCities`,{params:o})}deleteCities(e){return this.http.post(`${this.baseUrl}/cities/deleteCities`,e)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Uv(i,r){i&1&&(s(0,"div",30)(1,"button",31),c(2,"Eliminar seleccionados"),a()())}function jv(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),h(2,"i",32),c(3),a(),s(4,"td"),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td")(13,"button",33),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editCity(t.id_city))}),h(14,"i",34),a()()()}if(i&2){let e=r.$implicit;u(3),Y(" ",e.province_name," "),u(2),V(e.name),u(2),V(e.zip_code),u(2),V(e.latitud),u(2),V(e.longitud)}}function Hv(i,r){i&1&&(he(0),s(1,"span",36),c(2,"..."),a(),pe())}function Wv(i,r){if(i&1){let e=z();he(0),s(1,"a",37),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function zv(i,r){if(i&1&&(s(0,"li",23),D(1,Hv,3,0,"ng-container",35)(2,Wv,3,1,"ng-container",35),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Ch=(()=>{class i{constructor(e,n){this.citiesService=e,this.router=n,this.AllCities=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText=""}ngOnInit(){this.loadAllCities(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllCities(e)}loadAllCities(e){this.citiesService.loadAllCities(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllCities=n.data,this.totalItems=n.totalItems,console.log("ciudades cargadas",this.AllCities)},error:n=>{console.error("Error loading cities",n)}})}onSearch(){this.currentPage=1,this.loadAllCities(this.currentPage)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllCities.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllCities.every(e=>e.selected)}hasSelected(){return this.AllCities.some(e=>e.selected)}deleteSelected(){this.AllCities=this.AllCities.filter(e=>!e.selected),this.allSelected=!1}editCity(e){this.router.navigate(["edit-city/edit",e])}static{this.\u0275fac=function(n){return new(n||i)(B(yh),B(qe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-cities"]],decls:63,vars:12,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn","btn-danger",2,"display","none"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteCitiesModal",1,"btn","btn-danger",2,"background-color","darkorange"],[1,"fa-solid","fa-map-location-dot"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Poblaciones"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Poblaciones "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),D(24,Uv,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th"),c(30,"Provincia"),a(),s(31,"th"),c(32,"Ciudad"),a(),s(33,"th"),c(34,"Cod.Postal"),a(),s(35,"th"),c(36,"Latitud"),a(),s(37,"th"),c(38,"Longitud"),a(),s(39,"th",19),c(40,"Acciones"),a()()(),s(41,"tbody"),D(42,jv,15,5,"tr",20),a()()(),s(43,"nav",21)(44,"ul",22)(45,"li",23)(46,"a",24),f("click",function(){return t.onPageChange(1)}),s(47,"span",25),c(48,"\xAB\xAB"),a()()(),s(49,"li",23)(50,"a",26),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(51,"span",25),c(52,"\xAB"),a()()(),D(53,zv,3,6,"li",27),s(54,"li",23)(55,"a",28),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(56,"span",25),c(57,"\xBB"),a()()(),s(58,"li",23)(59,"a",29),f("click",function(){return t.onPageChange(t.pageCount)}),s(60,"span",25),c(61,"\xBB\xBB"),a()()()()()()()()(),h(62,"app-footer"),a()()),n&2&&(u(20),T("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(18),b("ngForOf",t.AllCities),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,me,fe,Ce,ge,_e,ve]})}}return i})();var xh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllCategories(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/categories/getAllCategories`,{params:o})}addCategory(e){let n={category:e};return this.http.post(`${this.baseUrl}/categories/addCategory`,n)}updateCategoryName(e,n){let t={newCategory:e,OldCategory:n};return this.http.put(`${this.baseUrl}/categories/updateCategory`,t)}deleteCategories(e){return this.http.post(`${this.baseUrl}/categories/delete`,{names:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function qv(i,r){i&1&&(s(0,"div",55)(1,"button",56),c(2," Eliminar seleccionados "),a()())}function $v(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",57),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",58),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td")(11,"button",59),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectCategory(t))}),h(12,"i",60),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(3),Y(" ",e.category,""),u(2),V(e.totalSalones),u(2),V(e.active?"No":"Si")}}function Jv(i,r){if(i&1){let e=z();s(0,"li",24)(1,"a",61),f("click",function(){let t=g(e).$implicit,o=x();return _(o.onPageChange(t))}),c(2),a()()}if(i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage),u(2),V(e)}}var Sh=(()=>{class i{constructor(e,n){this.categoriesService=e,this.toastr=n,this.AllCategories=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.selectedCategory={name:""}}ngOnInit(){this.loadAllCategories(this.currentPage)}loadAllCategories(e){this.categoriesService.loadAllCategories(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllCategories=n.data,this.totalItems=n.totalItems,console.log("Categorias cargadas",this.AllCategories)},error:n=>{console.error("Error loading salons",n)}})}selectCategory(e){this.oldCategory=e.category,this.selectedCategory=e.category,this.category=e,console.log("nombre de categoria antigua",this.oldCategory)}updateCategoryName(){if(!this.selectedCategory||this.selectedCategory.trim()===""){this.toastr.warning("El nombre de la categor\xEDa no puede estar vac\xEDo","Advertencia");return}this.categoriesService.updateCategoryName(this.selectedCategory,this.oldCategory).subscribe({next:e=>{this.toastr.success("Categor\xEDa actualizada con \xE9xito"),setTimeout(()=>{window.location.reload()},1e3),this.loadAllCategories(this.currentPage)},error:e=>{console.error("Error updating category",e),this.toastr.error("Hubo un error al actualizar la categor\xEDa","Error"),setTimeout(()=>{window.location.reload()},2e3)}})}onSearch(){this.loadAllCategories(this.currentPage),this.searchText.trim()===""&&this.loadAllCategories(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllCategories(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllCategories.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllCategories.every(e=>e.selected)}hasSelected(){return this.AllCategories.some(e=>e.selected)}confirmDelete(){let n=this.AllCategories.filter(t=>t.selected).map(t=>t.category);n.length>0&&this.categoriesService.deleteCategories(n).subscribe({next:()=>{this.toastr.success("Categor\xEDas eliminadas con \xE9xito"),this.loadAllCategories(this.currentPage)},error:t=>{console.error("Error eliminando categor\xEDas",t),this.toastr.error("Hubo un error al eliminar las categor\xEDas","Error")}})}addCategory(){if(!this.newCategory||this.newCategory.trim()===""){this.toastr.warning("El nombre de la categor\xEDa no puede estar vac\xEDo","Advertencia");return}this.categoriesService.addCategory(this.newCategory).subscribe({next:e=>{this.toastr.success("Categor\xEDa a\xF1adida con \xE9xito","\xC9xito"),this.loadAllCategories(this.currentPage),this.newCategory=""},error:e=>{console.error("Error a\xF1adiendo categor\xEDa",e),this.toastr.error("Hubo un error al a\xF1adir la categor\xEDa","Error")}})}static{this.\u0275fac=function(n){return new(n||i)(B(xh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-categories"]],decls:118,vars:15,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newCategoryModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","editCategoryModal","tabindex","-1","aria-labelledby","editCategoryLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","editCategoryLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","categoryName",1,"form-label"],["type","text","id","categoryName","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","newCategoryModal","tabindex","-1","aria-labelledby","newCategoryLabel","aria-hidden","true",1,"modal","fade"],["id","newCategoryLabel",1,"modal-title"],["for","newCategoryName",1,"form-label"],["type","text","id","newCategoryName","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","deleteCategoryModal","tabindex","-1","aria-labelledby","deleteCategoryModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteCategoryModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteCategoryModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-tag"],["data-bs-toggle","modal","data-bs-target","#editCategoryModal",1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Categor\xEDas"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Categor\xEDas "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),D(24,qv,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Nombre"),a(),s(33,"th"),c(34,"Asignaciones a Sal\xF3n"),a(),s(35,"th"),c(36,"Activo"),a(),s(37,"th",20),c(38,"Editar"),a()()(),s(39,"tbody"),D(40,$v,13,4,"tr",21),a()()(),s(41,"nav",22)(42,"ul",23)(43,"li",24)(44,"a",25),f("click",function(){return t.onPageChange(1)}),s(45,"span",26),c(46,"\xAB\xAB"),a()()(),s(47,"li",24)(48,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(49,"span",26),c(50,"\xAB"),a()()(),D(51,Jv,3,3,"li",28),s(52,"li",24)(53,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(54,"span",26),c(55,"\xBB"),a()()(),s(56,"li",24)(57,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(58,"span",26),c(59,"\xBB\xBB"),a()()()()()()()()(),h(60,"app-footer"),a()(),s(61,"div",31)(62,"div",32)(63,"div",33)(64,"div",34)(65,"h5",35),c(66,"Editar Categor\xEDa"),a(),h(67,"button",36),a(),s(68,"div",37)(69,"div",38),h(70,"img",39),a(),s(71,"div",40)(72,"div",41)(73,"label",42),c(74,"Nombre de la Categor\xEDa:"),a(),s(75,"input",43),I("ngModelChange",function(l){return A(t.selectedCategory,l)||(t.selectedCategory=l),l}),a()()()(),s(76,"div",44)(77,"button",45),f("click",function(){return t.updateCategoryName()}),c(78,"Guardar"),a(),s(79,"button",46),c(80,"Cancelar"),a()()()()(),s(81,"div",47)(82,"div",32)(83,"div",33)(84,"div",34)(85,"h5",48),c(86,"Nueva Categor\xEDa"),a(),h(87,"button",36),a(),s(88,"div",37)(89,"div",38),h(90,"img",39),a(),s(91,"div",40)(92,"div",41)(93,"label",49),c(94,"Introduce Categor\xEDa:"),a(),s(95,"input",50),I("ngModelChange",function(l){return A(t.newCategory,l)||(t.newCategory=l),l}),a()()()(),s(96,"div",44)(97,"button",51),f("click",function(){return t.addCategory()}),c(98,"Guardar"),a(),s(99,"button",46),c(100,"Cancelar"),a()()()()(),s(101,"div",52)(102,"div",32)(103,"div",33)(104,"div",34)(105,"h5",53),c(106,"Eliminar Categor\xEDas"),a(),h(107,"button",36),a(),s(108,"div",37)(109,"div",54),h(110,"img",39),a(),s(111,"p"),c(112,"\xBFEst\xE1s seguro que deseas eliminar las categor\xEDa/as seleccionadas?"),a()(),s(113,"div",44)(114,"button",51),f("click",function(){return t.confirmDelete()}),c(115,"Eliminar"),a(),s(116,"button",46),c(117,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(10),b("ngForOf",t.AllCategories),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),T("ngModel",t.selectedCategory),u(20),T("ngModel",t.newCategory))},dependencies:[ue,ce,me,Ve,fe,Ce,ge,_e,ve],styles:["#categoryName[_ngcontent-%COMP%], #newCategoryName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Eh=$a(cc());var wh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllSalonToExport(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/export/getAllSalon`,{params:o})}exportSalonsToExcel(){return this.http.get(`${this.baseUrl}/export/exportSalonsToExcel`,{responseType:"blob"})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Kv(i,r){i&1&&(s(0,"div",29)(1,"p"),c(2,"Descargando, por favor espera..."),a()())}function Zv(i,r){if(i&1&&(s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),Mt(7,"date"),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td"),c(13),a(),s(14,"td"),c(15),a()()),i&2){let e=r.$implicit;u(2),V(e.name),u(2),V(e.email),u(2),V(Ut(7,7,e.created_at,"dd-MM-yyyy")),u(3),V(e.phone),u(2),V(e.active?"Si":"No"),u(2),V(e.state),u(2),V(e.categories)}}function Yv(i,r){i&1&&(he(0),s(1,"span",31),c(2,"..."),a(),pe())}function Xv(i,r){if(i&1){let e=z();he(0),s(1,"a",32),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function eb(i,r){if(i&1&&(s(0,"li",22),D(1,Yv,3,0,"ng-container",30)(2,Xv,3,1,"ng-container",30),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Mh=(()=>{class i{constructor(e){this.exportService=e,this.AllSalon=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.searchText="",this.isLoading=!1}ngOnInit(){this.loadAllSalon(this.currentPage)}loadAllSalon(e){this.exportService.loadAllSalonToExport(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllSalon=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}onSearch(){this.loadAllSalon(this.currentPage),this.searchText.trim()===""&&this.loadAllSalon(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllSalon(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}exportToExcel(){this.isLoading=!0,this.exportService.exportSalonsToExcel().subscribe({next:e=>{(0,Eh.saveAs)(e,"actulizar_salones.xlsx"),this.isLoading=!1},error:e=>{console.error("Error exporting to Excel",e)}})}static{this.\u0275fac=function(n){return new(n||i)(B(wh))}}static{this.\u0275cmp=re({type:i,selectors:[["app-export"]],decls:65,vars:12,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["class","loading-indicator",4,"ngIf"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn","btn-secondary",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],[1,"loading-indicator"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Exportar Negocios"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Negocios "),a(),s(17,"div",9)(18,"div",10)(19,"div",11),D(20,Kv,3,0,"div",12),s(21,"input",13),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(22,"div",14)(23,"button",15),f("click",function(){return t.exportToExcel()}),c(24,"Exportar a Excel"),a()()(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th"),c(30,"Nombre"),a(),s(31,"th"),c(32,"Email"),a(),s(33,"th"),c(34,"Creado"),a(),s(35,"th"),c(36,"Telefono"),a(),s(37,"th"),c(38,"Activo"),a(),s(39,"th"),c(40,"Estado"),a(),s(41,"th"),c(42,"Categor\xEDas"),a()()(),s(43,"tbody"),D(44,Zv,16,10,"tr",19),a()()(),s(45,"nav",20)(46,"ul",21)(47,"li",22)(48,"a",23),f("click",function(){return t.onPageChange(1)}),s(49,"span",24),c(50,"\xAB\xAB"),a()()(),s(51,"li",22)(52,"a",25),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(53,"span",24),c(54,"\xAB"),a()()(),D(55,eb,3,6,"li",26),s(56,"li",22)(57,"a",27),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(58,"span",24),c(59,"\xBB"),a()()(),s(60,"li",22)(61,"a",28),f("click",function(){return t.onPageChange(t.pageCount)}),s(62,"span",24),c(63,"\xBB\xBB"),a()()()()()()()()(),h(64,"app-footer"),a()()),n&2&&(u(20),b("ngIf",t.isLoading),u(),T("ngModel",t.searchText),u(23),b("ngForOf",t.AllSalon),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,me,fe,Ce,ge,_e,ve,Ft],styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:1000}.loading-indicator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em;color:#333}"]})}}return i})();var Th=$a(cc());var Dh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllSalonToExport(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/import/getAllSalon`,{params:o})}importUpdateExcel(e){let n=new FormData;return n.append("file",e,e.name),this.http.post(`${this.baseUrl}/import/updateExcel`,n,{responseType:"blob"})}uploadNewSalons(e){let n=new FormData;return n.append("file",e,e.name),this.http.post(`${this.baseUrl}/import/addExcel`,n)}downloadTemplateExcel(){return this.http.get(`${this.baseUrl}/import/downloadExcel`,{responseType:"blob"})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ib(i,r){i&1&&(s(0,"div",34)(1,"p"),c(2,"Procesando, por favor espera..."),a()())}function nb(i,r){if(i&1&&(s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),Mt(7,"date"),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td"),c(13),a(),s(14,"td"),c(15),a()()),i&2){let e=r.$implicit;u(2),V(e.name),u(2),V(e.email),u(2),V(Ut(7,7,e.created_at,"dd-MM-yyyy")),u(3),V(e.phone),u(2),V(e.active?"Si":"No"),u(2),V(e.state),u(2),V(e.categories)}}function rb(i,r){i&1&&(he(0),s(1,"span",36),c(2,"..."),a(),pe())}function ob(i,r){if(i&1){let e=z();he(0),s(1,"a",37),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function ab(i,r){if(i&1&&(s(0,"li",27),D(1,rb,3,0,"ng-container",35)(2,ob,3,1,"ng-container",35),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Ah=(()=>{class i{constructor(e,n){this.importService=e,this.toastr=n,this.AllSalon=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.isLoading=!1,this.searchText=""}ngOnInit(){this.loadAllSalon(this.currentPage)}loadAllSalon(e){this.importService.loadAllSalonToExport(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllSalon=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}onSearch(){this.loadAllSalon(this.currentPage),this.searchText.trim()===""&&this.loadAllSalon(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllSalon(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}updateWithExcel(e){let n=e.target.files[0];n&&(this.isLoading=!0,this.importService.importUpdateExcel(n).subscribe(t=>{this.isLoading=!1,t.error?alert("Error: "+t.error):(this.toastr.success('<i class="las la-info-circle"> Actualizaci\xF3n completada con \xE9xito.</i>'),setTimeout(()=>{window.location.reload()},2e3))},t=>{this.toastr.success('<i class="las la-info-circle"> Error: Revisar el fichero.</i>'),setTimeout(()=>{this.isLoading=!1,window.location.reload()},2e3)}))}downloadTemplateExcel(){this.isLoading=!0,this.importService.downloadTemplateExcel().subscribe({next:e=>{(0,Th.saveAs)(e,"plantilla_nuevos.xlsx"),this.isLoading=!1},error:e=>{console.error("Error exporting to Excel",e)}})}uploadNewSalons(e){let n=e.target.files[0];n&&(this.isLoading=!0,this.importService.uploadNewSalons(n).subscribe(t=>{console.log("File uploaded successfully",t),this.isLoading=!1,t.error?alert("Error: "+t.error):(this.toastr.success('<i class="las la-info-circle">Nuevos salones a\xF1adidos.</i>'),setTimeout(()=>{window.location.reload()},2e3))},t=>{console.error("Error uploading file",t),this.toastr.success('<i class="las la-info-circle"> Error: Revisar el fichero no cumple los requisitos</i>'),setTimeout(()=>{this.isLoading=!1},2e3)}))}static{this.\u0275fac=function(n){return new(n||i)(B(Dh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-import"]],decls:75,vars:12,consts:[["fileInput",""],["fileNewSalons",""],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["class","loading-indicator",4,"ngIf"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["type","file",2,"display","none",3,"change"],[1,"btn","btn-primary","me-2",2,"color","white",3,"click"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],[1,"loading-indicator"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){if(n&1){let o=z();h(0,"app-header"),s(1,"div",2),h(2,"app-aside"),s(3,"div",3)(4,"main")(5,"div",4)(6,"h1",5),c(7,"Panel de control"),a(),s(8,"ol",6)(9,"li",7),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Importar Negocios"),a()()(),s(13,"div",8)(14,"div",9),h(15,"img",10),c(16," Lista de Negocios "),a(),s(17,"div",11)(18,"div",12)(19,"div",13),D(20,ib,3,0,"div",14),s(21,"input",15),I("ngModelChange",function(d){return g(o),A(t.searchText,d)||(t.searchText=d),_(d)}),f("input",function(){return g(o),_(t.onSearch())}),a()(),s(22,"div",16)(23,"input",17,0),f("change",function(d){return g(o),_(t.updateWithExcel(d))}),a(),s(25,"button",18),f("click",function(){return g(o),_(t.downloadTemplateExcel())}),c(26,"Plantilla Nuevos"),a(),s(27,"input",17,1),f("change",function(d){return g(o),_(t.uploadNewSalons(d))}),a(),s(29,"button",19),f("click",function(){g(o);let d=Se(28);return _(d.click())}),c(30,"Subir Nuevos"),a(),s(31,"input",17,0),f("change",function(d){return g(o),_(t.updateWithExcel(d))}),a(),s(33,"button",20),f("click",function(){g(o);let d=Se(24);return _(d.click())}),c(34,"Actualizar Existentes"),a()()(),s(35,"div",21)(36,"table",22)(37,"thead",23)(38,"tr")(39,"th"),c(40,"Nombre"),a(),s(41,"th"),c(42,"Email"),a(),s(43,"th"),c(44,"Creado"),a(),s(45,"th"),c(46,"Telefono"),a(),s(47,"th"),c(48,"Activo"),a(),s(49,"th"),c(50,"Estado"),a(),s(51,"th"),c(52,"Categor\xEDas"),a()()(),s(53,"tbody"),D(54,nb,16,10,"tr",24),a()()(),s(55,"nav",25)(56,"ul",26)(57,"li",27)(58,"a",28),f("click",function(){return g(o),_(t.onPageChange(1))}),s(59,"span",29),c(60,"\xAB\xAB"),a()()(),s(61,"li",27)(62,"a",30),f("click",function(){return g(o),_(t.onPageChange(t.currentPage-1))}),s(63,"span",29),c(64,"\xAB"),a()()(),D(65,ab,3,6,"li",31),s(66,"li",27)(67,"a",32),f("click",function(){return g(o),_(t.onPageChange(t.currentPage+1))}),s(68,"span",29),c(69,"\xBB"),a()()(),s(70,"li",27)(71,"a",33),f("click",function(){return g(o),_(t.onPageChange(t.pageCount))}),s(72,"span",29),c(73,"\xBB\xBB"),a()()()()()()()()(),h(74,"app-footer"),a()()}n&2&&(u(20),b("ngIf",t.isLoading),u(),T("ngModel",t.searchText),u(33),b("ngForOf",t.AllSalon),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount))},dependencies:[ue,ce,me,fe,Ce,ge,_e,ve,Ft],styles:[".loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:1000}.loading-indicator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em;color:#333}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Ih=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllAdministrators(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/administrators/getAllAdministrators`,{params:o})}getUserEmail(e){return this.http.get(`${this.baseUrl}/administrators/searchEmailInLive`,{params:{email:e}})}addnewAdmin(e){return console.log("email enviado desde el servicio",e),this.http.put(`${this.baseUrl}/administrators/addNewAdmin`,{email:e})}deleteAdministrators(e){return this.http.post(`${this.baseUrl}/administrators/deleteAdministrators`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function lb(i,r){i&1&&(s(0,"div",53)(1,"button",54),c(2,"Eliminar seleccionados"),a()())}function cb(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",55),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",56),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),Mt(10,"date"),a(),s(11,"td"),c(12),a(),s(13,"td")(14,"button",57),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editAdministrator(t.id_user))}),h(15,"i",58),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),V(e.email),u(2),V(fs(10,5,e.created_at)),u(3),V(e.phone)}}function db(i,r){i&1&&(he(0),s(1,"span",60),c(2,"..."),a(),pe())}function ub(i,r){if(i&1){let e=z();he(0),s(1,"a",61),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function mb(i,r){if(i&1&&(s(0,"li",24),D(1,db,3,0,"ng-container",59)(2,ub,3,1,"ng-container",59),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}function hb(i,r){if(i&1){let e=z();s(0,"li",64),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectEmail(t))}),h(1,"i",65),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function pb(i,r){if(i&1&&(s(0,"ul",62),D(1,hb,3,1,"li",63),a()),i&2){let e=x();u(),b("ngForOf",e.emailUsers)}}var kh=(()=>{class i{constructor(e,n,t){this.administratorsService=e,this.toastr=n,this.router=t,this.AllAdministrators=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.newAdmin=[],this.emailUsers=[],this.searchTermsEmail=new Te}ngOnInit(){this.loadAllAministrators(this.currentPage),this.searchTermsEmail.pipe(Rt(300),qt(),et(e=>e.length>=2?this.administratorsService.getUserEmail(e):ae([]))).subscribe({next:e=>{this.emailUsers=e.filter(n=>n&&n.email).map(n=>n.email),console.log("Resultados de la b\xFAsqueda de emails:",this.emailUsers)},error:e=>{console.error("Error al buscar emails:",e)}})}searchEmail(e){this.searchTermsEmail.next(e)}selectEmail(e){this.newAdmin.email=e,this.emailUsers=[]}loadAllAministrators(e){this.administratorsService.loadAllAdministrators(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllAdministrators=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading administrators",n)}})}addNewAdmin(e){this.administratorsService.addnewAdmin(e).subscribe({next:n=>{this.toastr.success("Administrador a\xF1adido con \xE9xito"),setTimeout(()=>{window.location.reload()},1e3)},error:n=>{console.error("Error al a\xF1adir el administrador:",n),this.toastr.success("Error, no se pudo a\xF1adir el administrador"),setTimeout(()=>{window.location.reload()},2e3)}})}onSearch(){this.loadAllAministrators(this.currentPage),this.searchText.trim()===""&&this.loadAllAministrators(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllAministrators(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllAdministrators.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllAdministrators.every(e=>e.selected)}hasSelected(){return this.AllAdministrators.some(e=>e.selected)}editAdministrator(e){this.router.navigate(["edit-administrator/edit",e])}confirmDelete(){let e=this.AllAdministrators.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn administrador para eliminar.");return}console.log("Administradores seleccionados para eliminar:",e);let n=e.map(t=>t.id_user);this.administratorsService.deleteAdministrators(n).subscribe({next:()=>{this.toastr.success("Administrador/es eliminados con \xE9xito"),this.loadAllAministrators(this.currentPage),this.AllAdministrators.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando administradores",t),this.toastr.error("Error al eliminar los adminsitradores seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(Ih),B(xe),B(qe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-administrators"]],decls:101,vars:15,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newAdminModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","newAdminModal","tabindex","-1","aria-labelledby","newAdminModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","newAdminModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"mb-3","position-relative"],["for","adminEmail",1,"form-label"],["type","email","id","adminEmail","name","email","required","","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group email-list",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","deleteAdministratorModal","tabindex","-1","aria-labelledby","deleteAdministratorModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteAdministratorModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteAdministratorModal","tabindex","-1","aria-labelledby","deleteAdministratorModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-user-gear"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"],[1,"list-group","email-list"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-user"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Administradores"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Administradores "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),D(24,lb,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Nombre"),a(),s(33,"th"),c(34,"Email"),a(),s(35,"th"),c(36,"Creado"),a(),s(37,"th"),c(38,"Telefono"),a(),s(39,"th",20),c(40,"Acciones"),a()()(),s(41,"tbody"),D(42,cb,16,7,"tr",21),a()()(),s(43,"nav",22)(44,"ul",23)(45,"li",24)(46,"a",25),f("click",function(){return t.onPageChange(1)}),s(47,"span",26),c(48,"\xAB\xAB"),a()()(),s(49,"li",24)(50,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(51,"span",26),c(52,"\xAB"),a()()(),D(53,mb,3,6,"li",28),s(54,"li",24)(55,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(56,"span",26),c(57,"\xBB"),a()()(),s(58,"li",24)(59,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(60,"span",26),c(61,"\xBB\xBB"),a()()()()()()()()(),h(62,"app-footer"),a()(),s(63,"div",31)(64,"div",32)(65,"div",33)(66,"div",34)(67,"h5",35),c(68,"Nuevo Administrador"),a(),h(69,"button",36),a(),s(70,"div",37)(71,"div",38),h(72,"img",39),a(),s(73,"form")(74,"div",40)(75,"label",41),c(76,"Introduce Email:"),a(),s(77,"input",42),I("ngModelChange",function(l){return A(t.newAdmin.email,l)||(t.newAdmin.email=l),l}),f("input",function(){return t.searchEmail(t.newAdmin.email)}),a(),D(78,pb,2,1,"ul",43),a(),s(79,"div",44)(80,"button",45),f("click",function(){return t.addNewAdmin(t.newAdmin.email)}),c(81,"A\xF1adir"),a(),s(82,"button",46),c(83,"Cancelar"),a()()()()()()(),s(84,"div",47)(85,"div",32)(86,"div",33)(87,"div",34)(88,"h5",48),c(89,"Eliminar Administradores"),a(),h(90,"button",36),a(),s(91,"div",37)(92,"div",49),h(93,"img",39),a(),s(94,"p"),c(95,"\xBFEst\xE1s seguro que deseas eliminar el administrador/es seleccionados?"),a()(),s(96,"div",50)(97,"button",51),f("click",function(){return t.confirmDelete()}),c(98,"Eliminar"),a(),s(99,"button",52),c(100,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(12),b("ngForOf",t.AllAdministrators),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),T("ngModel",t.newAdmin.email),u(),b("ngIf",t.emailUsers.length>0))},dependencies:[ue,ce,Je,me,Ve,fe,$e,ut,Ce,Ye,ge,_e,ve,Ft],styles:['@charset "UTF-8";.email-list[_ngcontent-%COMP%]{position:absolute;top:10;left:0;right:0;z-index:1000;max-height:150px;overflow-y:auto;background-color:#fff;border:1px solid rgba(0,0,0,.125);border-top:none;margin-top:0;padding-top:0}.email-list[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:gray}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#adminEmail[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}']})}}return i})();var Ph=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadContactMenssage(e,n,t,o=""){let l=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(l=l.set("search",t)),o&&(l=l.set("filterState",o)),this.http.get(`${this.baseUrl}/contact/getAllMessageContact`,{params:l})}updateStateContact(e,n){let t={id_contact:e,state:n};return this.http.put(`${this.baseUrl}/contact/updateStateContact`,t)}sendEmailContact(e,n,t,o,l){let d={id_contact:e,to:n,subject:t,message:o,replyMessage:l};return this.http.post(`${this.baseUrl}/contact/send-reply-contact`,d)}sendNewEmailContact(e,n,t){let o={to:e,subject:n,message:t};return this.http.post(`${this.baseUrl}/contact/send-new-email-contact`,o)}deleteContacts(e){return this.http.post(`${this.baseUrl}/contact/deleteContacts`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function gb(i,r){i&1&&(s(0,"div",79)(1,"button",80),c(2,"Eliminar seleccionados"),a()())}function _b(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",81),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td"),c(8),a(),s(9,"td"),c(10),a(),s(11,"td"),c(12),a(),s(13,"td"),c(14),a(),s(15,"td")(16,"button",82),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectedStateContact(t))}),h(17,"i",83),a()(),s(18,"td")(19,"button",84),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectMessageToReply(t))}),h(20,"i",85),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(2),V(e.name),u(2),V(e.email),u(2),V(e.phone),u(2),V(e.text),u(2),V(e.answer||"No contestado"),u(2),V(e.state)}}function vb(i,r){i&1&&(he(0),s(1,"span",87),c(2,"..."),a(),pe())}function bb(i,r){if(i&1){let e=z();he(0),s(1,"a",88),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function yb(i,r){if(i&1&&(s(0,"li",34),D(1,vb,3,0,"ng-container",86)(2,bb,3,1,"ng-container",86),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Fh=(()=>{class i{constructor(e,n){this.contactService=e,this.toastr=n,this.AllContactMenssage=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.selectStateContact={},this.selectedMessage={},this.replySubject="",this.replyMessage="",this.filterState="",this.addressNewEmail="",this.replyNewEmailSubject="",this.replyNewEmailMessage=""}ngOnInit(){this.loadAllContactMenssage(this.currentPage)}onFilterChange(){this.currentPage=1,this.loadAllContactMenssage(this.currentPage)}loadAllContactMenssage(e){this.contactService.loadContactMenssage(e,this.pageSize,this.searchText,this.filterState).subscribe({next:n=>{this.AllContactMenssage=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error loading salons",n)}})}sendReply(){if(!this.replyMessage.trim()){alert("El mensaje no puede estar vac\xEDo.");return}}selectMessageToReply(e){this.selectedMessage=e,this.replySubject="",this.replyMessage=""}onSearch(){this.loadAllContactMenssage(this.currentPage),this.searchText.trim()===""&&this.loadAllContactMenssage(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllContactMenssage(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllContactMenssage.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllContactMenssage.every(e=>e.selected)}hasSelected(){return this.AllContactMenssage.some(e=>e.selected)}selectedStateContact(e){this.selectStateContact={id_contact:e.id_contact,state:e.state}}confirUpdateStateContact(){this.contactService.updateStateContact(this.selectStateContact.id_contact,this.selectStateContact.state).subscribe({next:()=>{this.loadAllContactMenssage(this.currentPage),this.allSelected=!1},error:e=>{console.error("Error updating contact state",e)}})}sendReplyContact(){let e=this.selectedMessage.id_contact,n=this.selectedMessage.email,t=this.replySubject,o=this.replyMessage,l=this.replyMessage;this.contactService.sendEmailContact(e,n,t,o,l).subscribe(d=>{this.toastr.success("Correo enviado con \xE9xito"),this.loadAllContactMenssage(this.currentPage)},d=>{this.toastr.error("Error al enviar el correo"),console.error(d)})}sendNewEmailContact(){let e=this.addressNewEmail,n=this.replyNewEmailSubject,t=this.replyNewEmailMessage,o=this.replyNewEmailMessage;this.contactService.sendNewEmailContact(e,n,t).subscribe(l=>{this.toastr.success("Correo enviado con \xE9xito"),this.loadAllContactMenssage(this.currentPage),this.addressNewEmail="",this.replyNewEmailSubject="",this.replyNewEmailMessage=""},l=>{this.toastr.error("Error al enviar el correo"),console.error(l),this.addressNewEmail="",this.replyNewEmailSubject="",this.replyNewEmailMessage=""})}confirmDelete(){let e=this.AllContactMenssage.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn mensaje para eliminar.");return}console.log("Contactos seleccionados para eliminar:",e);let n=e.map(t=>t.id_contact);this.contactService.deleteContacts(n).subscribe({next:()=>{this.toastr.success("Mensajes eliminados con \xE9xito"),this.loadAllContactMenssage(this.currentPage),this.AllContactMenssage.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando contactos",t),this.toastr.error("Error al eliminar los mensajes seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(Ph),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-contact"]],decls:190,vars:22,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-2"],[1,"dropdown-menu","p-3",2,"min-width","200px"],[1,"mb-2"],["for","largeSelect",1,"form-label"],["id","largeSelect",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","Pendiente"],["value","En revisi\xF3n"],["value","Contestado"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#sendMailModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","changeStateModal","tabindex","-1","aria-labelledby","changeStateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","changeStateModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-4"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid","rounded-circle","shadow"],[1,"mb-3"],["for","state",1,"form-label"],["name","state","id","state","aria-label","Large select example",1,"form-select","form-select-lg","mb-3",3,"ngModelChange","ngModel"],[1,"text-end"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","replyModal","tabindex","-1","aria-labelledby","replyModalLabel","aria-hidden","true",1,"modal","fade"],["id","replyModalLabel",1,"modal-title"],[3,"ngSubmit"],["for","replyEmail",1,"form-label"],["type","email","id","replyEmail","name","replyEmail","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","replySubject",1,"form-label"],["type","text","id","replySubject","name","replySubject","placeholder","Escribe el asunto...",1,"form-control",3,"ngModelChange","ngModel"],["for","originalMessage",1,"form-label"],["id","originalMessage","name","originalMessage","readonly","","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["for","replyMessage",1,"form-label"],["id","replyMessage","name","replyMessage","rows","5","placeholder","Escribe tu respuesta...",1,"form-control",3,"ngModelChange","ngModel"],["id","sendMailModal","tabindex","-1","aria-labelledby","sendMailModalLabel","aria-hidden","true",1,"modal","fade"],["id","sendMailModalLabel",1,"modal-title"],["type","email","id","replyEmail","placeholder","Escribe el correo...","name","replyEmail",1,"form-control",3,"ngModelChange","ngModel"],["for","replyNewEmailMessage",1,"form-label"],["id","replyNewEmailMessage","name","replyNewEmailMessage","rows","5","placeholder","Escribe aqui...",1,"form-control",3,"ngModelChange","ngModel"],["id","deleteContactModal","tabindex","-1","aria-labelledby","deleteContactModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteContactModalLabel",1,"modal-title"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteContactModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],["title","Cambiar estado","data-bs-toggle","modal","data-bs-target","#changeStateModal",1,"btn","btn-dark","btn-icon",3,"click"],[1,"fas","fa-sync-alt"],["data-bs-toggle","modal","data-bs-target","#replyModal","title","Contestar",1,"btn","btn-dark","btn-icon",3,"click"],[1,"fas","fa-reply"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Contacto"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Mensajes "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"div",14)(23,"button",15),c(24," Filtro "),a(),s(25,"ul",16)(26,"li",17)(27,"label",18),c(28,"Estado"),a(),s(29,"select",19),I("ngModelChange",function(l){return A(t.filterState,l)||(t.filterState=l),l}),f("change",function(){return t.onFilterChange()}),s(30,"option",20),c(31,"Todos"),a(),s(32,"option",21),c(33,"Pendiente"),a(),s(34,"option",22),c(35,"En revisi\xF3n"),a(),s(36,"option",23),c(37,"Contestado"),a()()(),s(38,"li"),h(39,"hr",24),a()()(),s(40,"button",25),c(41,"Nuevo"),a()(),D(42,gb,3,0,"div",26),a(),s(43,"div",27)(44,"table",28)(45,"thead",29)(46,"tr")(47,"th")(48,"input",30),f("change",function(){return t.toggleAllSelection()}),a()(),s(49,"th"),c(50,"Nombre"),a(),s(51,"th"),c(52,"Email"),a(),s(53,"th"),c(54,"Telefono"),a(),s(55,"th"),c(56,"Mensaje"),a(),s(57,"th"),c(58,"Respuesta"),a(),s(59,"th"),c(60,"Estado"),a(),s(61,"th"),c(62,"Cambiar estado"),a(),s(63,"th"),c(64,"Contestar"),a()()(),s(65,"tbody"),D(66,_b,21,7,"tr",31),a()()(),s(67,"nav",32)(68,"ul",33)(69,"li",34)(70,"a",35),f("click",function(){return t.onPageChange(1)}),s(71,"span",36),c(72,"\xAB\xAB"),a()()(),s(73,"li",34)(74,"a",37),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(75,"span",36),c(76,"\xAB"),a()()(),D(77,yb,3,6,"li",38),s(78,"li",34)(79,"a",39),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(80,"span",36),c(81,"\xBB"),a()()(),s(82,"li",34)(83,"a",40),f("click",function(){return t.onPageChange(t.pageCount)}),s(84,"span",36),c(85,"\xBB\xBB"),a()()()()()()()()(),h(86,"app-footer"),a()(),s(87,"div",41)(88,"div",42)(89,"div",43)(90,"div",44)(91,"h5",45),c(92,"Cambiar estado email contacto"),a(),h(93,"button",46),a(),s(94,"div",47)(95,"div",48),h(96,"img",49),a(),s(97,"form")(98,"div",50)(99,"label",51),c(100,"Estado del mail de contacto"),a(),s(101,"select",52),I("ngModelChange",function(l){return A(t.selectStateContact.state,l)||(t.selectStateContact.state=l),l}),s(102,"option",21),c(103,"Pendiente"),a(),s(104,"option",22),c(105,"En revisi\xF3n"),a(),s(106,"option",23),c(107,"Contestado"),a()()(),s(108,"div",53)(109,"button",54),f("click",function(){return t.confirUpdateStateContact()}),c(110,"Guardar cambios"),a(),s(111,"button",55),c(112,"Cancelar"),a()()()()()()(),s(113,"div",56)(114,"div",42)(115,"div",43)(116,"div",44)(117,"h5",57),c(118,"Responder al Mensaje"),a(),h(119,"button",46),a(),s(120,"div",47)(121,"div",48),h(122,"img",49),a(),s(123,"form",58),f("ngSubmit",function(){return t.sendReply()}),s(124,"div",50)(125,"label",59),c(126,"Para:"),a(),s(127,"input",60),I("ngModelChange",function(l){return A(t.selectedMessage.email,l)||(t.selectedMessage.email=l),l}),a()(),s(128,"div",50)(129,"label",61),c(130,"Asunto:"),a(),s(131,"input",62),I("ngModelChange",function(l){return A(t.replySubject,l)||(t.replySubject=l),l}),a()(),s(132,"div",50)(133,"label",63),c(134,"Mensaje Original:"),a(),s(135,"textarea",64),I("ngModelChange",function(l){return A(t.selectedMessage.text,l)||(t.selectedMessage.text=l),l}),a()(),s(136,"div",50)(137,"label",65),c(138,"Respuesta:"),a(),s(139,"textarea",66),I("ngModelChange",function(l){return A(t.replyMessage,l)||(t.replyMessage=l),l}),a()(),s(140,"div",53)(141,"button",54),f("click",function(){return t.sendReplyContact()}),c(142,"Enviar Respuesta"),a(),s(143,"button",55),c(144,"Cancelar"),a()()()()()()(),s(145,"div",67)(146,"div",42)(147,"div",43)(148,"div",44)(149,"h5",68),c(150,"Nuevo Correo"),a(),h(151,"button",46),a(),s(152,"div",47)(153,"div",48),h(154,"img",49),a(),s(155,"form")(156,"div",50)(157,"label",59),c(158,"Para:"),a(),s(159,"input",69),I("ngModelChange",function(l){return A(t.addressNewEmail,l)||(t.addressNewEmail=l),l}),a()(),s(160,"div",50)(161,"label",61),c(162,"Asunto:"),a(),s(163,"input",62),I("ngModelChange",function(l){return A(t.replyNewEmailSubject,l)||(t.replyNewEmailSubject=l),l}),a()(),s(164,"div",50)(165,"label",70),c(166,"Mensaje:"),a(),s(167,"textarea",71),I("ngModelChange",function(l){return A(t.replyNewEmailMessage,l)||(t.replyNewEmailMessage=l),l}),a()(),s(168,"div",53)(169,"button",54),f("click",function(){return t.sendNewEmailContact()}),c(170,"Enviar Respuesta"),a(),s(171,"button",55),c(172,"Cancelar"),a()()()()()()(),s(173,"div",72)(174,"div",42)(175,"div",43)(176,"div",44)(177,"h5",73),c(178,"Eliminar Contacto"),a(),h(179,"button",46),a(),s(180,"div",47)(181,"div",74),h(182,"img",75),a(),s(183,"p"),c(184,"\xBFEst\xE1s seguro que deseas eliminar el contacto/s seleccionadas?"),a()(),s(185,"div",76)(186,"button",77),f("click",function(){return t.confirmDelete()}),c(187,"Eliminar"),a(),s(188,"button",78),c(189,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(9),T("ngModel",t.filterState),u(13),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(18),b("ngForOf",t.AllContactMenssage),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),T("ngModel",t.selectStateContact.state),u(26),T("ngModel",t.selectedMessage.email),u(4),T("ngModel",t.replySubject),u(4),T("ngModel",t.selectedMessage.text),u(4),T("ngModel",t.replyMessage),u(20),T("ngModel",t.addressNewEmail),u(4),T("ngModel",t.replyNewEmailSubject),u(4),T("ngModel",t.replyNewEmailMessage))},dependencies:[ue,ce,Je,Qe,Ke,me,Ve,je,fe,$e,Ce,Ye,ge,_e,ve],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Oh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadContacProffesionaltMenssage(e,n,t,o=""){let l=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(l=l.set("search",t)),o&&(l=l.set("filterState",o)),this.http.get(`${this.baseUrl}/contact-proffesional/getAllMessageContactProffesional`,{params:l})}updateStateContactProffesional(e,n){let t={id_contact:e,state:n};return console.log(t),this.http.put(`${this.baseUrl}/contact-proffesional/updateStateContactProffesional`,t)}sendEmailContactProffesional(e,n,t,o,l){let d={id_contact:e,to:n,subject:t,message:o,replyMessage:l};return this.http.post(`${this.baseUrl}/contact-proffesional/send-reply-contactProffesional`,d)}sendNewEmailContactProffesional(e,n,t){let o={to:e,subject:n,message:t};return this.http.post(`${this.baseUrl}/contact-proffesional/send-new-email-contactProffesional`,o)}deleteContactsProfessional(e){return this.http.post(`${this.baseUrl}/contact-proffesional/deleteContactsProfessional`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xb(i,r){i&1&&(s(0,"div",82)(1,"button",83),c(2,"Eliminar seleccionados"),a()())}function Sb(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",84),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td"),c(8),a(),s(9,"td"),c(10),a(),s(11,"td"),c(12),a(),s(13,"td"),c(14),a(),s(15,"td"),c(16),a(),s(17,"td"),c(18),a(),s(19,"td"),c(20),a(),s(21,"td"),c(22),a(),s(23,"td")(24,"button",85),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectedStateContactProffesional(t))}),h(25,"i",86),a()(),s(26,"td")(27,"button",87),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectMessageToReply(t))}),h(28,"i",88),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(2),V(e.name),u(2),V(e.email),u(2),V(e.phone),u(2),V(e.text),u(2),V(e.salon_name||"No definido"),u(2),V(e.province_name||"No definida"),u(2),V(e.city_name||"No definida"),u(2),V(e.address||"No definida"),u(2),V(e.answer||"No constestado"),u(2),V(e.state)}}function wb(i,r){i&1&&(he(0),s(1,"span",90),c(2,"..."),a(),pe())}function Eb(i,r){if(i&1){let e=z();he(0),s(1,"a",91),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Mb(i,r){if(i&1&&(s(0,"li",34),D(1,wb,3,0,"ng-container",89)(2,Eb,3,1,"ng-container",89),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Nh=(()=>{class i{constructor(e,n){this.contactProffesionalService=e,this.toastr=n,this.AllContactMenssage=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.replyMessage="",this.reply="",this.selectedContactProffesional={},this.selectedMessage={},this.replySubject="",this.filterState="",this.addressNewEmail="",this.replyNewEmailSubject="",this.replyNewEmailMessage=""}ngOnInit(){this.loadAllContactProffesionalMenssage(this.currentPage)}onFilterChange(){this.currentPage=1,this.loadAllContactProffesionalMenssage(this.currentPage)}loadAllContactProffesionalMenssage(e){this.contactProffesionalService.loadContacProffesionaltMenssage(e,this.pageSize,this.searchText,this.filterState).subscribe({next:n=>{this.AllContactMenssage=n.data,this.totalItems=n.totalItems,console.log("Mensajes cargados:",this.AllContactMenssage)},error:n=>{console.error("Error loading salons",n)}})}selectMessageToReply(e){this.selectedMessage=e,this.replySubject="",this.replyMessage=""}sendReply(){if(!this.replyMessage.trim()){alert("El mensaje no puede estar vac\xEDo.");return}console.log("Enviando respuesta:",{to:this.selectedMessage.email,subject:this.replySubject,message:this.replyMessage})}onSearch(){this.loadAllContactProffesionalMenssage(this.currentPage),this.searchText.trim()===""&&this.loadAllContactProffesionalMenssage(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllContactProffesionalMenssage(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllContactMenssage.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllContactMenssage.every(e=>e.selected)}hasSelected(){return this.AllContactMenssage.some(e=>e.selected)}deleteSelected(){this.AllContactMenssage=this.AllContactMenssage.filter(e=>!e.selected),this.allSelected=!1}selectedStateContactProffesional(e){this.selectedContactProffesional={id_contact:e.id_contact,state:e.state}}UpdateStateContactProffesional(){this.contactProffesionalService.updateStateContactProffesional(this.selectedContactProffesional.id_contact,this.selectedContactProffesional.state).subscribe({next:()=>{this.loadAllContactProffesionalMenssage(this.currentPage),this.allSelected=!1,this.toastr.success("Estado actualizado con \xE9xito")},error:e=>{console.error("Error updating contact state",e),this.toastr.error("Error al actualizar el estado del contacto profesional")}})}sendReplyContactProffesional(){let e=this.selectedMessage.id_contact,n=this.selectedMessage.email,t=this.replySubject,o=this.replyMessage,l=this.replyMessage;this.contactProffesionalService.sendEmailContactProffesional(e,n,t,o,l).subscribe(d=>{this.toastr.success("Correo enviado con \xE9xito"),this.loadAllContactProffesionalMenssage(this.currentPage)},d=>{this.toastr.error("Error al enviar el correo"),console.error(d)})}sendNewEmailContactProffesional(){let e=this.addressNewEmail,n=this.replyNewEmailSubject,t=this.replyNewEmailMessage;this.contactProffesionalService.sendNewEmailContactProffesional(e,n,t).subscribe(o=>{this.toastr.success("Correo enviado con \xE9xito"),this.loadAllContactProffesionalMenssage(this.currentPage)},o=>{this.toastr.error("Error al enviar el correo"),console.error(o)})}confirmDelete(){let e=this.AllContactMenssage.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn mensaje para eliminar.");return}console.log("Contactos seleccionados para eliminar:",e);let n=e.map(t=>t.id_contact);this.contactProffesionalService.deleteContactsProfessional(n).subscribe({next:()=>{this.toastr.success("Mensajes eliminados con \xE9xito"),this.loadAllContactProffesionalMenssage(this.currentPage),this.AllContactMenssage.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando contactos",t),this.toastr.error("Error al eliminar los mensajes seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(Oh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-contact-proffesional"]],decls:198,vars:22,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-2"],[1,"dropdown-menu","p-3",2,"min-width","200px"],[1,"mb-2"],["for","largeSelect",1,"form-label"],["id","largeSelect",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","Pendiente"],["value","En revisi\xF3n"],["value","Contestado"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#sendMailModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","changeStateModal","tabindex","-1","aria-labelledby","changeStateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","changeStateModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-4"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid","rounded-circle","shadow"],[1,"mb-3"],["for","state",1,"form-label"],["name","state","id","state","aria-label","Large select example",1,"form-select","form-select-lg","mb-3",3,"ngModelChange","ngModel"],[1,"text-end"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","replyModal","tabindex","-1","aria-labelledby","replyModalLabel","aria-hidden","true",1,"modal","fade"],["id","replyModalLabel",1,"modal-title"],[3,"ngSubmit"],["for","replyEmail",1,"form-label"],["type","email","id","replyEmail","name","replyEmail","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["for","replySubject",1,"form-label"],["type","text","id","replySubject","name","replySubject","placeholder","Escribe el asunto...",1,"form-control",3,"ngModelChange","ngModel"],["for","originalMessage",1,"form-label"],["id","originalMessage","name","originalMessage","readonly","","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["for","replyMessage",1,"form-label"],["id","replyMessage","name","replyMessage","rows","5","placeholder","Escribe tu respuesta...",1,"form-control",3,"ngModelChange","ngModel"],["id","sendMailModal","tabindex","-1","aria-labelledby","sendMailModalLabel","aria-hidden","true",1,"modal","fade"],["id","sendMailModalLabel",1,"modal-title"],["for","addressNewEmail",1,"form-label"],["type","email","id","replyEmail","placeholder","Escribe el correo...","name","addressNewEmail",1,"form-control",3,"ngModelChange","ngModel"],["for","replyNewEmailSubject",1,"form-label"],["type","text","id","replyNewEmailSubject","name","replyNewEmailSubject","placeholder","Escribe el asunto...",1,"form-control",3,"ngModelChange","ngModel"],["for","replyNewEmailMessage",1,"form-label"],["id","replyNewEmailMessage","name","replyNewEmailMessage","rows","5","placeholder","Escribe aqu\xED...",1,"form-control",3,"ngModelChange","ngModel"],["id","deleteContactProfessionalModal","tabindex","-1","aria-labelledby","deleteContactProfessionalModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteContactProfessionalModalLabel",1,"modal-title"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteContactProfessionalModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],["title","Cambiar estado","data-bs-toggle","modal","data-bs-target","#changeStateModal",1,"btn","btn-dark","btn-icon",3,"click"],[1,"fas","fa-sync-alt"],["data-bs-toggle","modal","data-bs-target","#replyModal","title","Contestar",1,"btn","btn-dark","btn-icon",3,"click"],[1,"fas","fa-reply"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Contacto Profesional"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Mensajes "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"div",14)(23,"button",15),c(24," Filtro "),a(),s(25,"ul",16)(26,"li",17)(27,"label",18),c(28,"Estado"),a(),s(29,"select",19),I("ngModelChange",function(l){return A(t.filterState,l)||(t.filterState=l),l}),f("change",function(){return t.onFilterChange()}),s(30,"option",20),c(31,"Todos"),a(),s(32,"option",21),c(33,"Pendiente"),a(),s(34,"option",22),c(35,"En revisi\xF3n"),a(),s(36,"option",23),c(37,"Contestado"),a()()(),s(38,"li"),h(39,"hr",24),a()()(),s(40,"button",25),c(41,"Nuevo"),a()(),D(42,xb,3,0,"div",26),a(),s(43,"div",27)(44,"table",28)(45,"thead",29)(46,"tr")(47,"th")(48,"input",30),f("change",function(){return t.toggleAllSelection()}),a()(),s(49,"th"),c(50,"Nombre"),a(),s(51,"th"),c(52,"Email"),a(),s(53,"th"),c(54,"Telefono"),a(),s(55,"th"),c(56,"Mensaje"),a(),s(57,"th"),c(58,"Nombre del salon"),a(),s(59,"th"),c(60,"Provincia"),a(),s(61,"th"),c(62,"Poblaci\xF3n"),a(),s(63,"th"),c(64,"Direcci\xF3n"),a(),s(65,"th"),c(66,"Respuesta"),a(),s(67,"th"),c(68,"Estado"),a(),s(69,"th"),c(70,"Cambiar estado"),a(),s(71,"th"),c(72,"Contestar"),a()()(),s(73,"tbody"),D(74,Sb,29,11,"tr",31),a()()(),s(75,"nav",32)(76,"ul",33)(77,"li",34)(78,"a",35),f("click",function(){return t.onPageChange(1)}),s(79,"span",36),c(80,"\xAB\xAB"),a()()(),s(81,"li",34)(82,"a",37),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(83,"span",36),c(84,"\xAB"),a()()(),D(85,Mb,3,6,"li",38),s(86,"li",34)(87,"a",39),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(88,"span",36),c(89,"\xBB"),a()()(),s(90,"li",34)(91,"a",40),f("click",function(){return t.onPageChange(t.pageCount)}),s(92,"span",36),c(93,"\xBB\xBB"),a()()()()()()()()(),h(94,"app-footer"),a()(),s(95,"div",41)(96,"div",42)(97,"div",43)(98,"div",44)(99,"h5",45),c(100,"Cambiar estado email contacto profesional"),a(),h(101,"button",46),a(),s(102,"div",47)(103,"div",48),h(104,"img",49),a(),s(105,"form")(106,"div",50)(107,"label",51),c(108,"Estado del mail de contacto profesional"),a(),s(109,"select",52),I("ngModelChange",function(l){return A(t.selectedContactProffesional.state,l)||(t.selectedContactProffesional.state=l),l}),s(110,"option",21),c(111,"Pendiente"),a(),s(112,"option",22),c(113,"En revisi\xF3n"),a(),s(114,"option",23),c(115,"Contestado"),a()()(),s(116,"div",53)(117,"button",54),f("click",function(){return t.UpdateStateContactProffesional()}),c(118,"Guardar cambios"),a(),s(119,"button",55),c(120,"Cancelar"),a()()()()()()(),s(121,"div",56)(122,"div",42)(123,"div",43)(124,"div",44)(125,"h5",57),c(126,"Responder al Mensaje"),a(),h(127,"button",46),a(),s(128,"div",47)(129,"div",48),h(130,"img",49),a(),s(131,"form",58),f("ngSubmit",function(){return t.sendReply()}),s(132,"div",50)(133,"label",59),c(134,"Para:"),a(),s(135,"input",60),I("ngModelChange",function(l){return A(t.selectedMessage.email,l)||(t.selectedMessage.email=l),l}),a()(),s(136,"div",50)(137,"label",61),c(138,"Asunto:"),a(),s(139,"input",62),I("ngModelChange",function(l){return A(t.replySubject,l)||(t.replySubject=l),l}),a()(),s(140,"div",50)(141,"label",63),c(142,"Mensaje Original:"),a(),s(143,"textarea",64),I("ngModelChange",function(l){return A(t.selectedMessage.text,l)||(t.selectedMessage.text=l),l}),a()(),s(144,"div",50)(145,"label",65),c(146,"Respuesta:"),a(),s(147,"textarea",66),I("ngModelChange",function(l){return A(t.replyMessage,l)||(t.replyMessage=l),l}),a()(),s(148,"div",53)(149,"button",54),f("click",function(){return t.sendReplyContactProffesional()}),c(150,"Enviar Respuesta"),a(),s(151,"button",55),c(152,"Cancelar"),a()()()()()()(),s(153,"div",67)(154,"div",42)(155,"div",43)(156,"div",44)(157,"h5",68),c(158,"Nuevo Correo"),a(),h(159,"button",46),a(),s(160,"div",47)(161,"div",48),h(162,"img",49),a(),s(163,"form")(164,"div",50)(165,"label",69),c(166,"Para:"),a(),s(167,"input",70),I("ngModelChange",function(l){return A(t.addressNewEmail,l)||(t.addressNewEmail=l),l}),a()(),s(168,"div",50)(169,"label",71),c(170,"Asunto:"),a(),s(171,"input",72),I("ngModelChange",function(l){return A(t.replyNewEmailSubject,l)||(t.replyNewEmailSubject=l),l}),a()(),s(172,"div",50)(173,"label",73),c(174,"Mensaje:"),a(),s(175,"textarea",74),I("ngModelChange",function(l){return A(t.replyNewEmailMessage,l)||(t.replyNewEmailMessage=l),l}),a()(),s(176,"div",53)(177,"button",54),f("click",function(){return t.sendNewEmailContactProffesional()}),c(178,"Enviar Respuesta"),a(),s(179,"button",55),c(180,"Cancelar"),a()()()()()()(),s(181,"div",75)(182,"div",42)(183,"div",43)(184,"div",44)(185,"h5",76),c(186,"Eliminar Contacto Profesional"),a(),h(187,"button",46),a(),s(188,"div",47)(189,"div",77),h(190,"img",78),a(),s(191,"p"),c(192,"\xBFEst\xE1s seguro que deseas eliminar el contacto/s profesionales seleccionados?"),a()(),s(193,"div",79)(194,"button",80),f("click",function(){return t.confirmDelete()}),c(195,"Eliminar"),a(),s(196,"button",81),c(197,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(9),T("ngModel",t.filterState),u(13),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(26),b("ngForOf",t.AllContactMenssage),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),T("ngModel",t.selectedContactProffesional.state),u(26),T("ngModel",t.selectedMessage.email),u(4),T("ngModel",t.replySubject),u(4),T("ngModel",t.selectedMessage.text),u(4),T("ngModel",t.replyMessage),u(20),T("ngModel",t.addressNewEmail),u(4),T("ngModel",t.replyNewEmailSubject),u(4),T("ngModel",t.replyNewEmailMessage))},dependencies:[ue,ce,Je,Qe,Ke,me,Ve,je,fe,$e,Ce,Ye,ge,_e,ve],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}"]})}}return i})();var Bh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllReclamation(e,n,t,o=""){let l=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(l=l.set("search",t)),o&&(l=l.set("filterState",o)),this.http.get(`${this.baseUrl}/reclamations/getAllReclamations`,{params:l})}updateStateReclamation(e,n,t,o,l){let d={id_salon_reclamacion:e,id_user:n,salon_name:t,state:o,email:l};return this.http.put(`${this.baseUrl}/reclamations/updateStateReclamation`,d)}deleteReclamations(e){let n="http://localhost:3900/salon-reclamation/delete",t="https://api.mispeluquerias.com/salon-reclamation/delete";return this.http.post(n,{id_salon_reclamacion:e}).pipe(xt(o=>(console.log("Eliminando reclamacion/es..."),this.http.post(t,{id_salon_reclamacion:e}))))}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Tb(i,r){i&1&&(s(0,"div",65)(1,"button",66),c(2," Eliminar seleccionados "),a()())}function Ab(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",67),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",68),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td"),c(13),a(),s(14,"td"),c(15),a(),s(16,"td")(17,"a",69)(18,"img",70),f("error",function(t){g(e);let o=x();return _(o.setDefaultImg(t))}),a()()(),s(19,"td")(20,"a",69)(21,"img",71),f("error",function(t){g(e);let o=x();return _(o.setDefaultImg(t))}),a()()(),s(22,"td")(23,"a",69)(24,"img",72),f("error",function(t){g(e);let o=x();return _(o.setDefaultImg(t))}),a()()(),s(25,"td")(26,"a",69)(27,"img",72),f("error",function(t){g(e);let o=x();return _(o.setDefaultImg(t))}),a()()(),s(28,"td"),c(29),a(),s(30,"td")(31,"button",73),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectedReclamationUpdate(t))}),h(32,"i",74),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(3),Y(" ",e.user_name,""),u(2),V(e.email),u(2),V(e.salon_name),u(2),V(e.observation),u(2),V(e.city_name),u(2),V(e.province_name),u(2),b("href",e.dnifront_path,Ie),u(),b("src",e.dnifront_path,Ie),u(2),b("href",e.dniback_path,Ie),u(),b("src",e.dniback_path,Ie),u(2),b("href",e.file_path,Ie),u(),b("src",e.file_path,Ie),u(2),b("href",e.invoice_path,Ie),u(),b("src",e.invoice_path,Ie),u(2),V(e.state)}}function Ib(i,r){i&1&&(he(0),s(1,"span",76),c(2,"..."),a(),pe())}function kb(i,r){if(i&1){let e=z();he(0),s(1,"a",77),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Pb(i,r){if(i&1&&(s(0,"li",35),D(1,Ib,3,0,"ng-container",75)(2,kb,3,1,"ng-container",75),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}var Rh=(()=>{class i{constructor(e,n){this.reclamationService=e,this.toastr=n,this.AllReclamations=[],this.currentPage=1,this.pageSize=3,this.totalItems=0,this.allSelected=!1,this.searchText="",this.selectedReclamation={},this.filterState=""}ngOnInit(){this.loadAllReclamations(this.currentPage)}onFilterChange(){this.currentPage=1,this.loadAllReclamations(this.currentPage)}loadAllReclamations(e){this.reclamationService.loadAllReclamation(this.currentPage,this.pageSize,this.searchText,this.filterState).subscribe({next:n=>{this.AllReclamations=n.data,this.totalItems=n.pagination.totalItems},error:n=>{console.error("Error loading reclamations",n)}})}onSearch(){this.currentPage=1,this.loadAllReclamations(this.currentPage)}onPageChange(e){e>0&&e<=this.pageCount&&(this.currentPage=e,this.loadAllReclamations(this.currentPage))}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllReclamations.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllReclamations.every(e=>e.selected)}hasSelected(){return this.AllReclamations.some(e=>e.selected)}selectedReclamationUpdate(e){this.selectedReclamation={id_salon_reclamacion:e.id_salon_reclamacion,id_user:e.id_user,salon_name:e.salon_name,state:e.state,email:e.email},console.log("selectedReclamation:",this.selectedReclamation)}cofirmUpdateState(){this.reclamationService.updateStateReclamation(this.selectedReclamation.id_salon_reclamacion,this.selectedReclamation.id_user,this.selectedReclamation.salon_name,this.selectedReclamation.state,this.selectedReclamation.email).subscribe({next:()=>{this.loadAllReclamations(this.currentPage),this.allSelected=!1,this.toastr.success("Estado actualizado con \xE9xito")},error:e=>{this.toastr.error("Error al actualizar el estado del reclamaci\xF3n"),console.error("Error updating reclamation state",e)}})}confirmDelete(){let e=this.AllReclamations.filter(n=>n.selected).map(n=>n.id_salon_reclamacion);e.length>0?this.reclamationService.deleteReclamations(e).subscribe({next:()=>{this.AllReclamations=this.AllReclamations.filter(n=>!n.selected),this.allSelected=!1,this.toastr.success("Reclamaciones eliminadas correctamente")},error:n=>{console.error("Error eliminando reclamaciones",n),this.toastr.error("Error al eliminar reclamaciones")}}):this.toastr.warning("No hay reclamaciones seleccionadas para eliminar")}setDefaultImg(e){let n=e.target;n.src="../../../assets/img/file.png"}static{this.\u0275fac=function(n){return new(n||i)(B(Bh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-reclamations"]],decls:138,vars:15,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-4"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-8","d-flex","justify-content-md-end"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","me-2"],[1,"dropdown-menu","p-3",2,"min-width","200px"],[1,"mb-2"],["for","largeSelect",1,"form-label"],["id","largeSelect",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","Pendiente"],["value","En revisi\xF3n"],["value","Validado"],[1,"dropdown-divider"],["class","text-end mb-3",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-2"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","changeStateModal","tabindex","-1","aria-labelledby","changeStateModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","changeStateModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-4"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid","rounded-circle","shadow"],[1,"mb-3"],["for","state",1,"form-label"],["name","state","id","state","aria-label","Large select example",1,"form-select","form-select-lg","mb-3",3,"ngModelChange","ngModel"],["value","Reclamado"],[1,"text-end"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","deleteReclamationModal","tabindex","-1","aria-labelledby","deleteReclamationModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteReclamationModalLabel",1,"modal-title"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"text-end","mb-3"],["data-bs-toggle","modal","data-bs-target","#deleteReclamationModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-regular","fa-clipboard"],["target","_blank",3,"href"],["alt","DNI Frontal",1,"fixed-size-img",3,"error","src"],["alt","DNI Trasero",1,"fixed-size-img",3,"error","src"],["alt","Documentos",1,"fixed-size-img",3,"error","src"],["data-bs-toggle","modal","data-bs-target","#changeStateModal",1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Administraci\xF3n / "),s(11,"b"),c(12,"Reclamaciones"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Reclamaciones "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"div",14)(23,"button",15),c(24," Filtro "),a(),s(25,"ul",16)(26,"li",17)(27,"label",18),c(28,"Estado"),a(),s(29,"select",19),I("ngModelChange",function(l){return A(t.filterState,l)||(t.filterState=l),l}),f("change",function(){return t.onFilterChange()}),s(30,"option",20),c(31,"Todos"),a(),s(32,"option",21),c(33,"Pendiente"),a(),s(34,"option",22),c(35,"En revisi\xF3n"),a(),s(36,"option",23),c(37,"Validado"),a()()(),s(38,"li"),h(39,"hr",24),a()()()()(),D(40,Tb,3,0,"div",25),s(41,"div",26)(42,"table",27)(43,"thead",28)(44,"tr")(45,"th")(46,"input",29),f("change",function(){return t.toggleAllSelection()}),a()(),s(47,"th",30),c(48,"Usuario"),a(),s(49,"th"),c(50,"Email"),a(),s(51,"th"),c(52,"Negocio"),a(),s(53,"th"),c(54,"Observacion"),a(),s(55,"th"),c(56,"Ciudad"),a(),s(57,"th"),c(58,"Provincia"),a(),s(59,"th"),c(60,"DNI Frontal"),a(),s(61,"th"),c(62,"DNI Trasero"),a(),s(63,"th"),c(64,"Documentos"),a(),s(65,"th"),c(66,"Facturas"),a(),s(67,"th"),c(68,"Estado"),a(),s(69,"th",31),c(70,"Cambiar Estado"),a()()(),s(71,"tbody"),D(72,Ab,33,16,"tr",32),a()()(),s(73,"nav",33)(74,"ul",34)(75,"li",35)(76,"a",36),f("click",function(){return t.onPageChange(1)}),s(77,"span",37),c(78,"\xAB\xAB"),a()()(),s(79,"li",35)(80,"a",38),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(81,"span",37),c(82,"\xAB"),a()()(),D(83,Pb,3,6,"li",39),s(84,"li",35)(85,"a",40),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(86,"span",37),c(87,"\xBB"),a()()(),s(88,"li",35)(89,"a",41),f("click",function(){return t.onPageChange(t.pageCount)}),s(90,"span",37),c(91,"\xBB\xBB"),a()()()()()()()()(),h(92,"app-footer"),a()(),s(93,"div",42)(94,"div",43)(95,"div",44)(96,"div",45)(97,"h5",46),c(98," Cambiar estado reclamaci\xF3n "),a(),h(99,"button",47),a(),s(100,"div",48)(101,"div",49),h(102,"img",50),a(),s(103,"form")(104,"div",51)(105,"label",52),c(106,"Estado de la reclamaci\xF3n"),a(),s(107,"select",53),I("ngModelChange",function(l){return A(t.selectedReclamation.state,l)||(t.selectedReclamation.state=l),l}),s(108,"option",21),c(109,"Pendiente"),a(),s(110,"option",22),c(111,"En revisi\xF3n"),a(),s(112,"option",23),c(113,"Validado"),a(),s(114,"option",54),c(115,"Reclamado"),a()()(),s(116,"div",55)(117,"button",56),f("click",function(){return t.cofirmUpdateState()}),c(118," Guardar cambios "),a(),s(119,"button",57),c(120," Cancelar "),a()()()()()()(),s(121,"div",58)(122,"div",43)(123,"div",44)(124,"div",45)(125,"h5",59),c(126,"Eliminar Reclamaciones"),a(),h(127,"button",47),a(),s(128,"div",48)(129,"div",60),h(130,"img",61),a(),s(131,"p"),c(132,"\xBFEst\xE1s seguro que deseas eliminar la reclamaci\xF3n/es seleccionadas?"),a()(),s(133,"div",62)(134,"button",63),f("click",function(){return t.confirmDelete()}),c(135,"Eliminar"),a(),s(136,"button",64),c(137,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(9),T("ngModel",t.filterState),u(11),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(26),b("ngForOf",t.AllReclamations),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),T("ngModel",t.selectedReclamation.state))},dependencies:[ue,ce,Je,Qe,Ke,me,Ve,je,fe,$e,Ce,Ye,ge,_e,ve],styles:['@charset "UTF-8";.fixed-size-img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover}.state-list[_ngcontent-%COMP%]{position:absolute;top:10;left:0;right:0;z-index:1000;max-height:150px;overflow-y:auto;background-color:#fff;border:1px solid rgba(0,0,0,.125);border-top:none;margin-top:0;padding-top:0}.state-list[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:gray}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}']})}}return i})();var Vh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllServices(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/services/getAllServices`,{params:o})}addNewService(e){return this.http.post(`${this.baseUrl}/services/addService`,e)}deleteServiceWithSubservice(e){return this.http.delete(`${this.baseUrl}/services/deleteServiceWithSubservices/${e}`)}updateSubservices(e,n){return this.http.put(`${this.baseUrl}/services/updateSubservices/${e}`,n)}updateCategories(e,n){return this.http.put(`${this.baseUrl}/services/updateCategories/${e}`,n)}updateService(e,n){return this.http.put(`${this.baseUrl}/services/updateService/${e}`,n)}getCategoryInLive(e){return this.http.get(`${this.baseUrl}/services/searchCategoryInLive`,{params:{category:e}})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ob(i,r){i&1&&(s(0,"div",77)(1,"button",78),c(2,"Eliminar seleccionados"),a()())}function Nb(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",79),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",80),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td",81)(11,"button",82),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectService(t))}),c(12,"Servicios"),a(),s(13,"button",83),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectSubService(t))}),c(14,"Subservicios"),a(),s(15,"button",84),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectCategories(t))}),c(16,"Categor\xEDas"),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(3),Y(" ",e.service_name,""),u(2),V(e.subservices||"Ninguno"),u(2),V(e.categories||"Ninguna")}}function Bb(i,r){i&1&&(he(0),s(1,"span",86),c(2,"..."),a(),pe())}function Rb(i,r){if(i&1){let e=z();he(0),s(1,"a",87),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Vb(i,r){if(i&1&&(s(0,"li",24),D(1,Bb,3,0,"ng-container",85)(2,Rb,3,1,"ng-container",85),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}function Lb(i,r){if(i&1){let e=z();s(0,"li",88),c(1),s(2,"button",89),f("click",function(){let t=g(e).index,o=x();return _(o.removeService(t))}),h(3,"i",90),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e," ")}}function Ub(i,r){if(i&1){let e=z();s(0,"li",93),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectCategory({name:t}))}),h(1,"i",94),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function jb(i,r){if(i&1&&(s(0,"ul",91),D(1,Ub,3,1,"li",92),a()),i&2){let e=x();u(),b("ngForOf",e.dataCategoryList)}}function Hb(i,r){if(i&1){let e=z();s(0,"li",88),c(1),s(2,"button",89),f("click",function(){let t=g(e).index,o=x();return _(o.removeCategory(t))}),h(3,"i",90),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e.name," ")}}var Lh=(()=>{class i{constructor(e,n){this.servicesService=e,this.toastr=n,this.AllServices=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.Math=Math,this.allSelected=!1,this.searchText="",this.newService={name:"",subservices:[]},this.newSubservice=[],this.newSubserviceInput="",this.selectedService={service_name:""},this.selectedSubServices=[],this.subservicesAsText="",this.categoriesAsText="",this.selectedSubServiceIds=[],this.selectedCategoryIds=[],this.selectedCategory="",this.selectedCategories=[],this.searchTermsCategory=new Te,this.dataCategoryList=[],this.id_category="",this.newCategory={category:"",salons:[]}}ngOnInit(){this.loadAllServices(this.currentPage),this.searchTermsCategory.pipe(Rt(300),qt(),et(e=>e.length>=2?this.servicesService.getCategoryInLive(e):ae([]))).subscribe({next:e=>{this.dataCategoryList=e.map(n=>n.categories)},error:e=>{console.error("Error al buscar categorias:",e)}})}loadAllServices(e){this.servicesService.loadAllServices(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllServices=n.data,console.log("Servicios cargados:",this.AllServices),this.totalItems=n.totalItems},error:n=>{console.error("Error loading services",n)}})}searchCategory(e){this.searchTermsCategory.next(e)}removeCategory(e){this.newCategory.categories.splice(e,1)}selectService(e){this.selectedService=q({},e)}selectCategories(e){console.log("Contenido de service.categories:",e.categories),Array.isArray(e.categories)?this.selectedCategories=[...e.categories]:typeof e.categories=="string"?this.selectedCategories=e.categories.split(",").map(n=>n.trim()):this.selectedCategories=[],this.selectedService=q({},e),this.categoriesAsText=this.selectedCategories.join(", ")}selectCategory(e){this.newCategory.categories||(this.newCategory.categories=[]),this.newCategory.categories.push({name:e.name}),this.dataCategoryList=[],this.selectedCategory=""}selectSubService(e){Array.isArray(e.subservices)?this.selectedSubServices=[...e.subservices]:typeof e.subservices=="string"?this.selectedSubServices=e.subservices.split(",").map(n=>n.trim()):this.selectedSubServices=[],this.selectedService=q({},e),this.subservicesAsText=this.selectedSubServices.join(", ")}onSearch(){this.loadAllServices(this.currentPage),this.searchText.trim()===""&&this.loadAllServices(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllServices(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllServices.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllServices.every(e=>e.selected)}hasSelected(){return this.AllServices.some(e=>e.selected)}removeService(e){this.newSubservice.splice(e,1)}addSubservice(){this.newSubserviceInput.trim()!==""&&(this.newSubservice.push(this.newSubserviceInput.trim()),this.newSubserviceInput="")}addNewService(){this.newService.name.trim()!==""&&this.newSubservice.length>0?(this.newService.subservices=this.newSubservice,this.newService.categories=this.newCategory.categories,this.servicesService.addNewService(this.newService).subscribe({next:e=>{this.toastr.success("Servicios, subservicios y categor\xEDas a\xF1adidos con \xE9xito"),this.newService={name:"",subservices:[]},this.newSubservice=[],this.newCategory.categories=[],this.loadAllServices(this.currentPage)},error:e=>{this.toastr.error("No se pudo crear el servicio, subservicio y categor\xEDas"),console.error("Error creando el servicio:",e)}})):this.toastr.error("Por favor, rellene todos los campos")}deleteSelected(){let e=this.AllServices.filter(n=>n.selected);if(e.length===0){this.toastr.error("No hay servicios seleccionados para eliminar");return}e.forEach(n=>{this.servicesService.deleteServiceWithSubservice(n.id_service).subscribe({next:t=>{t.success?this.toastr.success("Servicio y subservicios eliminados con \xE9xito"):this.toastr.error("Error al eliminar el servicio")},error:t=>{this.toastr.error("Error al eliminar el servicio"),console.error("Error eliminando el servicio:",t)},complete:()=>{this.loadAllServices(this.currentPage)}})})}updateService(){if(this.selectedService.service_name.trim()===""){this.toastr.error("El nombre del servicio no puede estar vac\xEDo");return}let e={name:this.selectedService.service_name};this.servicesService.updateService(this.selectedService.id_service,e).subscribe({next:n=>{this.toastr.success("Servicio actualizado con \xE9xito"),this.loadAllServices(this.currentPage)},error:n=>{console.error("Error actualizando el servicio:",n),this.toastr.error("Error al actualizar el servicio")}})}updateSubService(){if(this.subservicesAsText.trim()===""||this.subservicesAsText===""){this.toastr.error("Error, Introduzca al menos un subservicio");return}this.selectedSubServices=this.subservicesAsText.split(",").map(n=>n.trim()).filter(n=>n.length>0);let e={subservices:this.selectedSubServices,id_service:this.selectedService.id_service,service_type_ids:this.selectedSubServiceIds};if(console.log("Servicio actualizado:",e),!this.selectedService.id_service){this.toastr.error("No se pudo actualizar los subservicios porque falta el ID del servicio");return}this.servicesService.updateSubservices(this.selectedService.service_type_ids,e).subscribe({next:n=>{this.toastr.success("Subservicios actualizados con \xE9xito"),this.loadAllServices(this.currentPage)},error:n=>{this.toastr.error("Error al actualizar los subservicios"),console.error("Error actualizando los subservicios:",n)}})}updateCategories(){if(this.categoriesAsText.trim()===""){this.toastr.error("Error, Introduzca al menos una categor\xEDa");return}this.selectedCategories=this.categoriesAsText.split(",").map(n=>n.trim()).filter(n=>n.length>0);let e={categories:this.selectedCategories,id_service:this.selectedService.id_service};if(console.log("Datos de categor\xEDas a enviar:",e),!this.selectedService.id_service){this.toastr.error("No se pudo actualizar las categor\xEDas porque falta el ID del servicio");return}this.servicesService.updateCategories(this.selectedService.id_service,e).subscribe({next:n=>{this.toastr.success("Categor\xEDas actualizadas con \xE9xito"),this.loadAllServices(this.currentPage)},error:n=>{this.toastr.error("Error al actualizar las categor\xEDas, por favor compruebe los nombres..."),console.error("Error actualizando las categor\xEDas:",n)}})}static{this.\u0275fac=function(n){return new(n||i)(B(Vh),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-services"]],decls:172,vars:22,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newServiceModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],["colspan","2",1,"col-2"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","newServiceModal","tabindex","-1","aria-labelledby","newServiceModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","newServiceModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"mb-3","position-relative"],["for","newService",1,"form-label"],["type","text","id","newService","placeholder","Escriba aqu\xED...","name","newService","required","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["for","newSubservice",1,"form-label","mt-3"],["type","text","id","newSubservice","name","newSubservice","placeholder","Introduzca el nombre del subservicio y pulse enter para a\xF1adir...","autocomplete","off",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"mt-3"],[1,"form-label"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["for","categoryName",1,"form-label","mt-3"],["type","text","id","categoryName","name","category","placeholder","Introduzca el nombre de la categor\xEDa y haga clic para a\xF1adir...","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group email-list",4,"ngIf"],[1,"mt-3","mb-3"],[1,"d-flex","justify-content-end","me-2"],[1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","deleteServiceModal","tabindex","-1","aria-labelledby","deleteServiceModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteServiceModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","editServiceModal","tabindex","-1","aria-labelledby","editServiceLabel","aria-hidden","true",1,"modal","fade"],["id","editServiceLabel",1,"modal-title"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","serviceName",1,"form-label"],["type","text","id","editService","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-danger",3,"click"],["id","editSubServiceModal","tabindex","-1","aria-labelledby","editSubServiceLabel","aria-hidden","true",1,"modal","fade"],["id","editSubServiceLabel",1,"modal-title"],["for","subservicesTextarea",1,"form-label"],["id","subservicesTextarea","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["id","editCategoriesModal","tabindex","-1","aria-labelledby","editCategoriesLabel","aria-hidden","true",1,"modal","fade"],["id","editCategoriesLabel",1,"modal-title"],["for","categoriesTextarea",1,"form-label"],["id","categoriesTextarea","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteServiceModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-scissors"],[1,"d-flex","flex-wrap","flex-md-nowrap"],["data-bs-toggle","modal","data-bs-target","#editServiceModal",1,"btn","btn-dark","me-2","mb-2","mb-md-0","btn-sm",3,"click"],["data-bs-toggle","modal","data-bs-target","#editSubServiceModal",1,"btn","btn-dark","mb-2","mb-md-0","btn-sm","me-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#editCategoriesModal",1,"btn","btn-dark","ms-2","ms-md-0","btn-sm",3,"click"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times"],[1,"list-group","email-list"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-tag"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Servicios"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Servicios "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),D(24,Ob,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Nombre"),a(),s(33,"th"),c(34,"Subservicios"),a(),s(35,"th"),c(36,"Categor\xEDas asociadas"),a(),s(37,"th",20),c(38,"Editar Servicios/Subservicios/Categor\xEDas"),a()()(),s(39,"tbody"),D(40,Nb,17,4,"tr",21),a()()(),s(41,"nav",22)(42,"ul",23)(43,"li",24)(44,"a",25),f("click",function(){return t.onPageChange(1)}),s(45,"span",26),c(46,"\xAB\xAB"),a()()(),s(47,"li",24)(48,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(49,"span",26),c(50,"\xAB"),a()()(),D(51,Vb,3,6,"li",28),s(52,"li",24)(53,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(54,"span",26),c(55,"\xBB"),a()()(),s(56,"li",24)(57,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(58,"span",26),c(59,"\xBB\xBB"),a()()()()()()()()(),h(60,"app-footer"),a()(),s(61,"div",31)(62,"div",32)(63,"div",33)(64,"div",34)(65,"h5",35),c(66,"Nuevo Servicio"),a(),h(67,"button",36),a(),s(68,"div",37)(69,"div",38),h(70,"img",39),a(),s(71,"div",40)(72,"label",41),c(73,"Introduce Servicio:"),a(),s(74,"input",42),I("ngModelChange",function(l){return A(t.newService.name,l)||(t.newService.name=l),l}),a(),s(75,"label",43),c(76,"Introduce el subservicio asociado:"),a(),s(77,"input",44),I("ngModelChange",function(l){return A(t.newSubserviceInput,l)||(t.newSubserviceInput=l),l}),f("keyup.enter",function(){return t.addSubservice()}),a(),s(78,"div",45)(79,"label",46),c(80,"Subservicios a\xF1adidos:"),a(),s(81,"ul",47),D(82,Lb,4,1,"li",48),a()(),s(83,"label",49),c(84,"Introduce categoria:"),a(),s(85,"input",50),I("ngModelChange",function(l){return A(t.selectedCategory,l)||(t.selectedCategory=l),l}),f("input",function(){return t.searchCategory(t.selectedCategory)}),a(),D(86,jb,2,1,"ul",51),s(87,"div",52)(88,"ul",47),D(89,Hb,4,1,"li",48),a()()(),s(90,"div",53)(91,"button",54),f("click",function(){return t.addNewService()}),c(92,"Guardar"),a(),s(93,"button",55),c(94," Cancelar "),a()()()()()(),s(95,"div",56)(96,"div",32)(97,"div",33)(98,"div",34)(99,"h5",57),c(100,"Eliminar Servicios"),a(),h(101,"button",36),a(),s(102,"div",37)(103,"div",58),h(104,"img",39),a(),s(105,"p"),c(106,"\xBFEst\xE1s seguro que deseas eliminar los servicios y subservicios seleccionados?"),a()(),s(107,"div",59)(108,"button",60),f("click",function(){return t.deleteSelected()}),c(109,"Eliminar"),a(),s(110,"button",61),c(111,"Cancelar"),a()()()()(),s(112,"div",62)(113,"div",32)(114,"div",33)(115,"div",34)(116,"h5",63),c(117,"Editar Servicio"),a(),h(118,"button",36),a(),s(119,"div",37)(120,"div",58),h(121,"img",39),a(),s(122,"div",64)(123,"div",65)(124,"label",66),c(125,"Introduce Nombre:"),a(),s(126,"input",67),I("ngModelChange",function(l){return A(t.selectedService.service_name,l)||(t.selectedService.service_name=l),l}),a()()()(),s(127,"div",59)(128,"button",68),f("click",function(){return t.updateService()}),c(129,"Guardar"),a(),s(130,"button",61),c(131,"Cancelar"),a()()()()(),s(132,"div",69)(133,"div",32)(134,"div",33)(135,"div",34)(136,"h5",70),c(137,"Editar Subservicios"),a(),h(138,"button",36),a(),s(139,"div",37)(140,"div",58),h(141,"img",39),a(),s(142,"div",64)(143,"div",65)(144,"label",71),c(145,"Subservicios:"),a(),s(146,"textarea",72),I("ngModelChange",function(l){return A(t.subservicesAsText,l)||(t.subservicesAsText=l),l}),a()()()(),s(147,"div",59)(148,"button",68),f("click",function(){return t.updateSubService()}),c(149,"Guardar"),a(),s(150,"button",61),c(151,"Cancelar"),a()()()()(),s(152,"div",73)(153,"div",32)(154,"div",33)(155,"div",34)(156,"h5",74),c(157,"Editar Categor\xEDas"),a(),h(158,"button",36),a(),s(159,"div",37)(160,"div",58),h(161,"img",39),a(),s(162,"div",64)(163,"div",65)(164,"label",75),c(165,"Categor\xEDas:"),a(),s(166,"textarea",76),I("ngModelChange",function(l){return A(t.categoriesAsText,l)||(t.categoriesAsText=l),l}),a()()()(),s(167,"div",59)(168,"button",60),f("click",function(){return t.updateCategories()}),c(169,"Guardar"),a(),s(170,"button",61),c(171,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(10),b("ngForOf",t.AllServices),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(18),T("ngModel",t.newService.name),u(3),T("ngModel",t.newSubserviceInput),u(5),b("ngForOf",t.newSubservice),u(3),T("ngModel",t.selectedCategory),u(),b("ngIf",t.dataCategoryList.length>0),u(3),b("ngForOf",t.newCategory.categories),u(37),T("ngModel",t.selectedService.service_name),u(20),T("ngModel",t.subservicesAsText),u(20),T("ngModel",t.categoriesAsText))},dependencies:[ue,ce,me,Ve,fe,ut,Ce,ge,_e,ve],styles:['@charset "UTF-8";#newService[_ngcontent-%COMP%], #newSubservice[_ngcontent-%COMP%], #editService[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#categoryName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}']})}}return i})();var Uh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getSalonById(e){return this.http.get(`${this.baseUrl}/edithome/getSalonById`,{params:{id_salon:e}})}getBrandByCategory(e,n){return this.http.get(`${this.baseUrl}/edithome/getBrandsByCategory`,{params:{category:n,term:e}})}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-aside`,{params:{permiso:e||""}})}updateSalon(e){return this.http.put(`${this.baseUrl}/edithome/updateSalon`,e)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edithome/getCitiesByProvince`,{params:{id_province:e.toString()}})}getProvinces(){return this.http.get(`${this.baseUrl}/edithome/getProvinces`)}responseReview(e){return this.http.put(`${this.baseUrl}/edithome/responseReview`,e)}updateSalonHours(e,n){let t=`${this.baseUrl}/edithome/updateSalonHours/${e}`,o={hours_old:n},l=new jt({"Content-Type":"application/json"});return this.http.put(t,o,{headers:l})}uploadImage(e){let n=`${this.baseUrl}/edithomeimages/uploadImg`;return this.http.post(n,e).pipe(xt(this.handleError))}handleError(e){let n="Unknown error!";return e.error instanceof ErrorEvent?n=`Error: ${e.error.message}`:n=`Error Code: ${e.status}
Message: ${e.message}`,mi(n)}getImages(e){return this.http.get(`${this.baseUrl}/edithomeimages/getImages`,{params:{salon_id:e.toString()}}).pipe(xt(this.handleError))}getUniqueServices(e){return this.http.get(`${this.baseUrl}/edithome/getUniqueServices/${e}`)}getSubservicesByService(e){return this.http.get(`${this.baseUrl}/edithome/getSubservicesByService`,{params:{id_service:e.toString()}})}deleteImage(e){return this.http.delete(`${this.baseUrl}/edithomeimages/deleteImage/${e}`)}updatePrincipalImage(e,n){let t={file_id:e,file_principal:n};return this.http.put(`${this.baseUrl}/edithomeimages/updatePrincipalImage`,t)}addService(e,n,t,o,l){let d={id_salon:e,id_service:n,id_service_type:t,time:o,price:l};return this.http.post(`${this.baseUrl}/edithome/addService`,d)}addCategorySalon(e,n){let t={id_salon:e,category:n};return this.http.post(`${this.baseUrl}/edithome/addCategorySalon`,t)}getServicesWithSubservices(e,n=1,t=10){let o=`${this.baseUrl}/edithome/getServicesWithSubservices?id_salon=${e}&page=${n}&pageSize=${t}`;return this.http.get(o)}deleteServiceWithSubservice(e){let n=`${this.baseUrl}/edithome/deleteServiceWithSubservices/${e}`;return this.http.delete(n)}getFaqByIdSalon(e,n=1,t=10){let o=`${this.baseUrl}/edithome/getFaqByIdSalon?id_salon=${e}&page=${n}&pageSize=${t}`;return this.http.get(o).pipe(xt(this.handleError))}updateFaq(e,n){return this.http.put(`${this.baseUrl}/edithome/updateQuestion`,{id_faq:e,answer:n})}deleteFaq(e){return this.http.post(`${this.baseUrl}/edithome/deleteQuestion`,{id_faq:e})}updateServiceWithSubservice(e){return this.http.put(`${this.baseUrl}/edithome/updateServiceWithSubservice`,e)}updateCategorySalon(e){return this.http.put(`${this.baseUrl}/edithome/updateCategorySalon`,e)}deleteCategorySalon(e){return this.http.delete(`${this.baseUrl}/edithome/deleteCategotySalon/${e}`)}loadReview(e){return this.http.get(`${this.baseUrl}/edithome/loadReview`,{params:{id_salon:e.toString()}})}updateReview(e){return this.http.put(`${this.baseUrl}/edithome/updateReview`,e)}deleteReview(e){return this.http.delete(`${this.baseUrl}/edithome/deleteReview`,{params:{id_review:e}})}getAllCategoriesBrands(){return this.http.get(`${this.baseUrl}/edithome/getAllCategoriesBrands`)}getAllCategoriesServices(){return this.http.get(`${this.baseUrl}/edithome/getAllCategoriesServices`)}getCategories(){return this.http.get(`${this.baseUrl}/edithome/getAllCategoriesSalon`)}getBrandByIdSalon(e){let n=new ye().set("id_salon",e.toString());return this.http.get(`${this.baseUrl}/edithome/getBrandsBySalon`,{params:n})}addBrandToSalon(e,n){return this.http.post(`${this.baseUrl}/edithome/addBrandToSalon`,{salonId:e,brandId:n})}deleteBrandById(e){return this.http.delete(`${this.baseUrl}/edithome/deleteBrandById`,{body:{id_brand:e}})}UpdateBrandsalon(e,n,t){return this.http.put(`${this.baseUrl}/edithome/UpdateBrandById`,{id_brand_salon:e,id_brand:n,id_salon:t})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var $b=["*"];var Jb=["dialog"];var jh={animation:!0,transitionTimerDelayMs:5},Qb=(()=>{class i{constructor(){this.animation=jh.animation}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Kb(i){let{transitionDelay:r,transitionDuration:e}=window.getComputedStyle(i),n=parseFloat(r),t=parseFloat(e);return(n+t)*1e3}function Hh(i){return typeof i=="string"}function dc(i){return i!=null}function Zb(i){return i&&i.then}function Wh(i){return(i||document.body).getBoundingClientRect()}function Yb(i){return r=>new ui(e=>{let n=l=>i.run(()=>e.next(l)),t=l=>i.run(()=>e.error(l)),o=()=>i.run(()=>e.complete());return r.subscribe({next:n,error:t,complete:o})})}var Xb=()=>{},{transitionTimerDelayMs:ey}=jh,Wa=new Map,Ki=(i,r,e,n)=>{let t=n.context||{},o=Wa.get(r);if(o)switch(n.runningTransition){case"continue":return ei;case"stop":i.run(()=>o.transition$.complete()),t=Object.assign(o.context,t),Wa.delete(r)}let l=e(r,n.animation,t)||Xb;if(!n.animation||window.getComputedStyle(r).transitionProperty==="none")return i.run(()=>l()),ae(void 0).pipe(Yb(i));let d=new Te,m=new Te,v=d.pipe(Jc(!0));Wa.set(r,{transition$:d,complete:()=>{m.next(),m.complete()},context:t});let p=Kb(r);return i.runOutsideAngular(()=>{let y=hi(r,"transitionend").pipe(St(v),kt(({target:E})=>E===r)),C=Gc(p+ey).pipe(St(v));qc(C,y,m).pipe(St(v)).subscribe(()=>{Wa.delete(r),i.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()};var hc=function(i){return i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowDown=40]="ArrowDown",i}(hc||{});var DM=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,r=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||r()):!1})();var ty=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zh(i){let r=Array.from(i.querySelectorAll(ty)).filter(e=>e.tabIndex!==-1);return[r[0],r[r.length-1]]}var iy=(i,r,e,n=!1)=>{i.runOutsideAngular(()=>{let t=hi(r,"focusin").pipe(St(e),we(o=>o.target));hi(r,"keydown").pipe(St(e),kt(o=>o.which===hc.Tab),ts(t)).subscribe(([o,l])=>{let[d,m]=zh(r);(l===d||l===r)&&o.shiftKey&&(m.focus(),o.preventDefault()),l===m&&!o.shiftKey&&(d.focus(),o.preventDefault())}),n&&hi(r,"click").pipe(St(e),ts(t),we(o=>o[1])).subscribe(o=>o.focus())})};var TM=new Date(1882,10,12),AM=new Date(2174,10,25);var IM=1e3*60*60*24;var pc=1080,ny=24*pc,ry=12*pc+793,kM=29*ny+ry,PM=11*pc+204;var oy=(()=>{class i{constructor(){this._ngbConfig=ee(Qb),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Tn=class{constructor(r,e,n){this.nodes=r,this.viewRef=e,this.componentRef=n}};var ay=(()=>{class i{constructor(){this._document=ee(Ze)}hide(){let e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,t=n.style,{overflow:o,paddingRight:l}=t;if(e>0){let d=parseFloat(window.getComputedStyle(n).paddingRight);t.paddingRight=`${d+e}px`}return t.overflow="hidden",()=>{e>0&&(t.paddingRight=l),t.overflow=o}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),sy=(()=>{class i{constructor(){this._nativeElement=ee(gt).nativeElement,this._zone=ee(Re)}ngOnInit(){this._zone.onStable.asObservable().pipe(Vt(1)).subscribe(()=>{Ki(this._zone,this._nativeElement,(e,n)=>{n&&Wh(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ki(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,t){n&2&&(Lt("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),W("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ri],decls:0,vars:0,template:function(n,t){},encapsulation:2})}}return i})(),za=class{update(r){}close(r){}dismiss(r){}},ly=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],cy=["animation","backdropClass"],uc=class{_applyWindowOptions(r,e){ly.forEach(n=>{dc(e[n])&&(r[n]=e[n])})}_applyBackdropOptions(r,e){cy.forEach(n=>{dc(e[n])&&(r[n]=e[n])})}update(r){this._applyWindowOptions(this._windowCmptRef.instance,r),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,r)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(St(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(St(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(r,e,n,t){this._windowCmptRef=r,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=t,this._closed=new Te,this._dismissed=new Te,this._hidden=new Te,r.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,l)=>{this._resolve=o,this._reject=l}),this.result.then(null,()=>{})}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(r);else{let e=this._beforeDismiss();Zb(e)?e.then(n=>{n!==!1&&this._dismiss(r)},()=>{}):e!==!1&&this._dismiss(r)}}_removeModalElements(){let r=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ae(void 0);r.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Qr(r,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},mc=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(mc||{}),dy=(()=>{class i{constructor(){this._document=ee(Ze),this._elRef=ee(gt),this._zone=ee(Re),this._closed$=new Te,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new wt,this.shown=new Te,this.hidden=new Te}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Hh(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Vt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:e}=this._elRef,n={animation:this.animation,runningTransition:"stop"},t=Ki(this._zone,e,()=>e.classList.remove("show"),n),o=Ki(this._zone,this._dialogEl.nativeElement,()=>{},n),l=Qr(t,o);return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){let e={animation:this.animation,runningTransition:"continue"},n=Ki(this._zone,this._elRef.nativeElement,(o,l)=>{l&&Wh(o),o.classList.add("show")},e),t=Ki(this._zone,this._dialogEl.nativeElement,()=>{},e);Qr(n,t).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{hi(e,"keydown").pipe(St(this._closed$),kt(t=>t.which===hc.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(mc.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let n=!1;hi(this._dialogEl.nativeElement,"mousedown").pipe(St(this._closed$),ht(()=>n=!1),et(()=>hi(e,"mouseup").pipe(St(this._closed$),Vt(1))),kt(({target:t})=>e===t)).subscribe(()=>{n=!0}),hi(e,"click").pipe(St(this._closed$)).subscribe(({target:t})=>{e===t&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!n&&this._zone.run(()=>this.dismiss(mc.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let n=e.querySelector("[ngbAutofocus]"),t=zh(e)[0];(n||t||e).focus()}}_restoreFocus(){let e=this._document.body,n=this._elWithFocus,t;n&&n.focus&&e.contains(n)?t=n:t=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>t.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Ki(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["ngb-modal-window"]],viewQuery:function(n,t){if(n&1&&ps(Jb,7),n&2){let o;Yr(o=Xr())&&(t._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,t){n&2&&(vt("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),Lt("modal d-block"+(t.windowClass?" "+t.windowClass:"")),W("fade",t.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ri],ngContentSelectors:$b,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(n,t){n&1&&(ms(),s(0,"div",1,0)(2,"div",2),hs(3),a()()),n&2&&Lt("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+t.fullscreenClass+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return i})(),uy=(()=>{class i{constructor(){this._applicationRef=ee(oi),this._injector=ee($t),this._environmentInjector=ee(Yt),this._document=ee(Ze),this._scrollBar=ee(ay),this._activeWindowCmptHasChanged=new Te,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new wt;let e=ee(Re);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let n=this._windowCmpts[this._windowCmpts.length-1];iy(e,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,t){let o=t.container instanceof HTMLElement?t.container:dc(t.container)?this._document.querySelector(t.container):this._document.body;if(!o)throw new Error(`The specified modal container "${t.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let l=new za;e=t.injector||e;let d=e.get(Yt,null)||this._environmentInjector,m=this._getContentRef(e,d,n,l,t),v=t.backdrop!==!1?this._attachBackdrop(o):void 0,p=this._attachWindowComponent(o,m.nodes),y=new uc(p,m,v,t.beforeDismiss);return this._registerModalRef(y),this._registerWindowCmpt(p),y.hidden.pipe(Vt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=C=>{y.close(C)},l.dismiss=C=>{y.dismiss(C)},l.update=C=>{y.update(C)},y.update(t),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),v&&v.instance&&v.changeDetectorRef.detectChanges(),p.changeDetectorRef.detectChanges(),y}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(n=>n.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let n=oo(sy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let t=oo(dy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(t.hostView),e.appendChild(t.location.nativeElement),t}_getContentRef(e,n,t,o,l){return t?t instanceof dd?this._createFromTemplateRef(t,o):Hh(t)?this._createFromString(t):this._createFromComponent(e,n,t,o,l):new Tn([])}_createFromTemplateRef(e,n){let t={$implicit:n,close(l){n.close(l)},dismiss(l){n.dismiss(l)}},o=e.createEmbeddedView(t);return this._applicationRef.attachView(o),new Tn([o.rootNodes],o)}_createFromString(e){let n=this._document.createTextNode(`${e}`);return new Tn([[n]])}_createFromComponent(e,n,t,o,l){let d=$t.create({providers:[{provide:za,useValue:o}],parent:e}),m=oo(t,{environmentInjector:n,elementInjector:d}),v=m.location.nativeElement;return l.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new Tn([[v]],m.hostView,m)}_setAriaHidden(e){let n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(t=>{t!==e&&t.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,n)=>{e?n.setAttribute("aria-hidden",e):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){let n=()=>{let t=this._modalRefs.indexOf(e);t>-1&&(this._modalRefs.splice(t,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{let n=this._windowCmpts.indexOf(e);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Gh=(()=>{class i{constructor(){this._injector=ee($t),this._modalStack=ee(uy),this._config=ee(oy)}open(e,n={}){let t=q(De(q({},this._config),{animation:this._config.animation}),n);return this._modalStack.open(this._injector,e,t)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var FM=new Ae("live announcer delay",{providedIn:"root",factory:()=>100});function hy(i,r){i&1&&(s(0,"div",312)(1,"p"),c(2,"Cargando, por favor espere... "),a(),s(3,"div",313)(4,"span",314),c(5,"Cargando..."),a()()())}function py(i,r){if(i&1){let e=z();s(0,"div",315)(1,"label",316),h(2,"i",317),c(3," Estado "),a(),s(4,"select",318),I("ngModelChange",function(t){g(e);let o=x();return A(o.salonData.state,t)||(o.salonData.state=t),_(t)}),s(5,"option",319),c(6,"Reclamado"),a(),s(7,"option",320),c(8,"Validado"),a(),s(9,"option",321),c(10,"No reclamado"),a()()()}if(i&2){let e=x();u(4),T("ngModel",e.salonData.state)}}function fy(i,r){i&1&&(s(0,"div",322),c(1," Nombre es obligatorio "),a())}function gy(i,r){i&1&&(s(0,"div",322),c(1," Introduzca un correo electr\xF3nico v\xE1lido "),a())}function _y(i,r){i&1&&(s(0,"div",322),c(1," Direcci\xF3n es obligatoria "),a())}function vy(i,r){i&1&&(s(0,"div",322),c(1," N\xFAmero de tel\xE9fono es obligatorio y debe tener 9 d\xEDgitos "),a())}function by(i,r){if(i&1&&(s(0,"option",323),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function yy(i,r){i&1&&(s(0,"div",322),c(1," Provincia es obligatoria "),a())}function Cy(i,r){if(i&1&&(s(0,"option",323),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function xy(i,r){i&1&&(s(0,"div",322),c(1," Ciudad es obligatoria "),a())}function Sy(i,r){i&1&&(s(0,"div",322),c(1," Latitud es obligatoria y debe ser un n\xFAmero v\xE1lido "),a())}function wy(i,r){i&1&&(s(0,"div",322),c(1," Longitud es obligatoria y debe ser un n\xFAmero v\xE1lido "),a())}function Ey(i,r){if(i&1){let e=z();s(0,"div",326)(1,"input",327),I("ngModelChange",function(t){let o=g(e).index,l=x().$implicit;return A(l.hours[o].open,t)||(l.hours[o].open=t),_(t)}),a(),s(2,"input",328),I("ngModelChange",function(t){let o=g(e).index,l=x().$implicit;return A(l.hours[o].close,t)||(l.hours[o].close=t),_(t)}),a(),s(3,"button",329),f("click",function(){let t=g(e).index,o=x().$implicit,l=x();return _(l.removeHour(o,t))}),c(4," \u2212 "),a()()}if(i&2){let e=r.index,n=x().$implicit;u(),T("ngModel",n.hours[e].open),u(),T("ngModel",n.hours[e].close)}}function My(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),D(4,Ey,5,2,"div",324),a(),s(5,"td")(6,"button",325),f("click",function(){let t=g(e).$implicit,o=x();return _(o.addHour(t))}),c(7," + "),a()()()}if(i&2){let e=r.$implicit;u(2),V(e.name),u(2),b("ngForOf",e.hours),u(2),b("disabled",e.hours.length>=2)}}function Dy(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),Mt(5,"date"),a(),s(6,"td")(7,"div",330)(8,"img",331),f("click",function(){let t=g(e).$implicit,o=x();return _(o.openImage(t.file_url,t.file_name))}),a()()(),s(9,"td")(10,"div",332)(11,"input",333),f("change",function(){let t=g(e).index,o=x();return _(o.uniqueCheckboxSelectImge(t))}),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.file_principal,t)||(o.file_principal=t),_(t)}),a()()(),s(12,"td")(13,"button",334),f("click",function(){let t=g(e).$implicit,o=x();return _(o.setToDeleteImage(t.file_id))}),h(14,"i",335),c(15," Eliminar "),a()()()}if(i&2){let e=r.$implicit,n=r.index;u(2),V(e.file_name),u(2),V(Ut(5,6,e.file_fecha,"dd/MM/yyyy")),u(4),b("src",e.file_url,Ie)("alt",e.file_name),u(3),b("id","imgPrincipal"+n),T("ngModel",e.file_principal)}}function Ty(i,r){if(i&1){let e=z();s(0,"div",336),f("click",function(){g(e);let t=x();return _(t.closeImage())}),h(1,"img",337),a()}if(i&2){let e=x();u(),b("src",e.currentImageUrl,Ie)("alt",e.currentImageAlt)}}function Ay(i,r){if(i&1){let e=z();s(0,"tr",129)(1,"td"),c(2),a(),s(3,"td")(4,"div",103)(5,"button",339),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.onEditCategory(t))}),h(6,"i",340),a(),s(7,"button",341),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.openDeleteModal(t.id_category))}),h(8,"i",335),a()()()()}if(i&2){let e=r.$implicit;u(2),V(e.category)}}function Iy(i,r){if(i&1&&(s(0,"tbody"),D(1,Ay,9,1,"tr",338),a()),i&2){let e=x();u(),b("ngForOf",e.salonData.categoriesArray)}}function ky(i,r){i&1&&(s(0,"tbody")(1,"tr",129)(2,"td"),c(3,"No hay categor\xEDas disponibles."),a()()())}function Py(i,r){if(i&1){let e=z();s(0,"div",336),f("click",function(){g(e);let t=x();return _(t.closeImage())}),h(1,"img",337),a()}if(i&2){let e=x();u(),b("src",e.currentImageUrl,Ie)("alt",e.currentImageAlt)}}function Fy(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td"),c(8),a(),s(9,"td")(10,"button",342),f("click",function(){let t=g(e).$implicit,o=x();return _(o.openEditModal(t))}),h(11,"i",340),a(),s(12,"button",343),f("click",function(){let t=g(e).$implicit,o=x();return _(o.openDeleteServiceModal(t.id_salon_service_type))}),h(13,"i",344),a()()()}if(i&2){let e=r.$implicit;u(2),V(e.service_name),u(2),V(e.subservice_name),u(2),Y("",e.time," minutos"),u(2),Y("",e.price||"No definido"," \u20AC")}}function Oy(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),h(4,"img",345),a(),s(5,"td")(6,"button",346),f("click",function(){let t=g(e).$implicit,o=x();return _(o.setToUpdateBrand(t.name,t.imagePath,t.id_brand_salon))}),h(7,"i",340),a(),s(8,"button",347),f("click",function(){let t=g(e).$implicit,o=x();return _(o.setToDeleteBrand(t.id_brand))}),h(9,"i",335),a()()()}if(i&2){let e=r.$implicit;u(2),V(e.name),u(2),sn("alt",e.name),b("src",e.imagePath,Ie)}}function Ny(i,r){if(i&1&&(s(0,"option",323),c(1),a()),i&2){let e=r.$implicit;b("value",e.category),u(),Y(" ",e.category," ")}}function By(i,r){if(i&1){let e=z();s(0,"li",350),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectBrand(t))}),h(1,"i",351),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e.name," ")}}function Ry(i,r){if(i&1&&(s(0,"ul",348),D(1,By,3,1,"li",349),a()),i&2){let e=x();u(),b("ngForOf",e.brands)}}function Vy(i,r){if(i&1&&(s(0,"option",323),c(1),a()),i&2){let e=r.$implicit;b("value",e.category),u(),Y(" ",e.category," ")}}function Ly(i,r){if(i&1){let e=z();s(0,"li",350),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectUpdateBrand(t))}),h(1,"i",351),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e.name," ")}}function Uy(i,r){if(i&1&&(s(0,"ul",348),D(1,Ly,3,1,"li",349),a()),i&2){let e=x();u(),b("ngForOf",e.brands)}}function jy(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td")(6,"div",103)(7,"button",352),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editQuestion(t))}),h(8,"i",340),a(),s(9,"button",353),f("click",function(){let t=g(e).$implicit,o=x();return _(o.setToDeleteFaq(t.id_faq))}),h(10,"i",335),a()()()()}if(i&2){let e=r.$implicit;u(2),V(e.question),u(2),V(e.answer||"Sin contestar")}}function Hy(i,r){i&1&&(s(0,"th",183),c(1," Editar/Eliminar "),a())}function Wy(i,r){if(i&1&&h(0,"i",358),i&2){let e=r.$implicit;b("ngClass",e)}}function zy(i,r){if(i&1){let e=z();s(0,"td")(1,"button",359),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.openEditModalToReview(t))}),h(2,"i",340),a(),s(3,"button",360),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.setToDeleteReview(t.id_review))}),h(4,"i",335),a()()}}function Gy(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td")(8,"div",354),D(9,Wy,1,1,"i",355),a()(),s(10,"td")(11,"button",356),f("click",function(){let t=g(e).$implicit,o=x();return _(o.openResponseModalReview(t))}),h(12,"i",357),a()(),D(13,zy,5,0,"td",131),a()}if(i&2){let e=r.$implicit,n=x();u(2),V(e.observacion),u(2),V(e.respuesta||"Sin contestar"),u(2),V(e.name),u(3),b("ngForOf",e.stars),u(4),b("ngIf",n.userPermiso==="admin")}}function qy(i,r){if(i&1&&(s(0,"option",323),c(1),a()),i&2){let e=r.$implicit;b("value",e.category),u(),Y(" ",e.category," ")}}function $y(i,r){if(i&1&&(s(0,"option",323),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_service),u(),Y(" ",e.name," ")}}function Jy(i,r){if(i&1&&(s(0,"option",323),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_service_type),u(),Y(" ",e.name," ")}}function Qy(i,r){if(i&1&&(s(0,"option",361),c(1),a()),i&2){let e=r.$implicit;b("value",e.category),u(),Y(" ",e.category," ")}}function Ky(i,r){if(i&1&&(s(0,"option",362),c(1),a()),i&2){let e=r.$implicit;b("ngValue",e.category),u(),Y(" ",e.category," ")}}var qh=(()=>{class i{constructor(e,n,t,o,l,d){this.route=e,this.editHomeService=n,this.toastr=t,this.modalService=o,this.cdr=l,this.authService=d,this.getCategories=[],this.salonId=0,this.salonData={id_salon:"",id_city:"",id_province:"",plus_code:"",active:"",state:"",in_vacation:"",name:"",address:"",latitud:"",longitud:"",email:"",url:"",phone:"",map:"",iframe:"",image:"",about_us:"",score_old:"",hours_old:"",zip_code_old:"",overview_old:"",created_at:"",updated_at:"",deleted_at:"",categories:"",city_name:"",city_zip_code:"",sortedHours:[]},this.provinces=[],this.selectedImgUpdateBrand="",this.cities=[],this.additionalComments="",this.dias=[],this.getSalonServices=[],this.totalItems=0,this.isLoading=!1,this.currentPage=1,this.pageSize=10,this.selectedFile=null,this.images=[],this.ratings={service:[!1,!1,!1,!1,!1],quality:[!1,!1,!1,!1,!1],cleanliness:[!1,!1,!1,!1,!1],speed:[!1,!1,!1,!1,!1]},this.fileDescription="",this.fileGroup="",this.filePrincipal=!1,this.fileActive=!0,this.currentImageUrl="",this.currentImageAlt="",this.isImageOpen=!1,this.selectedBrandImage="",this.services=[],this.newServiceName="",this.updateServiceName="",this.newSubservices="",this.updateSubservices="",this.newServiceTime=0,this.updateServiceTime=0,this.newServicePrice="0.00",this.updateServicePrice="0.00",this.selectedService={},this.selectedSubservice={},this.selectedIdBrandSalon=0,this.selectedNewBrand="",this.selectedUpdateBrand="",this.totalPages=1,this.getSalonDataSelect=[],this.faqByIdSalon=[],this.editAnswerText="",this.editQuestionText="",this.reviews=[],this.editRating="",this.editReviewText="",this.responseReviewText="",this.averageRating=0,this.averageRatingStart=0,this.getSalonSubservices=["Seleccione una opci\xF3n"],this.selectedServiceId=null,this.selectedServiceName=null,this.selectedSubserviceName=null,this.idSalonServiceType=null,this.selectedCategory={},this.selectedUpdatedCategoryBrand="",this.selectedUpdateIdBrandCategory={},this.oldCategory="",this.userPermiso="",this.brands=[],this.responseText="",this.selectedBrandId="",this.selectedUpdateBrandIdName="",this.selectedSalonId="",this.userType=null,this.days=[{name:"Lunes",hours:[]},{name:"Martes",hours:[]},{name:"Mi\xE9rcoles",hours:[]},{name:"Jueves",hours:[]},{name:"Viernes",hours:[]},{name:"S\xE1bado",hours:[]},{name:"Domingo",hours:[]}]}ngOnInit(){this.loadData(),this.route.paramMap.subscribe(e=>{let n=e.get("id");this.salonId=n?+n:0,this.loadProvinces(),this.loadImages(),this.getServicesWithSubservices(),this.getFaqByIdSalon(),this.getReviewsById(),this.getCategoriesModal(),this.selectedCategory=""}),this.getUserPermiso(),this.getAllCategoriesBrands(),this.getBrandsBySalon(),this.getAllCategoriesServices(),this.authService.getUserType().subscribe(e=>{this.userType=e,console.log("Tipo de usuario obtenido:",this.userType)},e=>{console.error("Error al obtener el tipo de usuario:",e)})}getUserPermiso(){this.editHomeService.getUserPermiso().subscribe({next:e=>{this.userPermiso=e.permiso},error:e=>{console.error("Error al obtener el permiso del usuario:",e)}})}getSalonUrl(){return!this.salonData||!this.salonData.name?"#":`https://www.mispeluquerias.com/centro/${this.salonData.name.toLowerCase().replace(/ /g,"-").replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-")}/${this.salonData.id_salon}`}generateStars(e){return Array(5).fill(0).map((n,t)=>t<Math.floor(e)?"fas fa-star":t===Math.floor(e)&&e%1!==0?"fas fa-star-half-alt":"far fa-star").reverse()}openImage(e,n){this.currentImageUrl=e,this.currentImageAlt=n,this.isImageOpen=!0}closeImage(){this.isImageOpen=!1}loadProvinces(){this.editHomeService.getProvinces().subscribe(e=>{this.provinces=e.data,this.salonId&&this.getSalonData(this.salonId)},e=>{console.error("Error fetching provinces:",e)})}generateStarRatingArray(e){let t=Math.floor(e),o=e%1>=.5?1:0,l=5-t-o;return[...Array(t).fill(1),...Array(o).fill(.5),...Array(l).fill(0)]}loadData(){this.isLoading=!0,this.editHomeService.getSalonById(this.salonId).subscribe(e=>{this.salonData=e.data,this.isLoading=!1},e=>{this.isLoading=!1})}getSalonData(e){this.editHomeService.getSalonById(e).subscribe(n=>{if(this.salonData=n.data,this.averageRatingStart=this.salonData.average_rating||0,this.salonData.categories&&this.salonData.categories.trim()!=="")try{let t=`[${this.salonData.categories.replace(/\\/g,"")}]`,o=JSON.parse(t);o.length===1&&o[0].id_category===null?this.salonData.categoriesArray=[]:this.salonData.categoriesArray=o}catch(t){console.error("Error parsing categories:",t),this.salonData.categoriesArray=[]}else this.salonData.categoriesArray=[];if(this.salonData.id_province&&this.onProvinceChange(this.salonData.id_province,!0),this.salonData.hours_old)try{let t=this.salonData.hours_old.split("; ").map(o=>{let[l,d]=o.split(": ");return{day:l.trim(),hours:d?d.split(", ").map(m=>{let[v,p]=m.split("-");return{open:v.trim(),close:p.trim()}}):[]}});this.salonData.hours=t,this.days.forEach(o=>{let l=t.find(d=>d.day===o.name);o.hours=l?l.hours:[]})}catch(t){console.error("Error parsing hours:",t),this.salonData.hours=[]}},n=>{console.error("Error fetching salon data:",n)})}updateRatings(e,n){if(e[n])for(let t=0;t<=n;t++)e[t]=!0;else for(let t=n+1;t<e.length;t++)e[t]=!1}addHour(e){e.hours.length<2&&e.hours.push({open:"",close:""})}removeHour(e,n){e.hours.splice(n,1)}saveHours(){let n=this.days.map(t=>({day:t.name,hours:t.hours.filter(o=>o.open&&o.close)})).map(t=>`${t.day}: ${t.hours.map(o=>`${o.open}-${o.close}`).join(", ")}`).join("; ");this.editHomeService.updateSalonHours(this.salonId,n).subscribe(t=>{this.toastr.success("Horarios guardados correctamente"),console.log("Horas guardadas:",n)},t=>{this.toastr.error("Error al guardar los horarios"),console.error("Error al guardar los horarios:",t)})}updateSalon(){if(!this.salonData.id_city){this.toastr.warning("Por favor, seleccione una ciudad para actualizar los datos");return}if(!this.salonData.name){this.toastr.warning("Por favor, ingrese el nombre del sal\xF3n");return}if(!this.salonData.email){this.toastr.warning("Por favor, ingrese el correo electr\xF3nico del sal\xF3n");return}if(!this.salonData.address){this.toastr.warning("Por favor, ingrese la direcci\xF3n del sal\xF3n");return}if(!this.salonData.phone){this.toastr.warning("Por favor, ingrese el n\xFAmero de tel\xE9fono del sal\xF3n");return}if(!this.salonData.id_province){this.toastr.warning("Por favor, seleccione una provincia");return}if(!this.salonData.latitud){this.toastr.warning("Por favor, ingrese la latitud");return}if(!this.salonData.longitud){this.toastr.warning("Por favor, ingrese la longitud");return}this.editHomeService.updateSalon(this.salonData).subscribe(e=>{console.log("Salon updated successfully",e),this.toastr.success('<i class="las la-info-circle"> Cambios realizados con \xE9xito</i>')},e=>{console.error("Error updating salon",e),this.toastr.error('<i class="las la-info-circle"> No se realizaron los cambios</i>'),this.getSalonData(this.salonId)})}onProvinceChange(e,n=!1){this.isLoading=!0,n||(this.salonData.id_city="",this.salonData.city_name=""),this.editHomeService.getCitiesByProvince(e).subscribe({next:t=>{if(this.cities=t.data,n&&this.salonData.id_city){let o=this.cities.find(l=>l.id_city===this.salonData.id_city);o&&(this.salonData.city_name=o.city_name)}},error:t=>{console.error("Error al cargar las ciudades:",t)},complete:()=>{this.isLoading=!1}})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.salonData.city_name=n.city_name,this.salonData.id_city=n.id_city)}toggleManana(e){e.cerradoManana&&(e.mananaInicio="",e.mananaFin="")}toggleTarde(e){e.cerradoTarde&&(e.tardeInicio="",e.tardeFin="")}onFileSelected(e){this.selectedFile=e.target.files[0]}onUpload(){if(!this.selectedFile){this.toastr.error('<i class="las la-info-circle">Por favor, seleccione una imagen primero.</i>');return}let e=new FormData;e.append("image",this.selectedFile),e.append("file_name",this.selectedFile.name),e.append("file_description",this.fileDescription),e.append("file_group",this.fileGroup),e.append("file_principal",this.filePrincipal?"1":"0"),e.append("file_active",this.fileActive?"1":"0"),e.append("salon_id",this.salonId.toString()),this.editHomeService.uploadImage(e).subscribe(n=>{console.log("Image uploaded successfully",n),this.loadImages()},n=>console.error("Error uploading image",n))}loadImages(){this.editHomeService.getImages(this.salonId).subscribe(e=>{e.success?this.images=e.data:console.error("Error fetching images",e)},e=>{console.error("Error fetching images",e)})}setToDeleteImage(e){this.idImageToDelete=e}confirmDeleteImage(){this.editHomeService.deleteImage(this.idImageToDelete).subscribe(e=>{this.toastr.success("Imagen eliminada con \xE9xito"),this.loadImages()},e=>{this.toastr.error("Error al eliminar la imagen"),console.error("Error deleting image",e)})}uniqueCheckboxSelectImge(e){let n=this.images[e];n.file_principal&&this.images.forEach((t,o)=>{o!==e&&(t.file_principal=!1,this.updatePrincipalmage(t.file_id,!1))}),this.updatePrincipalmage(n.file_id,n.file_principal)}updatePrincipalmage(e,n){this.editHomeService.updatePrincipalImage(e,n).subscribe({next:t=>{},error:t=>{console.error("Failed to update image status",t)}})}getUniqueServices(e){this.editHomeService.getUniqueServices(e).subscribe(n=>{n.success?(this.getSalonDataSelect=n.data,this.newServiceName="",this.newSubservices=""):console.error("Error fetching services",n)},n=>{console.error("Error fetching services ",n)})}onServiceSelect(e){let n=e.target;this.selectedServiceId=+n.value;let t=this.getSalonDataSelect.find(o=>o.id_service===this.selectedServiceId);t&&(this.selectedServiceName=t.name),this.updateSubservices="",this.getSubservicesByService(this.selectedServiceId),console.log("ID del servicio seleccionado:",this.selectedServiceId),console.log("Nombre del servicio seleccionado:",this.selectedServiceName)}getSubservicesByService(e){this.editHomeService.getSubservicesByService(e).subscribe(n=>{n.success?(this.getSalonSubservices=n.data,console.log("Subservicios cargados:",this.getSalonSubservices)):console.error("Error al cargar los subservicios",n)},n=>{console.error("Error al obtener subservicios",n)})}addService(){if(!this.selectedServiceName){this.toastr.error("Por favor, selecciona un servicio v\xE1lido.");return}if(this.selectedSubservice===null||this.selectedSubservice===void 0||this.selectedSubservice===""){this.toastr.error("El Subservicio seleccionado es necesario para la actualizaci\xF3n.");return}if(this.newServiceTime===null||this.newServiceTime===void 0||this.newServiceTime<=0){this.toastr.error("El tiempo del servicio debe ser un valor v\xE1lido y mayor a cero.");return}if(this.newServicePrice===null||this.newServicePrice===void 0){this.toastr.error("El precio tiene que ser mayor o igual a 0");return}this.editHomeService.addService(this.salonId,this.selectedServiceId,this.newSubservices,this.newServiceTime,this.newServicePrice).subscribe(e=>{e.success?(this.toastr.success("Servicio agregado con \xE9xito"),this.getServicesWithSubservices()):this.toastr.error("Error al agregar el servicio")},e=>{console.error("Error adding service:",e),this.toastr.error("Error al agregar el servicio,compruebe si el servicio ya esta en su lista")})}getServicesWithSubservices(){this.editHomeService.getServicesWithSubservices(this.salonId).subscribe(e=>{e.data?(this.getSalonServices=e.data,this.getSalonServices.length===0&&console.warn("No hay servicios disponibles.")):(console.error("Formato de respuesta incorrecto",e),this.getSalonServices=[])},e=>{console.error("Error al obtener servicios con subservicios",e)})}changePage(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.getServicesWithSubservices())}getPagesArray(){return Array(this.totalPages).fill(0).map((e,n)=>n+1)}deleteServiceWithSubservice(e){confirm("\xBFEst\xE1s seguro de que quieres eliminar este servicio?")&&this.editHomeService.deleteServiceWithSubservice(e).subscribe(n=>{n.success?(this.getServicesWithSubservices(),this.toastr.success("Servicio eliminado con \xE9xito")):this.toastr.error("Error al eliminar el servicio")},n=>{console.error("Error deleting service:",n),this.toastr.error("Error al eliminar el servicio")})}updateQuestion(){let e={id_faq:this.faqToEdit.id_faq,answer:this.editAnswerText||""};this.editHomeService.updateFaq(e.id_faq,e.answer).subscribe(n=>{this.toastr.success("Pregunta respondida con \xE9xito"),this.getFaqByIdSalon()},n=>console.error("Error actualizando la pregunta",n))}getFaqByIdSalon(){this.editHomeService.getFaqByIdSalon(this.salonId,this.currentPage,this.pageSize).subscribe(e=>{e.success?(this.faqByIdSalon=e.data,this.totalItems=e.total,this.totalPages=Math.ceil(this.totalItems/this.pageSize)):console.error("Error fetching FAQs",e)},e=>{console.error("Error fetching FAQs",e)})}editQuestion(e){this.faqToEdit=e,this.editQuestionText=e.question,this.editAnswerText=e.answer}getReviewsById(){this.editHomeService.loadReview(this.salonId).subscribe(e=>{this.reviews=e.map(n=>(n.stars=this.generateStars(n.qualification),n))},e=>console.error("Error loading reviews",e))}updateReview(){let e=De(q({},this.reviewToEdit),{observacion:this.additionalComments,qualification:{service:this.countSelectedRatings(this.ratings.service),quality:this.countSelectedRatings(this.ratings.quality),cleanliness:this.countSelectedRatings(this.ratings.cleanliness),speed:this.countSelectedRatings(this.ratings.speed)}});this.editHomeService.updateReview(e).subscribe({next:()=>{this.toastr.success("Rese\xF1a actualizada con \xE9xito"),this.getReviewsById()},error:n=>{this.toastr.error("No se pudo actualizar la rese\xF1a.")}})}countSelectedRatings(e){return e.filter(Boolean).length}openEditModal(e){console.log("Servicio recibido:",e),this.selectedService=q({},e),this.selectedServiceName=this.selectedService.service_name??"",this.selectedSubserviceName=this.selectedService.subservice_name??"",this.idSalonServiceType=this.selectedService.id_salon_service_type??0,this.updateServiceTime=this.selectedService.time??0,this.updateServicePrice=this.selectedService.price?this.selectedService.price.toString():"0.00"}onSubserviceSelect(e){let n=e.target;this.selectedSubservice=+n.value,console.log("Subservicio seleccionado:",this.selectedSubservice)}updateServiceWithSubservice(){let e={idSalonServiceType:this.idSalonServiceType,price:this.updateServicePrice,time:this.updateServiceTime,active:1};console.log("Datos enviados:",e),this.editHomeService.updateServiceWithSubservice(e).subscribe(n=>{n.success?(this.toastr.success("Servicio actualizado con \xE9xito"),this.getServicesWithSubservices(),this.idSalonServiceType=0,this.updateServiceTime=0,this.updateServicePrice="0.00"):this.toastr.error("Error al actualizar el servicio")},n=>{console.error("Error updating service:",n),this.toastr.error("Error al actualizar el servicio, compruebe que el subervicio no este en su lista.")})}openEditModalToReview(e){this.reviewToEdit=e;let n=e.qualification;this.ratings={service:this.getCheckboxState(e.servicio),quality:this.getCheckboxState(e.calidad_precio),cleanliness:this.getCheckboxState(e.limpieza),speed:this.getCheckboxState(e.puntualidad)},this.additionalComments=e.observacion,this.responseText=e.respuesta}updateReviewModal(){let e=De(q({},this.reviewToEdit),{observacion:this.additionalComments,respuesta:this.responseText,qualification:{service:this.countSelectedRatings(this.ratings.service),quality:this.countSelectedRatings(this.ratings.quality),cleanliness:this.countSelectedRatings(this.ratings.cleanliness),speed:this.countSelectedRatings(this.ratings.speed)}});this.editHomeService.updateReview(e).subscribe({next:()=>{this.toastr.success("Rese\xF1a actualizada con \xE9xito"),this.getReviewsById()},error:n=>{this.toastr.error("No se pudo actualizar la rese\xF1a.")}})}openResponseModalReview(e){this.reviewToEdit=e,this.editReviewText=e.observacion,this.responseText=e.respuesta}getCheckboxState(e){return[1,2,3,4,5].map(n=>n<=e)}checkLengthTime(e){let n=e.target;n.value.length>3&&(n.value=n.value.slice(0,3))}resetPrice(e){let n=e.target;n.value||(n.value="0.00")}checkLengthPrice(e){let n=e.target,t=n.value;if(!/^\d{0,4}(\.\d{0,2})?$/.test(t)){t=t.replace(/[^0-9.]/g,"").substring(0,7);let l=t.split(".");l[0].length>4&&(l[0]=l[0].substring(0,4)),l[1]&&l[1].length>2&&(l[1]=l[1].substring(0,2)),t=l.join(".")}n.value=t}confirmResponseReview(){let e={id_review:this.reviewToEdit.id_review,respuesta:this.responseText||""};this.editHomeService.responseReview(e).subscribe(n=>{console.log("Rese\xF1a actualizada:",n),this.toastr.success("Rese\xF1a constestada con \xE9xito"),this.getReviewsById()},n=>{this.toastr.error("Error al actualizar la respuesta de la rese\xF1a"),console.error("Error actualizando la rese\xF1a",n)})}addCategorySalon(){if(!this.selectedCategory){this.toastr.warning("Por favor, selecciona una categor\xEDa.");return}this.editHomeService.addCategorySalon(this.salonId,this.selectedCategory).subscribe(e=>{this.toastr.success("Categor\xEDa a\xF1adida correctamente."),this.getSalonData(this.salonId)},e=>{this.toastr.error("Error al a\xF1adir la categor\xEDa. Por favor, compruebe si la categor\xEDa ya existe en la lista."),console.error("Error:",e)}),this.selectedCategory=""}getCategoriesModal(){this.editHomeService.getCategories().subscribe(e=>{e.data&&e.data.length>0?this.getCategories=e.data:console.error("No se encontraron categor\xEDas",e)},e=>{console.error("Error fetching categories",e)})}onEditCategory(e){this.selectedCategory=q({},e),console.log("Categor\xEDa seleccionada para editar:",this.selectedCategory.category)}onDeleteCategory(e){this.selectedCategory=q({},e)}updateCategory(){if(this.selectedCategory&&this.selectedCategory.id_category){let e={idSalon:this.salonId,id_category:this.selectedCategory.id_category,categories:this.selectedCategory.category};this.editHomeService.updateCategorySalon(e).subscribe(n=>{console.log("Categor\xEDa actualizada:",this.selectedCategory),this.toastr.success("Categor\xEDa actualizada correctamente."),this.getSalonData(this.salonId)},n=>{console.error("Error al actualizar la categor\xEDa:",n),this.toastr.error("Error al actualizar la categor\xEDa. Por favor, compruebe si la categor\xEDa ya existe en la lista.")})}else this.toastr.warning("Por favor, selecciona una categor\xEDa para actualizar.");console.log("Id salon",this.salonId),console.log("id category",this.selectedCategory.id_category),console.log("category name",this.selectedCategory.category)}openDeleteModal(e){this.idCategoryToDelete=e}openDeleteServiceModal(e){this.idServiceToDelete=e}confirmDeleteCategory(){this.editHomeService.deleteCategorySalon(this.idCategoryToDelete).subscribe(e=>{this.toastr.success("Categor\xEDa eliminada exitosamente","\xC9xito"),this.getSalonData(this.salonId)},e=>{this.toastr.error("Error al eliminar la categor\xEDa","Error")})}confirmDeleteService(){this.editHomeService.deleteServiceWithSubservice(this.idServiceToDelete).subscribe(e=>{this.toastr.success("Servicio eliminado exitosamente","\xC9xito"),this.getServicesWithSubservices(),this.cdr.detectChanges()},e=>{this.toastr.error("Error al eliminar el servicio","Error")})}setToDeleteFaq(e){this.idFaqToDelete=e}confirmDeleteFaq(){this.editHomeService.deleteFaq(this.idFaqToDelete).subscribe(e=>{this.toastr.success("Pregunta eliminada exitosamente","\xC9xito"),this.getFaqByIdSalon()},e=>{this.toastr.error("Error al eliminar la pregunta","Error")})}setToDeleteReview(e){this.idReviewToDelete=e}confirmDeleteReview(){console.log("Id del review a eliminar",this.idReviewToDelete),this.idReviewToDelete?this.editHomeService.deleteReview(this.idReviewToDelete).subscribe(e=>{this.toastr.success("Rese\xF1a eliminada con \xE9xito"),this.getReviewsById()},e=>console.error("Error eliminando la Rese\xF1a",e)):console.error("No se encontr\xF3 el ID de la rese\xF1a.")}getAllCategoriesBrands(){this.editHomeService.getAllCategoriesBrands().subscribe({next:e=>{this.brands_categories=e},error:e=>{console.error("Error al obtener las marcas:",e),this.toastr.error("Hubo un error al cargar las marcas","Error")}})}getAllCategoriesServices(){this.editHomeService.getAllCategoriesServices().subscribe({next:e=>{this.service_categories=e},error:e=>{console.error("Error al obtener las categorias de servicios",e),this.toastr.error("Hubo un error al cargar las categorias de servicios","Error")}})}getBrandsBySalon(){this.editHomeService.getBrandByIdSalon(this.salonId).subscribe({next:e=>{this.brandsBySalon=e},error:e=>{console.error("Error al obtener las marcas:",e)}})}setToDeleteBrand(e){this.setDeleteBrand=e}confirmDeleteBrand(){this.setDeleteBrand?this.editHomeService.deleteBrandById(this.setDeleteBrand).subscribe({next:()=>{this.toastr.success("Marca eliminada de su sal\xF3n con \xE9xito"),console.log("Marca eliminada con \xE9xito"),this.getBrandsBySalon()},error:e=>{this.toastr.error("Error al eliminar la marca"),console.error("Error al eliminar la marca:",e)}}):console.warn("No se ha seleccionado ninguna marca para eliminar.")}selectBrand(e){this.term=e.name,this.selectedBrandImage=e.imagePath,this.selectedNewBrand=e.id_brand,this.brands=[]}searchBrands(e){if(e.length<2){this.brands=[];return}this.selectedCategory?this.editHomeService.getBrandByCategory(e,this.selectedCategory).subscribe(n=>{this.brands=n,console.log(this.brands)},n=>{console.error("Error al buscar las marcas:",n)}):(this.toastr.error("Por favor selecciona una categor\xEDa antes de buscar."),console.error("Por favor selecciona una categor\xEDa antes de buscar."))}addBrandSalon(){if(!this.salonId||!this.selectedNewBrand){this.toastr.warning("Debe seleccionar una categor\xEDa y una marca","Advertencia");return}this.editHomeService.addBrandToSalon(this.salonId,this.selectedNewBrand).subscribe({next:e=>{this.toastr.success("Marca a\xF1adida al sal\xF3n con \xE9xito","\xC9xito"),console.log("Respuesta del servidor:",e),this.getBrandsBySalon(),this.selectedCategory="",this.term="",this.selectedNewBrand="",this.brands=[],this.selectedBrandImage=""},error:e=>{console.error("Error al a\xF1adir la marca al sal\xF3n:",e),this.toastr.error("Hubo un error al a\xF1adir la marca al sal\xF3n. Por favor, compruebe que la marca exista en su lista","Error")}})}searchBrandsForUpdate(e){if(e.length<2){this.brands=[];return}this.selectedCategory?this.editHomeService.getBrandByCategory(e,this.selectedCategory).subscribe(n=>{this.brands=n},n=>{console.error("Error al buscar las marcas:",n)}):console.error("Por favor selecciona una categor\xEDa antes de buscar.")}searchUpdateBrands(e){if(e.length<2){this.brands=[];return}this.selectedUpdatedCategoryBrand?this.editHomeService.getBrandByCategory(e,this.selectedUpdatedCategoryBrand).subscribe(n=>{this.brands=n},n=>{console.error("Error al buscar las marcas:",n)}):console.error("Por favor selecciona una categor\xEDa antes de buscar.")}setToUpdateBrand(e,n,t){this.selectedUpdateBrand=e,this.selectedImgUpdateBrand=n,this.selectedIdBrandSalon=t,console.log("ID de la marca-sal\xF3n a actualizar:",this.selectedIdBrandSalon)}selectUpdateBrand(e){this.termUpdate=e.name,this.selectedBrandId=e.id_brand,this.selectedSalonId=this.salonId,this.brands=[]}updateBrandSalon(){if(!this.selectedIdBrandSalon||!this.selectedBrandId){this.toastr.warning("Debe seleccionar una nueva marca para actualizar","Advertencia");return}this.editHomeService.UpdateBrandsalon(this.selectedIdBrandSalon,this.selectedBrandId,this.selectedSalonId).subscribe({next:e=>{this.toastr.success("La marca del sal\xF3n ha sido actualizada con \xE9xito"),this.selectedIdBrandSalon="",this.selectedBrandId="",this.termUpdate="",this.selectedSalonId="",this.selectedUpdatedCategoryBrand="",this.getBrandsBySalon()},error:e=>{console.error("Error al actualizar la marca del sal\xF3n:",e),this.toastr.error("Error al actualizar la marca seleccionada")}})}static{this.\u0275fac=function(n){return new(n||i)(B(dt),B(Uh),B(xe),B(Gh),B(ai),B(Ui))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-home"]],decls:807,vars:96,consts:[["name","ngModel"],["email","ngModel"],["address","ngModel"],["phone","ngModel"],["id_province","ngModel"],["id_city","ngModel"],["latitud","ngModel"],["longitud","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],["class","loading-overlay",4,"ngIf"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],["id","myTab","role","tablist",1,"nav","nav-tabs","mb-4"],["role","presentation",1,"nav-item"],["id","negocio-tab","data-bs-toggle","tab","data-bs-target","#negocio","type","button","role","tab","aria-controls","negocio","aria-selected","true",1,"nav-link","active"],[1,"fa-solid","fa-building","me-2"],["id","horario-tab","data-bs-toggle","tab","data-bs-target","#horario","type","button","role","tab","aria-controls","horario","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-clock","me-2"],["id","imagenes-tab","data-bs-toggle","tab","data-bs-target","#imagenes","type","button","role","tab","aria-controls","imagenes","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-image","me-2"],["id","categorias-tab","data-bs-toggle","tab","data-bs-target","#categorias","type","button","role","tab","aria-controls","categorias","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-tag","me-2"],["id","servicios-tab","data-bs-toggle","tab","data-bs-target","#servicios","type","button","role","tab","aria-controls","servicios","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-list","me-2"],["id","permisos-tab","data-bs-toggle","tab","data-bs-target","#marcas","type","button","role","tab","aria-controls","marcas","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-copyright"],["id","preguntas-tab","data-bs-toggle","tab","data-bs-target","#preguntas","type","button","role","tab","aria-controls","preguntas","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-circle-question","me-2"],["id","resenas-tab","data-bs-toggle","tab","data-bs-target","#resenas","type","button","role","tab","aria-controls","resenas","aria-selected","false",1,"nav-link"],[1,"fa-solid","fa-star","me-2"],["id","myTabContent",1,"tab-content","bg-light"],["id","negocio","role","tabpanel","aria-labelledby","negocio-tab",1,"tab-pane","fade","show","active"],[1,"px-3",2,"padding-bottom","50px"],[1,"row","mb-3","align-items-center"],[1,"col-md-12","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],["class","me-3 mt-3",4,"ngIf"],[1,"me-3","d-flex","align-items-center","mt-5"],["for","active",1,"form-check-label","me-2"],[1,"form-check","form-switch"],["type","checkbox","id","active","name","active",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"d-flex","align-items-center","mt-5"],["for","in_vacation",1,"form-check-label","me-2"],["type","checkbox","id","in_vacation","name","in_vacation",1,"form-check-input",3,"ngModelChange","ngModel"],["target","_blank",1,"text-dark","me-3",3,"href"],[1,"fa-solid","fa-globe"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],[1,"fa-regular","fa-building"],["type","text","id","name","name","name","maxlength","250","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","email",1,"form-label"],["aria-hidden","true",1,"fa","fa-envelope"],["type","email","id","email","maxlength","100","name","email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],[1,"fa-regular","fa-address-book"],["type","text","id","address","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],[1,"fa-solid","fa-phone"],["type","tel","id","phone","name","phone","maxlength","9","required","","pattern","^\\d{9}$",1,"form-control",3,"ngModelChange","ngModel"],["for","provincia",1,"form-label"],[1,"fa-solid","fa-city"],["id","provincia","name","id_province","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","ciudad",1,"form-label"],[1,"fa-solid","fa-building-user"],["id","ciudad","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["for","latitud",1,"form-label"],[1,"fa-solid","fa-compass"],["type","text","id","latitud","name","latitud","required","","pattern","^-?\\d+(\\.\\d+)?$",1,"form-control",3,"ngModelChange","ngModel"],["for","longitud",1,"form-label"],[1,"fa-regular","fa-compass"],["type","text","id","longitud","name","longitud","required","","pattern","^-?\\d+(\\.\\d+)?$",1,"form-control",3,"ngModelChange","ngModel"],["for","googlemaps",1,"form-label"],[1,"fa-regular","fa-map"],["type","text","maxlength","1000","id","map","placeholder","No olvide el prefijo https://","name","map",1,"form-control",3,"ngModelChange","ngModel"],["for","urlnegocio",1,"form-label"],[1,"fa-solid","fa-link"],["type","text","id","url","name","url","maxlength","1000","placeholder","No olvide el prefijo https://","value","",1,"form-control",3,"ngModelChange","ngModel"],["for","facebook_url",1,"form-label"],[1,"fa-brands","fa-square-facebook"],["type","text","id","facebook_url","name","facebook_url","maxlength","1000","placeholder","No olvide el prefijo https://",1,"form-control",3,"ngModelChange","ngModel"],["for","instagram_url",1,"form-label"],[1,"fa-brands","fa-instagram"],["type","text","id","instagram_url","name","instagram_url","placeholder","No olvide el prefijo https://","maxlength","1000",1,"form-control",3,"ngModelChange","ngModel"],["for","tiktok_url",1,"form-label"],[1,"fa-brands","fa-tiktok"],["type","text","id","tiktok_url","placeholder","No olvide el prefijo https://","name","tiktok_url","maxlength","1000",1,"form-control",3,"ngModelChange","ngModel"],["for","youtube_url",1,"form-label"],[1,"fa-brands","fa-youtube"],["type","text","id","youtube_url","placeholder","No olvide el prefijo https://","name","youtube_url","maxlength","1000",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],["for","sobrenosotros",1,"form-label"],[1,"fa-solid","fa-user"],["id","about_us","name","about_us","rows","3","placeholder","Establecezca la descripci\xF3n de su negocio....",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2",3,"click"],["type","button","routerLink","/home",1,"btn","btn-secondary"],["id","horario","role","tabpanel","aria-labelledby","horario-tab",1,"tab-pane","fade"],[1,"d-flex","justify-content-center"],[1,"w-50"],[1,"table-responsive"],[1,"table"],[1,"thead-dark"],[1,"text-start"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger","mt-3",3,"click"],["id","imagenes","role","tabpanel","aria-labelledby","imagenes-tab",1,"tab-pane","fade"],[1,"mb-3","col-md-4"],["for","imagen",1,"form-label"],[1,"input-group"],["type","file","id","imagen",1,"form-control",3,"change"],["type","button",1,"btn","btn-danger",3,"click"],[1,"card","mb-4"],[1,"card-body"],[1,"table","table-hover","table-light"],["class","fullsize",3,"click",4,"ngIf"],["id","categorias","role","tabpanel","aria-labelledby","categorias-tab",1,"tab-pane","fade"],[1,"card","mb-4","mt-3"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["data-bs-toggle","modal","data-bs-target","#newCategoryModal",1,"btn","btn-danger","ms-auto"],[1,"d-flex","align-items-center","justify-content-center"],[1,"table-responsive","w-100"],[1,"text-center"],["colspan","2",1,"col-1","text-center"],[4,"ngIf"],["id","servicios","role","tabpanel","aria-labelledby","servicios-tab",1,"tab-pane","fade"],[1,"col-md-8"],["type","text","placeholder","Buscar",1,"form-control"],[1,"col-md-4","d-flex","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#modalNuevoServicio",1,"btn","btn-danger"],[1,"card-body","d-flex","align-items-center","justify-content-center"],[1,"table-responsive","w-100","text-center"],["colspan","2",1,"col-1"],["id","marcas","role","tabpanel","aria-labelledby","marcas-tab",1,"tab-pane","fade"],[1,"col-md-2"],["type","text","placeholder","Buscar Marca",1,"form-control"],[1,"col-md-4","ms-auto","d-flex","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#modalNuevaMarca",1,"btn","btn-danger","ms-auto"],[1,"card","mb-4","w-100"],["id","modalNuevaMarca","tabindex","-1","aria-labelledby","modalNuevaMarcaLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","modalNuevaMarcaLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["alt","Imagen de la marca","width","120",1,"img-fluid",3,"src"],[1,"mb-3"],["for","nameCategory",1,"form-label"],["id","selectedCategory","name","selectedCategory","required","",1,"form-select",3,"ngModelChange","ngModel"],[1,"mb-3","position-relative"],["for","newBrand",1,"form-label"],["type","text","id","newBrand","name","term","required","","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","modalEditMarca","tabindex","-1","aria-labelledby","modalEditMarcaLabel","aria-hidden","true",1,"modal","fade"],["id","modalEditMarcaLabel",1,"modal-title"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"row","mt-2"],["alt","Imagen de la marca",2,"max-width","220px !important","margin","0 auto !important",3,"src"],["for","selectedUpdateBrand"],["id","selectedUpdateBrand",1,"mt-2",2,"width","auto"],["id","selectedUpdatedCategoryBrand","name","selectedUpdatedCategoryBrand","required","",1,"form-select",3,"ngModelChange","ngModel"],["id","deleteMarcaModal","tabindex","-1","aria-labelledby","deleteMarcaModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteMarcaModalLabel",1,"modal-title"],["id","permisos","role","tabpanel","aria-labelledby","permisos-tab",1,"tab-pane","fade"],[1,"btn","btn-danger"],["type","checkbox"],[1,"form-select"],["selected",""],["value","trabajador"],["value","administrador"],["id","preguntas","role","tabpanel","aria-labelledby","preguntas-tab",1,"tab-pane","fade"],[1,"col-1"],["id","resenas","role","tabpanel","aria-labelledby","resenas-tab",1,"tab-pane","fade"],[1,"text-center","my-4"],[1,"h5"],["class","col-1",4,"ngIf"],["id","modalNuevoServicio","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],["id","exampleModalLabel",1,"modal-title"],[1,"text-muted","mb-4"],[1,"mb-3","col-md-12","d-flex","flex-column","align-items-center"],["for","nameCategory",1,"form-label","text-center","fw-bold"],["id","selectedCategory","name","selectedCategory","required","",1,"form-select",2,"max-width","300px",3,"ngModelChange","change","ngModel"],["for","serviceSelect",1,"form-label","fw-bold"],["id","serviceSelect","aria-label","Selecciona una opci\xF3n","name","newServiceName",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","selected",""],["for","timeInput",1,"form-label","fw-bold"],["type","number","id","timeInput","placeholder","10","name","newServiceTime",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"row"],[1,"col-md-6","mb-3","row"],["for","subserviceInput",1,"form-label","fw-bold"],["id","subServiceSelect","aria-label","Selecciona una opci\xF3n","name","newSubServiceName",1,"form-select","ms-2",3,"ngModelChange","ngModel"],[1,"col-md-6","ms-4"],["type","text","id","newServicePriceInput","placeholder","Introduzca los decimales con punto (.)","name","newServicePrice",1,"form-control",3,"ngModelChange","blur","input","ngModel"],["type","button",1,"btn","btn-danger","me-2",3,"click"],["id","modalEditService","tabindex","-1","aria-labelledby","modalEditService","aria-hidden","true",1,"modal","fade"],["id","modalEditService",1,"modal-title"],["for","serviceName",1,"form-label","fw-bold"],["type","text","id","serviceName","readonly","","disabled","",1,"form-control",3,"value"],[1,"col-md-6","mb-3"],["for","subserviceName",1,"form-label","fw-bold"],["type","text","id","subserviceName","readonly","","disabled","",1,"form-control",3,"value"],["type","text","id","priceInput","placeholder","10","name","newServicePrice",1,"form-control",3,"ngModelChange","blur","input","ngModel"],["type","button  editReviewText: string = '';","data-bs-dismiss","modal",1,"btn","btn-danger","me-2",3,"click"],["id","editQuestionModal","tabindex","-1","aria-labelledby","editQuestionModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content","shadow-lg"],[1,"modal-header","text-white","bg-dark"],["id","editQuestionModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white"],[3,"ngSubmit"],["for","editQuestionText",1,"form-label","fw-bold"],["id","editQuestionText","rows","2","name","editQuestionText","readonly","",1,"form-control","border-0","bg-light",3,"ngModelChange","ngModel"],["for","editAnswerText",1,"form-label","fw-bold"],["id","editAnswerText","rows","4","name","editAnswerText","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-danger","me-2"],["id","responseReviewModal","tabindex","-1","aria-labelledby","responseReviewModalLabel","aria-hidden","true",1,"modal","fade"],["id","responseReviewModalLabel",1,"modal-title"],["for","userReviewText",1,"form-label"],["id","editReviewText","rows","4","name","userReviewText","readonly","",1,"form-control","border-0","bg-light",3,"ngModelChange","ngModel"],[1,"mb-3","d-flex","flex-column"],["for","responseReviewText",1,"form-label"],["id","responseReview","rows","4","name","responseReview",1,"form-control",3,"ngModelChange","ngModel"],["id","newCategoryModal","tabindex","-1","aria-labelledby","newCategoryLabel","aria-hidden","true",1,"modal","fade"],["id","newCategoryLabel",1,"modal-title"],[1,"row","mt-3"],["id","getCategories","aria-label","Selecciona una opci\xF3n",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["selected","",3,"value",4,"ngFor","ngForOf"],["type","button","data-bs-dismiss","modal","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","editCategoryModal","tabindex","-1","aria-labelledby","editCategoryLabel","aria-hidden","true",1,"modal","fade"],["id","editCategoryLabel",1,"modal-title"],["for","editCategorySelect",1,"form-label","mt-3"],["id","editCategorySelect","name","editCategorySelect",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","deleteCategoryModal","tabindex","-1","aria-labelledby","deleteCategoryModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteCategoryModalLabel",1,"modal-title"],["id","deleteServiceModal","tabindex","-1","aria-labelledby","deleteServiceModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteServiceModalLabel",1,"modal-title"],["id","deleteFaqModal","tabindex","-1","aria-labelledby","deleteFaqModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-header"],["id","deleteFaqModalLabel",1,"modal-title"],["id","deleteReviewModal","tabindex","-1","aria-labelledby","deleteReviewModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteReviewModalLabel",1,"modal-title"],["id","modificarValoracionesModal","tabindex","-1","aria-labelledby","modificarValoracionesModalLabel","aria-hidden","true",1,"modal","fade"],["id","modifcarValoraciones",1,"modal-title"],[1,"text-center","mb-4","mt-4"],["src","../../../../assets/img/sello.jpg","width","150","alt","logo-mis-peluquerias"],[1,"rating-input","d-flex","align-items-center","mb-3","mt-3"],[1,"me-3"],[1,"circle-input-group"],["type","checkbox","id","service1",3,"ngModelChange","change","ngModel"],["for","service1",1,"circle-label"],["type","checkbox","id","service2",3,"ngModelChange","change","ngModel"],["for","service2",1,"circle-label"],["type","checkbox","id","service3",3,"ngModelChange","change","ngModel"],["for","service3",1,"circle-label"],["type","checkbox","id","service4",3,"ngModelChange","change","ngModel"],["for","service4",1,"circle-label"],["type","checkbox","id","service5",3,"ngModelChange","change","ngModel"],["for","service5",1,"circle-label"],[1,"rating-input","d-flex","align-items-center","mb-3"],["type","checkbox","id","quality1",3,"ngModelChange","change","ngModel"],["for","quality1",1,"circle-label"],["type","checkbox","id","quality2",3,"ngModelChange","change","ngModel"],["for","quality2",1,"circle-label"],["type","checkbox","id","quality3",3,"ngModelChange","change","ngModel"],["for","quality3",1,"circle-label"],["type","checkbox","id","quality4",3,"ngModelChange","change","ngModel"],["for","quality4",1,"circle-label"],["type","checkbox","id","quality5",3,"ngModelChange","change","ngModel"],["for","quality5",1,"circle-label"],["type","checkbox","id","cleanliness1",3,"ngModelChange","change","ngModel"],["for","cleanliness1",1,"circle-label"],["type","checkbox","id","cleanliness2",3,"ngModelChange","change","ngModel"],["for","cleanliness2",1,"circle-label"],["type","checkbox","id","cleanliness3",3,"ngModelChange","change","ngModel"],["for","cleanliness3",1,"circle-label"],["type","checkbox","id","cleanliness4",3,"ngModelChange","change","ngModel"],["for","cleanliness4",1,"circle-label"],["type","checkbox","id","cleanliness5",3,"ngModelChange","change","ngModel"],["for","cleanliness5",1,"circle-label"],["type","checkbox","id","speed1",3,"ngModelChange","change","ngModel"],["for","speed1",1,"circle-label"],["type","checkbox","id","speed2",3,"ngModelChange","change","ngModel"],["for","speed2",1,"circle-label"],["type","checkbox","id","speed3",3,"ngModelChange","change","ngModel"],["for","speed3",1,"circle-label"],["type","checkbox","id","speed4",3,"ngModelChange","change","ngModel"],["for","speed4",1,"circle-label"],["type","checkbox","id","speed5",3,"ngModelChange","change","ngModel"],["for","speed5",1,"circle-label"],[1,"form-group","mt-4","mb-3"],["for","additionalComments",1,"form-label","ms-3"],["maxlength","300","id","additionalComments","rows","3","placeholder","Escribe tus comentarios aqu\xED...",1,"form-control","rounded-3","shadow-sm","p-2","mx-auto",2,"resize","none","max-width","95%",3,"ngModelChange","ngModel"],["for","additionalComments",1,"form-label","ms-3","mt-3"],["id","deleteImgSalonModal","tabindex","-1","aria-labelledby","deleteImgSalonModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteImgSalonModalLabel",1,"modal-title"],[1,"loading-overlay"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"me-3","mt-3"],["for","estado",1,"form-label"],[1,"fa-solid","fa-check"],["id","state","name","state",1,"form-select",3,"ngModelChange","ngModel"],["value","Reclamado"],["value","Validado"],["value","No reclamado"],[1,"text-danger"],[3,"value"],["class","d-flex mb-2 align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click","disabled"],[1,"d-flex","mb-2","align-items-center"],["type","time","placeholder","Abre",1,"form-control","me-2",2,"max-width","120px",3,"ngModelChange","ngModel"],["type","time","placeholder","Cierra",1,"form-control",2,"max-width","120px",3,"ngModelChange","ngModel"],[1,"btn","btn-danger","ms-2",3,"click"],[1,"image-container"],[3,"click","src","alt"],[1,"form-check","form-switch","me-3"],["type","checkbox","name","imgPrincipal",1,"form-check-input",3,"change","ngModelChange","id","ngModel"],["data-bs-toggle","modal","data-bs-target","#deleteImgSalonModal",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[1,"fullsize",3,"click"],[3,"src","alt"],["class","text-center",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#editCategoryModal",1,"btn","btn-dark","me-2",3,"click"],[1,"fas","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteCategoryModal",1,"btn","btn-danger",3,"click"],["data-bs-toggle","modal","data-bs-target","#modalEditService",1,"btn","btn-dark",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteServiceModal",1,"btn","btn-danger","ms-2",3,"click"],[1,"fas","fa-trash-alt"],["width","100",3,"src","alt"],["data-bs-toggle","modal","data-bs-target","#modalEditMarca",1,"btn","btn-dark",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteMarcaModal",1,"btn","btn-danger","ms-2",3,"click"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-tag"],["data-bs-toggle","modal","data-bs-target","#editQuestionModal",1,"btn","btn-dark","me-3",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteFaqModal",1,"btn","btn-danger",3,"click"],[1,"star-rating"],["style","color: #b91622; font-size: 1rem","class","fa",3,"ngClass",4,"ngFor","ngForOf"],["data-bs-toggle","modal","data-bs-target","#responseReviewModal",1,"btn","btn-dark","me-3",3,"click"],[1,"fa-solid","fa-reply"],[1,"fa",2,"color","#b91622","font-size","1rem",3,"ngClass"],["data-bs-toggle","modal","data-bs-target","#modificarValoracionesModal",1,"btn","btn-dark","me-3",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteReviewModal",1,"btn","btn-danger",3,"click"],["selected","",3,"value"],[3,"ngValue"]],template:function(n,t){if(n&1){let o=z();h(0,"app-header"),s(1,"div",8),h(2,"app-aside"),s(3,"div",9)(4,"main"),D(5,hy,6,0,"div",10),s(6,"div",11)(7,"h1",12),c(8,"Panel de control"),a(),s(9,"ol",13)(10,"li",14),c(11," Administraci\xF3n / "),s(12,"b"),c(13,"Negocios / "),a(),s(14,"b"),c(15),a()()(),s(16,"ul",15)(17,"li",16)(18,"button",17),h(19,"i",18),c(20,"Negocio "),a()(),s(21,"li",16)(22,"button",19),h(23,"i",20),c(24,"Horario "),a()(),s(25,"li",16)(26,"button",21),h(27,"i",22),c(28,"Im\xE1genes "),a()(),s(29,"li",16)(30,"button",23),h(31,"i",24),c(32,"Categorias "),a()(),s(33,"li",16)(34,"button",25),h(35,"i",26),c(36,"Servicios "),a()(),s(37,"li",16)(38,"button",27),h(39,"i",28),c(40," Marcas "),a()(),s(41,"li",16)(42,"button",29),h(43,"i",30),c(44,"Preguntas "),a()(),s(45,"li",16)(46,"button",31),h(47,"i",32),c(48,"Rese\xF1as "),a()()(),s(49,"div",33)(50,"div",34)(51,"form",35)(52,"div",36)(53,"div",37)(54,"div",38),D(55,py,11,1,"div",39),s(56,"div",40)(57,"label",41),c(58,"Activo"),a(),s(59,"div",42)(60,"input",43),I("ngModelChange",function(d){return g(o),A(t.salonData.active,d)||(t.salonData.active=d),_(d)}),a()()(),s(61,"div",44)(62,"label",45),c(63,"Cerrado por vacaciones"),a(),s(64,"div",42)(65,"input",46),I("ngModelChange",function(d){return g(o),A(t.salonData.in_vacation,d)||(t.salonData.in_vacation=d),_(d)}),a()()()(),s(66,"a",47),h(67,"i",48),c(68," Ir al sitio "),a()()(),s(69,"div",49)(70,"div",50)(71,"label",51),h(72,"i",52),c(73," Nombre"),a(),s(74,"input",53,0),I("ngModelChange",function(d){return g(o),A(t.salonData.name,d)||(t.salonData.name=d),_(d)}),a(),D(76,fy,2,0,"div",54),a(),s(77,"div",50)(78,"label",55),h(79,"i",56),c(80," E-mail"),a(),s(81,"input",57,1),I("ngModelChange",function(d){return g(o),A(t.salonData.email,d)||(t.salonData.email=d),_(d)}),a(),D(83,gy,2,0,"div",54),a()(),s(84,"div",49)(85,"div",50)(86,"label",58),h(87,"i",59),c(88," Direcci\xF3n"),a(),s(89,"input",60,2),I("ngModelChange",function(d){return g(o),A(t.salonData.address,d)||(t.salonData.address=d),_(d)}),a(),D(91,_y,2,0,"div",54),a(),s(92,"div",50)(93,"label",61),h(94,"i",62),c(95," N\xBA de Tel\xE9fono"),a(),s(96,"input",63,3),I("ngModelChange",function(d){return g(o),A(t.salonData.phone,d)||(t.salonData.phone=d),_(d)}),a(),D(98,vy,2,0,"div",54),a()(),s(99,"div",49)(100,"div",50)(101,"label",64),h(102,"i",65),c(103," Provincia"),a(),s(104,"select",66,4),I("ngModelChange",function(d){return g(o),A(t.salonData.id_province,d)||(t.salonData.id_province=d),_(d)}),f("change",function(){return g(o),_(t.onProvinceChange(t.salonData.id_province))}),s(106,"option",67),c(107," Seleccione una provincia "),a(),D(108,by,2,2,"option",68),a(),D(109,yy,2,0,"div",54),a(),s(110,"div",50)(111,"label",69),h(112,"i",70),c(113," Ciudad-CP"),a(),s(114,"select",71,5),I("ngModelChange",function(d){return g(o),A(t.salonData.id_city,d)||(t.salonData.id_city=d),_(d)}),f("change",function(){return g(o),_(t.onCityChange(t.salonData.id_city))}),s(116,"option",67),c(117," Seleccione una ciudad "),a(),D(118,Cy,2,3,"option",68),a(),D(119,xy,2,0,"div",54),a()(),s(120,"div",49)(121,"div",50)(122,"label",72),h(123,"i",73),c(124," Latitud"),a(),s(125,"input",74,6),I("ngModelChange",function(d){return g(o),A(t.salonData.latitud,d)||(t.salonData.latitud=d),_(d)}),a(),D(127,Sy,2,0,"div",54),a(),s(128,"div",50)(129,"label",75),h(130,"i",76),c(131," Longitud"),a(),s(132,"input",77,7),I("ngModelChange",function(d){return g(o),A(t.salonData.longitud,d)||(t.salonData.longitud=d),_(d)}),a(),D(134,wy,2,0,"div",54),a()(),s(135,"div",49)(136,"div",50)(137,"label",78),h(138,"i",79),c(139," URL de Google Maps"),a(),s(140,"input",80),I("ngModelChange",function(d){return g(o),A(t.salonData.map,d)||(t.salonData.map=d),_(d)}),a()(),s(141,"div",50)(142,"label",81),h(143,"i",82),c(144," URL del Negocio"),a(),s(145,"input",83),I("ngModelChange",function(d){return g(o),A(t.salonData.url,d)||(t.salonData.url=d),_(d)}),a()()(),s(146,"div",49)(147,"div",50)(148,"label",84),h(149,"i",85),c(150," Facebook"),a(),s(151,"input",86),I("ngModelChange",function(d){return g(o),A(t.salonData.facebook_url,d)||(t.salonData.facebook_url=d),_(d)}),a()(),s(152,"div",50)(153,"label",87),h(154,"i",88),c(155," Instagram"),a(),s(156,"input",89),I("ngModelChange",function(d){return g(o),A(t.salonData.instagram_url,d)||(t.salonData.instagram_url=d),_(d)}),a()()(),s(157,"div",49)(158,"div",50)(159,"label",90),h(160,"i",91),c(161," TikTok"),a(),s(162,"input",92),I("ngModelChange",function(d){return g(o),A(t.salonData.tiktok_url,d)||(t.salonData.tiktok_url=d),_(d)}),a()(),s(163,"div",50)(164,"label",93),h(165,"i",94),c(166," Youtube"),a(),s(167,"input",95),I("ngModelChange",function(d){return g(o),A(t.salonData.youtube_url,d)||(t.salonData.youtube_url=d),_(d)}),a()()(),s(168,"div",49)(169,"div",96)(170,"label",97),h(171,"i",98),c(172," Sobre Nosotros"),a(),s(173,"textarea",99),I("ngModelChange",function(d){return g(o),A(t.salonData.about_us,d)||(t.salonData.about_us=d),_(d)}),c(174,"                  "),a()()(),s(175,"button",100),f("click",function(){return g(o),_(t.updateSalon())}),c(176," Guardar "),a(),s(177,"button",101),c(178," Cancelar "),a()()(),s(179,"div",102)(180,"div",103)(181,"div",104)(182,"div",105)(183,"table",106)(184,"thead",107)(185,"tr")(186,"th"),c(187,"D\xEDa"),a(),s(188,"th",108),c(189,"Horarios del establecimiento"),a(),s(190,"th"),c(191,"A\xF1adir"),a()()(),s(192,"tbody"),D(193,My,8,3,"tr",109),a()()(),s(194,"button",110),f("click",function(){return g(o),_(t.saveHours())}),c(195," Guardar "),a()()()(),s(196,"div",111)(197,"div",112)(198,"label",113),c(199,"Seleccione una imagen"),a(),s(200,"div",114)(201,"input",115),f("change",function(d){return g(o),_(t.onFileSelected(d))}),a(),s(202,"button",116),f("click",function(){return g(o),_(t.onUpload())}),c(203," A\xF1adir "),a()()(),s(204,"div",117)(205,"div",118)(206,"div",105)(207,"table",119)(208,"thead",107)(209,"tr")(210,"th"),c(211,"Nombre"),a(),s(212,"th"),c(213,"Fecha Creaci\xF3n"),a(),s(214,"th"),c(215,"Imagen"),a(),s(216,"th"),c(217,"Principal"),a(),s(218,"th"),c(219,"Acciones"),a()()(),s(220,"tbody"),D(221,Dy,16,9,"tr",109),a()(),D(222,Ty,2,2,"div",120),a()()()(),s(223,"div",121)(224,"div",122)(225,"div",123),h(226,"img",124),c(227," Lista de categorias "),a(),s(228,"div",118)(229,"div",125)(230,"button",126),c(231," Nueva "),a()(),s(232,"div",127)(233,"div",128)(234,"table",119)(235,"thead",107)(236,"tr")(237,"th",129),c(238,"Categor\xEDa"),a(),s(239,"th",130),c(240," Editar/Eliminar "),a()()(),D(241,Iy,2,1,"tbody",131)(242,ky,4,0,"tbody",131),a()()()()()(),s(243,"div",132),D(244,Py,2,2,"div",120),s(245,"div",49)(246,"div",133),h(247,"input",134),a(),s(248,"div",135)(249,"button",136),c(250," Nuevo "),a()()(),s(251,"div",117)(252,"div",123),h(253,"img",124),c(254," Lista de servicios "),a(),s(255,"div",137)(256,"div",138)(257,"table",119)(258,"thead",107)(259,"tr")(260,"th"),c(261,"Servicio"),a(),s(262,"th"),c(263,"Subservicio"),a(),s(264,"th"),c(265,"Tiempo"),a(),s(266,"th"),c(267,"Precio"),a(),s(268,"th",139),c(269,"Editar/Eliminar"),a()()(),s(270,"tbody"),D(271,Fy,14,4,"tr",109),a()()()()()(),s(272,"div",140)(273,"div",49)(274,"div",141),h(275,"input",142),a(),s(276,"div",143)(277,"button",144),c(278," Nueva "),a()()(),s(279,"div",137)(280,"div",145)(281,"div",123),h(282,"img",124),c(283," Lista de Marcas "),a(),s(284,"div",118)(285,"div",105)(286,"table",119)(287,"thead",107)(288,"tr")(289,"th"),c(290,"Marca"),a(),s(291,"th"),c(292,"Logo"),a(),s(293,"th",139),c(294,"Editar/Eliminar"),a()()(),s(295,"tbody"),D(296,Oy,10,3,"tr",109),a()()()()()(),s(297,"div",146)(298,"div",147)(299,"div",148)(300,"div",149)(301,"h5",150),c(302," A\xF1adir marca al sal\xF3n "),a(),h(303,"button",151),a(),s(304,"div",152)(305,"div",153),h(306,"img",154),a(),s(307,"div",155)(308,"label",156),c(309,"Seleccione Categor\xEDa:"),a(),s(310,"select",157),I("ngModelChange",function(d){return g(o),A(t.selectedCategory,d)||(t.selectedCategory=d),_(d)}),s(311,"option",67),c(312," Seleccione una categor\xEDa "),a(),D(313,Ny,2,2,"option",68),a()(),s(314,"div",158)(315,"label",159),c(316,"Introduce marca:"),a(),s(317,"input",160),I("ngModelChange",function(d){return g(o),A(t.term,d)||(t.term=d),_(d)}),f("input",function(){return g(o),_(t.searchBrands(t.term))}),a(),D(318,Ry,2,1,"ul",161),a()(),s(319,"div",162)(320,"button",163),f("click",function(){return g(o),_(t.addBrandSalon())}),c(321," Guardar "),a(),s(322,"button",164),c(323," Cancelar "),a()()()()(),s(324,"div",165)(325,"div",147)(326,"div",148)(327,"div",149)(328,"h5",166),c(329," Editar Marca "),a(),h(330,"button",151),a(),s(331,"div",152)(332,"div",153),h(333,"img",167),a(),s(334,"form")(335,"div",155)(336,"div",168),h(337,"img",169),a(),s(338,"div",129)(339,"label",170),c(340,"Marca seleccionada: "),a(),s(341,"span",171),c(342),a()()(),s(343,"div",155)(344,"label",156),c(345,"Seleccione Categor\xEDa:"),a(),s(346,"select",172),I("ngModelChange",function(d){return g(o),A(t.selectedUpdatedCategoryBrand,d)||(t.selectedUpdatedCategoryBrand=d),_(d)}),s(347,"option",67),c(348," Seleccione una categor\xEDa "),a(),D(349,Vy,2,2,"option",68),a()(),s(350,"div",158)(351,"label",159),c(352,"Introduce marca:"),a(),s(353,"input",160),I("ngModelChange",function(d){return g(o),A(t.termUpdate,d)||(t.termUpdate=d),_(d)}),f("input",function(){return g(o),_(t.searchUpdateBrands(t.termUpdate))}),a(),D(354,Uy,2,1,"ul",161),a()()(),s(355,"div",162)(356,"button",163),f("click",function(){return g(o),_(t.updateBrandSalon())}),c(357," Guardar Cambios "),a(),s(358,"button",164),c(359," Cancelar "),a()()()()(),s(360,"div",173)(361,"div",147)(362,"div",148)(363,"div",149)(364,"h5",174),c(365," Eliminar Marca "),a(),h(366,"button",151),a(),s(367,"div",152)(368,"div",153),h(369,"img",167),a(),s(370,"p"),c(371," \xBFEst\xE1s seguro de que deseas eliminar esta marca de su sal\xF3n? "),a()(),s(372,"div",162)(373,"button",163),f("click",function(){return g(o),_(t.confirmDeleteBrand())}),c(374," Eliminar "),a(),s(375,"button",164),c(376," Cancelar "),a()()()()()(),s(377,"div",175)(378,"div",49)(379,"div",133),h(380,"input",134),a(),s(381,"div",135)(382,"button",176),c(383,"Nuevo"),a()()(),s(384,"div",117)(385,"div",118)(386,"div",105)(387,"table",119)(388,"thead",107)(389,"tr")(390,"th"),h(391,"input",177),a(),s(392,"th"),c(393,"Usuario"),a(),s(394,"th"),c(395,"Permiso"),a()()(),s(396,"tbody")(397,"tr")(398,"td"),h(399,"input",177),a(),s(400,"td"),c(401,"Alberto Santorroman"),a(),s(402,"td")(403,"select",178)(404,"option",179),c(405,"Administrador de negocio"),a(),s(406,"option",180),c(407," Trabajador de negocio "),a()()()(),s(408,"tr")(409,"td"),h(410,"input",177),a(),s(411,"td"),c(412,"Prueba Sauco"),a(),s(413,"td")(414,"select",178)(415,"option",181),c(416," Administrador de negocio "),a(),s(417,"option",179),c(418,"Trabajador de negocio"),a()()()()()()()()()(),s(419,"div",182)(420,"div",49)(421,"div",133),h(422,"input",134),a()(),s(423,"div",117)(424,"div",118)(425,"div",105)(426,"table",119)(427,"thead",107)(428,"tr")(429,"th"),c(430,"Pregunta"),a(),s(431,"th"),c(432,"Respuesta"),a(),s(433,"th",183),c(434,"Responder/ Eliminar"),a()()(),s(435,"tbody"),D(436,jy,11,2,"tr",109),a()()()()()(),s(437,"div",184)(438,"div",185)(439,"div",185)(440,"h2",186),c(441,"Valoraci\xF3n media de los usuairos."),a(),s(442,"h2",186),c(443),a(),h(444,"div"),a()(),s(445,"div",49)(446,"div",96),h(447,"input",134),a()(),s(448,"div",117)(449,"div",118)(450,"div",105)(451,"table",119)(452,"thead",107)(453,"tr")(454,"th"),c(455,"Rese\xF1a"),a(),s(456,"th"),c(457,"Respuesta"),a(),s(458,"th"),c(459,"Usuario"),a(),s(460,"th"),c(461,"Calificaci\xF3n"),a(),s(462,"th"),c(463,"Responder"),a(),D(464,Hy,2,0,"th",187),a()(),s(465,"tbody"),D(466,Gy,14,5,"tr",109),a()()()()()()()()(),h(467,"app-footer"),a(),s(468,"div",188)(469,"div",189)(470,"div",148)(471,"div",149)(472,"h5",190),c(473,"A\xF1adir servicios"),a(),h(474,"button",151),a(),s(475,"div",152)(476,"div",153),h(477,"img",167),a(),s(478,"p",191),c(479," Complete los detalles del nuevo servicio "),a(),s(480,"form")(481,"div",192)(482,"label",193),c(483,"Seleccione Categor\xEDa del servicio:"),a(),s(484,"select",194),I("ngModelChange",function(d){return g(o),A(t.selectedCategory,d)||(t.selectedCategory=d),_(d)}),f("change",function(){return g(o),_(t.getUniqueServices(t.selectedCategory))}),s(485,"option",67),c(486," Seleccione una categor\xEDa "),a(),D(487,qy,2,2,"option",68),a()(),s(488,"div",49)(489,"div",50)(490,"label",195),c(491,"Servicio"),a(),s(492,"select",196),I("ngModelChange",function(d){return g(o),A(t.newServiceName,d)||(t.newServiceName=d),_(d)}),f("change",function(d){return g(o),_(t.onServiceSelect(d))}),s(493,"option",197),c(494,"Selecciona una opci\xF3n"),a(),D(495,$y,2,2,"option",68),a()(),s(496,"div",50)(497,"label",198),c(498,"Tiempo Actividad (Minutos)"),a(),s(499,"input",199),I("ngModelChange",function(d){return g(o),A(t.newServiceTime,d)||(t.newServiceTime=d),_(d)}),f("input",function(d){return g(o),_(t.checkLengthTime(d))}),a()()(),s(500,"div",200)(501,"div",201)(502,"label",202),c(503,"Subservicio"),a(),s(504,"select",203),I("ngModelChange",function(d){return g(o),A(t.newSubservices,d)||(t.newSubservices=d),_(d)}),s(505,"option",197),c(506,"Selecciona una opci\xF3n"),a(),D(507,Jy,2,2,"option",68),a()(),s(508,"div",204)(509,"label",198),c(510,"Precio (*Opcional)"),a(),s(511,"input",205),I("ngModelChange",function(d){return g(o),A(t.newServicePrice,d)||(t.newServicePrice=d),_(d)}),f("blur",function(d){return g(o),_(t.resetPrice(d))})("input",function(d){return g(o),_(t.checkLengthPrice(d))}),a()()()()(),s(512,"div",162)(513,"button",206),f("click",function(){return g(o),_(t.addService())}),c(514," Guardar "),a(),s(515,"button",164),c(516," Cancelar "),a()()()()(),s(517,"div",207)(518,"div",189)(519,"div",148)(520,"div",149)(521,"h5",208),c(522,"Editar servicio"),a(),h(523,"button",151),a(),s(524,"div",152)(525,"div",153),h(526,"img",167),a(),s(527,"p",191),c(528," Complete los detalles para editar servicio "),a(),s(529,"form")(530,"div",49)(531,"div",50)(532,"label",209),c(533,"Servicio"),a(),h(534,"input",210),a(),s(535,"div",50)(536,"label",198),c(537,"Tiempo Actividad (Minutos)"),a(),s(538,"input",199),I("ngModelChange",function(d){return g(o),A(t.updateServiceTime,d)||(t.updateServiceTime=d),_(d)}),f("input",function(d){return g(o),_(t.checkLengthTime(d))}),a()()(),s(539,"div",200)(540,"div",211)(541,"label",212),c(542,"Subservicio"),a(),h(543,"input",213),a(),s(544,"div",50)(545,"label",198),c(546,"Precio (*Opcional)"),a(),s(547,"input",214),I("ngModelChange",function(d){return g(o),A(t.updateServicePrice,d)||(t.updateServicePrice=d),_(d)}),f("blur",function(d){return g(o),_(t.resetPrice(d))})("input",function(d){return g(o),_(t.checkLengthPrice(d))}),a()()()()(),s(548,"div",162)(549,"button",215),f("click",function(){return g(o),_(t.updateServiceWithSubservice())}),c(550," Guardar "),a(),s(551,"button",164),c(552," Cancelar "),a()()()()(),s(553,"div",216)(554,"div",147)(555,"div",217)(556,"div",218)(557,"h5",219),c(558," Responder Pregunta "),a(),h(559,"button",220),a(),s(560,"div",152)(561,"div",153),h(562,"img",167),a(),s(563,"form",221),f("ngSubmit",function(){return g(o),_(t.updateQuestion())}),s(564,"div",155)(565,"label",222),c(566,"Pregunta"),a(),s(567,"textarea",223),I("ngModelChange",function(d){return g(o),A(t.editQuestionText,d)||(t.editQuestionText=d),_(d)}),a()(),s(568,"div",155)(569,"label",224),c(570,"Respuesta"),a(),s(571,"textarea",225),I("ngModelChange",function(d){return g(o),A(t.editAnswerText,d)||(t.editAnswerText=d),_(d)}),a()(),s(572,"div",226)(573,"button",227),c(574," Guardar Respuesta "),a(),s(575,"button",164),c(576," Cancelar "),a()()()()()()(),s(577,"div",228)(578,"div",147)(579,"div",148)(580,"div",218)(581,"h5",229),c(582," Responder Rese\xF1a "),a(),h(583,"button",220),a(),s(584,"div",152)(585,"div",153),h(586,"img",167),a(),s(587,"form",221),f("ngSubmit",function(){return g(o),_(t.confirmResponseReview())}),s(588,"div",155)(589,"label",230),c(590,"Rese\xF1a"),a(),s(591,"textarea",231),I("ngModelChange",function(d){return g(o),A(t.editReviewText,d)||(t.editReviewText=d),_(d)}),a()(),s(592,"div",232)(593,"label",233),c(594,"Tu respuesta"),a(),s(595,"textarea",234),I("ngModelChange",function(d){return g(o),A(t.responseText,d)||(t.responseText=d),_(d)}),a()(),s(596,"div",226)(597,"button",227),c(598," Guardar Cambios "),a(),s(599,"button",164),c(600," Cancelar "),a()()()()()()(),s(601,"div",235)(602,"div",147)(603,"div",148)(604,"div",218)(605,"h5",236),c(606,"Nueva Categor\xEDa"),a(),h(607,"button",151),a(),s(608,"div",152)(609,"div",129),h(610,"img",167),a(),s(611,"div",237)(612,"select",238),I("ngModelChange",function(d){return g(o),A(t.selectedCategory,d)||(t.selectedCategory=d),_(d)}),s(613,"option",239),c(614,"Selecciona una opci\xF3n"),a(),D(615,Qy,2,2,"option",240),a()()(),s(616,"div",162)(617,"button",241),f("click",function(){return g(o),_(t.addCategorySalon())}),c(618," Guardar "),a(),s(619,"button",164),c(620," Cancelar "),a()()()()(),s(621,"div",242)(622,"div",147)(623,"div",148)(624,"div",149)(625,"h5",243),c(626,"Editar Categor\xEDa"),a(),h(627,"button",151),a(),s(628,"div",152)(629,"div",129),h(630,"img",167),a(),s(631,"form")(632,"div",155)(633,"label",244),c(634,"Selecciona la Categor\xEDa para Editar"),a(),s(635,"select",245),I("ngModelChange",function(d){return g(o),A(t.selectedCategory.category,d)||(t.selectedCategory.category=d),_(d)}),s(636,"option",246),c(637,"Selecciona una categor\xEDa"),a(),D(638,Ky,2,2,"option",247),a()()()(),s(639,"div",162)(640,"button",163),f("click",function(){return g(o),_(t.updateCategory())}),c(641," Guardar "),a(),s(642,"button",164),c(643," Cancelar "),a()()()()(),s(644,"div",248)(645,"div",147)(646,"div",148)(647,"div",149)(648,"h5",249),c(649," Eliminar Categor\xEDas "),a(),h(650,"button",151),a(),s(651,"div",152)(652,"div",153),h(653,"img",167),a(),s(654,"p"),c(655,"\xBFEst\xE1s seguro que deseas eliminar la categor\xEDa seleccionada?"),a()(),s(656,"div",162)(657,"button",163),f("click",function(){return g(o),_(t.confirmDeleteCategory())}),c(658," Eliminar "),a(),s(659,"button",164),c(660," Cancelar "),a()()()()(),s(661,"div",250)(662,"div",147)(663,"div",148)(664,"div",149)(665,"h5",251),c(666," Eliminar Servicio "),a(),h(667,"button",151),a(),s(668,"div",152)(669,"div",153),h(670,"img",167),a(),s(671,"p"),c(672,"\xBFEst\xE1s seguro que deseas eliminar el servicio seleccionado?"),a()(),s(673,"div",162)(674,"button",163),f("click",function(){return g(o),_(t.confirmDeleteService())}),c(675," Eliminar "),a(),s(676,"button",164),c(677," Cancelar "),a()()()()(),s(678,"div",252)(679,"div",253)(680,"div",148)(681,"div",254)(682,"h5",255),c(683," Eliminar Pregunta "),a(),h(684,"button",151),a(),s(685,"div",152)(686,"div",153),h(687,"img",167),a(),s(688,"p"),c(689,"\xBFEst\xE1s seguro que deseas eliminar la pregunta seleccionada?"),a()(),s(690,"div",162)(691,"button",163),f("click",function(){return g(o),_(t.confirmDeleteFaq())}),c(692," Eliminar "),a(),s(693,"button",164),c(694," Cancelar "),a()()()()(),s(695,"div",256)(696,"div",253)(697,"div",148)(698,"div",254)(699,"h5",257),c(700," Eliminar Pregunta "),a(),h(701,"button",151),a(),s(702,"div",152)(703,"div",153),h(704,"img",167),a(),s(705,"p"),c(706,"\xBFEst\xE1s seguro que deseas eliminar la rese\xF1a seleccionada?"),a()(),s(707,"div",162)(708,"button",163),f("click",function(){return g(o),_(t.confirmDeleteReview())}),c(709," Eliminar "),a(),s(710,"button",164),c(711," Cancelar "),a()()()()(),s(712,"div",258)(713,"div",147)(714,"div",148)(715,"div",149)(716,"h5",259),c(717," Modificar tu rese\xF1a "),a(),h(718,"button",151),a(),s(719,"div",152)(720,"div",260),h(721,"img",261),a(),s(722,"div",262)(723,"label",263),c(724,"Servicio:"),a(),s(725,"div",264)(726,"input",265),I("ngModelChange",function(d){return g(o),A(t.ratings.service[0],d)||(t.ratings.service[0]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,0))}),a(),h(727,"label",266),s(728,"input",267),I("ngModelChange",function(d){return g(o),A(t.ratings.service[1],d)||(t.ratings.service[1]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,1))}),a(),h(729,"label",268),s(730,"input",269),I("ngModelChange",function(d){return g(o),A(t.ratings.service[2],d)||(t.ratings.service[2]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,2))}),a(),h(731,"label",270),s(732,"input",271),I("ngModelChange",function(d){return g(o),A(t.ratings.service[3],d)||(t.ratings.service[3]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,3))}),a(),h(733,"label",272),s(734,"input",273),I("ngModelChange",function(d){return g(o),A(t.ratings.service[4],d)||(t.ratings.service[4]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.service,4))}),a(),h(735,"label",274),a()(),s(736,"div",275)(737,"label",263),c(738,"Calidad/Precio:"),a(),s(739,"div",264)(740,"input",276),I("ngModelChange",function(d){return g(o),A(t.ratings.quality[0],d)||(t.ratings.quality[0]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,0))}),a(),h(741,"label",277),s(742,"input",278),I("ngModelChange",function(d){return g(o),A(t.ratings.quality[1],d)||(t.ratings.quality[1]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,1))}),a(),h(743,"label",279),s(744,"input",280),I("ngModelChange",function(d){return g(o),A(t.ratings.quality[2],d)||(t.ratings.quality[2]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,2))}),a(),h(745,"label",281),s(746,"input",282),I("ngModelChange",function(d){return g(o),A(t.ratings.quality[3],d)||(t.ratings.quality[3]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,3))}),a(),h(747,"label",283),s(748,"input",284),I("ngModelChange",function(d){return g(o),A(t.ratings.quality[4],d)||(t.ratings.quality[4]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.quality,4))}),a(),h(749,"label",285),a()(),s(750,"div",275)(751,"label",263),c(752,"Limpieza:"),a(),s(753,"div",264)(754,"input",286),I("ngModelChange",function(d){return g(o),A(t.ratings.cleanliness[0],d)||(t.ratings.cleanliness[0]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,0))}),a(),h(755,"label",287),s(756,"input",288),I("ngModelChange",function(d){return g(o),A(t.ratings.cleanliness[1],d)||(t.ratings.cleanliness[1]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,1))}),a(),h(757,"label",289),s(758,"input",290),I("ngModelChange",function(d){return g(o),A(t.ratings.cleanliness[2],d)||(t.ratings.cleanliness[2]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,2))}),a(),h(759,"label",291),s(760,"input",292),I("ngModelChange",function(d){return g(o),A(t.ratings.cleanliness[3],d)||(t.ratings.cleanliness[3]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,3))}),a(),h(761,"label",293),s(762,"input",294),I("ngModelChange",function(d){return g(o),A(t.ratings.cleanliness[4],d)||(t.ratings.cleanliness[4]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.cleanliness,4))}),a(),h(763,"label",295),a()(),s(764,"div",275)(765,"label",263),c(766,"Rapidez:"),a(),s(767,"div",264)(768,"input",296),I("ngModelChange",function(d){return g(o),A(t.ratings.speed[0],d)||(t.ratings.speed[0]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,0))}),a(),h(769,"label",297),s(770,"input",298),I("ngModelChange",function(d){return g(o),A(t.ratings.speed[1],d)||(t.ratings.speed[1]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,1))}),a(),h(771,"label",299),s(772,"input",300),I("ngModelChange",function(d){return g(o),A(t.ratings.speed[2],d)||(t.ratings.speed[2]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,2))}),a(),h(773,"label",301),s(774,"input",302),I("ngModelChange",function(d){return g(o),A(t.ratings.speed[3],d)||(t.ratings.speed[3]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,3))}),a(),h(775,"label",303),s(776,"input",304),I("ngModelChange",function(d){return g(o),A(t.ratings.speed[4],d)||(t.ratings.speed[4]=d),_(d)}),f("change",function(){return g(o),_(t.updateRatings(t.ratings.speed,4))}),a(),h(777,"label",305),a()()(),s(778,"div",306)(779,"label",307),c(780,"Rese\xF1a del usuario:"),a(),s(781,"textarea",308),I("ngModelChange",function(d){return g(o),A(t.additionalComments,d)||(t.additionalComments=d),_(d)}),a(),s(782,"label",309),c(783,"Respuesta del Propietario:"),a(),s(784,"textarea",308),I("ngModelChange",function(d){return g(o),A(t.responseText,d)||(t.responseText=d),_(d)}),a()(),s(785,"div",162)(786,"button",163),f("click",function(){return g(o),_(t.updateReviewModal())}),c(787," Guardar "),a(),s(788,"button",164),c(789," Cancelar "),a()()()()(),s(790,"div",310)(791,"div",253)(792,"div",148)(793,"div",254)(794,"h5",311),c(795," Eliminar Imagen "),a(),h(796,"button",151),a(),s(797,"div",152)(798,"div",153),h(799,"img",167),a(),s(800,"p"),c(801," \xBFEst\xE1s seguro que deseas eliminar la imagen del sal\xF3n seleccionada? "),a()(),s(802,"div",162)(803,"button",163),f("click",function(){return g(o),_(t.confirmDeleteImage())}),c(804," Eliminar "),a(),s(805,"button",164),c(806," Cancelar "),a()()()()()()}if(n&2){let o=Se(75),l=Se(82),d=Se(90),m=Se(97),v=Se(105),p=Se(115),y=Se(126),C=Se(133);u(5),b("ngIf",t.isLoading),u(10),V(t.salonData.name),u(40),b("ngIf",t.userType==="admin"),u(5),T("ngModel",t.salonData.active),u(5),T("ngModel",t.salonData.in_vacation),u(),b("href",t.getSalonUrl(),Ie),u(8),T("ngModel",t.salonData.name),u(2),b("ngIf",o.invalid&&o.touched),u(5),T("ngModel",t.salonData.email),u(2),b("ngIf",l.invalid&&l.touched),u(6),T("ngModel",t.salonData.address),u(2),b("ngIf",d.invalid&&d.touched),u(5),T("ngModel",t.salonData.phone),u(2),b("ngIf",m.invalid&&m.touched),u(6),T("ngModel",t.salonData.id_province),u(4),b("ngForOf",t.provinces),u(),b("ngIf",v.invalid&&v.touched),u(5),T("ngModel",t.salonData.id_city),u(4),b("ngForOf",t.cities),u(),b("ngIf",p.invalid&&p.touched),u(6),T("ngModel",t.salonData.latitud),u(2),b("ngIf",y.invalid&&y.touched),u(5),T("ngModel",t.salonData.longitud),u(2),b("ngIf",C.invalid&&C.touched),u(6),T("ngModel",t.salonData.map),u(5),T("ngModel",t.salonData.url),u(6),T("ngModel",t.salonData.facebook_url),u(5),T("ngModel",t.salonData.instagram_url),u(6),T("ngModel",t.salonData.tiktok_url),u(5),T("ngModel",t.salonData.youtube_url),u(6),T("ngModel",t.salonData.about_us),u(20),b("ngForOf",t.days),u(28),b("ngForOf",t.images),u(),b("ngIf",t.isImageOpen),u(19),b("ngIf",t.salonData.categoriesArray&&t.salonData.categoriesArray.length>0),u(),b("ngIf",!t.salonData.categoriesArray||t.salonData.categoriesArray.length===0),u(2),b("ngIf",t.isImageOpen),u(27),b("ngForOf",t.getSalonServices),u(25),b("ngForOf",t.brandsBySalon),u(10),b("src",t.selectedBrandImage||"../../../assets/img/sello.jpg",Ie),u(4),T("ngModel",t.selectedCategory),u(3),b("ngForOf",t.brands_categories),u(4),T("ngModel",t.term),u(),b("ngIf",t.brands.length>0),u(19),b("src",t.selectedImgUpdateBrand,Ie),u(5),Y(" ",t.selectedUpdateBrand," "),u(4),T("ngModel",t.selectedUpdatedCategoryBrand),u(3),b("ngForOf",t.brands_categories),u(4),T("ngModel",t.termUpdate),u(),b("ngIf",t.brands.length>0),u(82),b("ngForOf",t.faqByIdSalon),u(7),Y(" ",t.averageRatingStart.toFixed(2).replace(".",",")," puntos sobre 5. "),u(21),b("ngIf",t.userPermiso==="admin"),u(2),b("ngForOf",t.reviews),u(18),T("ngModel",t.selectedCategory),u(3),b("ngForOf",t.service_categories),u(5),T("ngModel",t.newServiceName),u(3),b("ngForOf",t.getSalonDataSelect),u(4),T("ngModel",t.newServiceTime),u(5),T("ngModel",t.newSubservices),u(3),b("ngForOf",t.getSalonSubservices),u(4),T("ngModel",t.newServicePrice),u(23),b("value",t.selectedServiceName),u(4),T("ngModel",t.updateServiceTime),u(5),b("value",t.selectedSubserviceName),u(4),T("ngModel",t.updateServicePrice),u(20),T("ngModel",t.editQuestionText),u(4),T("ngModel",t.editAnswerText),u(20),T("ngModel",t.editReviewText),u(4),T("ngModel",t.responseText),u(17),T("ngModel",t.selectedCategory),u(3),b("ngForOf",t.getCategories),u(20),T("ngModel",t.selectedCategory.category),u(3),b("ngForOf",t.getCategories),u(88),T("ngModel",t.ratings.service[0]),u(2),T("ngModel",t.ratings.service[1]),u(2),T("ngModel",t.ratings.service[2]),u(2),T("ngModel",t.ratings.service[3]),u(2),T("ngModel",t.ratings.service[4]),u(6),T("ngModel",t.ratings.quality[0]),u(2),T("ngModel",t.ratings.quality[1]),u(2),T("ngModel",t.ratings.quality[2]),u(2),T("ngModel",t.ratings.quality[3]),u(2),T("ngModel",t.ratings.quality[4]),u(6),T("ngModel",t.ratings.cleanliness[0]),u(2),T("ngModel",t.ratings.cleanliness[1]),u(2),T("ngModel",t.ratings.cleanliness[2]),u(2),T("ngModel",t.ratings.cleanliness[3]),u(2),T("ngModel",t.ratings.cleanliness[4]),u(6),T("ngModel",t.ratings.speed[0]),u(2),T("ngModel",t.ratings.speed[1]),u(2),T("ngModel",t.ratings.speed[2]),u(2),T("ngModel",t.ratings.speed[3]),u(2),T("ngModel",t.ratings.speed[4]),u(5),T("ngModel",t.additionalComments),u(3),T("ngModel",t.responseText)}},dependencies:[Ai,ue,ce,lt,Je,Qe,Ke,me,Tr,Ve,je,fe,$e,ut,Ir,gi,Ar,Ce,Ye,ge,_e,ve,Ft],styles:['@charset "UTF-8";.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#b91622;border-color:#b91622}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#495057;background-color:#f8f9fa;border:1px solid #dee2e6;border-radius:.25rem}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#e1e1e1;color:#000}.circle-input-group[_ngcontent-%COMP%]{display:flex;gap:5px}.circle-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.circle-label[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #ddd;border-radius:50%;display:inline-block;cursor:pointer;transition:background-color .3s,border-color .3s}.circle-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .circle-label[_ngcontent-%COMP%]{background-color:#b71622;border:1px solid gray}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#9e1420;border-color:#9e1420}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{cursor:pointer}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#b91622}label[_ngcontent-%COMP%]{color:#000}Complete[_ngcontent-%COMP%]   los[_ngcontent-%COMP%]   detalles[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]   nuevo[_ngcontent-%COMP%]   servicio[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.d-flex.align-items-center[_ngcontent-%COMP%]{display:flex;align-items:center}.ml-2[_ngcontent-%COMP%]{margin-left:.5rem}.text-center[_ngcontent-%COMP%]{text-align:center}.fullsize[_ngcontent-%COMP%]{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:2}.fullsize[_ngcontent-%COMP%]{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;display:flex;justify-content:center;align-items:center}.fullsize[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh}.image-container[_ngcontent-%COMP%]{width:200px;height:70px;overflow:hidden;position:relative}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;object-fit:cover}.loading-overlay[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:1000}#modalNuevoServicio[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 3px 9px #00000080}.star-rating[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;font-size:2rem;color:#ddd;cursor:pointer;-webkit-user-select:none;user-select:none}.star-rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.star-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;padding:0;color:#ddd;transition:color .2s}.star-rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%], .star-rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, .star-rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]{display:inline-flex}.star[_ngcontent-%COMP%]{font-size:1.5rem;color:#ffca28;margin-right:.2rem}.star.filled[_ngcontent-%COMP%]{color:#ffca28}.star[_ngcontent-%COMP%]{color:#ddd}#newBrand[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}#selectedUpdateBrand[_ngcontent-%COMP%]{border:none;border-radius:0;margin-bottom:0}']})}}return i})();var $h=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getProvinces(){return this.http.get(`${this.baseUrl}/edithome/getProvinces`)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edithome/getCitiesByProvince`,{params:{id_province:e.toString()}})}createSalon(e){let n=`${this.baseUrl}/edithome/createSalon`,t=new jt({"Content-Type":"application/json"});return this.http.post(n,e,{headers:t})}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-home`,{params:{permiso:e||""}})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Yy(i,r){i&1&&(s(0,"div",66),c(1," El Plus Code es requerido. "),a())}function Xy(i,r){i&1&&(s(0,"div",66),c(1," El nombre es requerido. "),a())}function eC(i,r){i&1&&(s(0,"div",66),c(1," El email es requerido. "),a())}function tC(i,r){i&1&&(s(0,"div",66),c(1," La direcci\xF3n es requerida. "),a())}function iC(i,r){i&1&&(s(0,"div",66),c(1," El n\xFAmero de tel\xE9fono es requerido. "),a())}function nC(i,r){i&1&&(s(0,"div",66),c(1," La latitud es requerida. "),a())}function rC(i,r){i&1&&(s(0,"div",66),c(1," La longitud es requerida. "),a())}function oC(i,r){if(i&1&&(s(0,"option",67),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function aC(i,r){i&1&&(s(0,"div",66),c(1," La provincia es requerida. "),a())}function sC(i,r){if(i&1&&(s(0,"option",67),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function lC(i,r){i&1&&(s(0,"div",66),c(1," La ciudad es requerida. "),a())}var Jh=(()=>{class i{constructor(e,n,t){this.route=e,this.newHomeService=n,this.toastr=t,this.salonId=0,this.salonData={id_salon:"",id_city:"",id_province:"",plus_code:"",active:"1",state:"No reclamado",in_vacation:"",name:"",address:"",latitud:"",longitud:"",email:"",url:"",phone:"",map:"",iframe:"",image:"",about_us:"",score_old:"",hours_old:"Lunes, De 10:00 a 14:00, De 16:00 a 20:00; Martes, De 10:00 a 14:00, De 16:00 a 20:00; Mi\xE9rcoles, De 10:00 a 14:00, De 16:00 a 20:00; Jueves, De 10:00 a 14:00, De 16:00 a 20:00; Viernes, De 10:00 a 14:00, De 16:00 a 20:00; S\xE1bado, De 10:00 a 14:00, Cerrado; Domingo, Cerrado, Cerrado",zip_code_old:"",overview_old:"",created_at:"",updated_at:"",deleted_at:"",categories:"",city_name:"",city_zip_code:""},this.in_vacation=0,this.provinces=[],this.cities=[],this.dias=[],this.currentPage=1,this.pageSize=10,this.selectedFile=null,this.images=[],this.fileDescription="",this.fileGroup="",this.filePrincipal=!1,this.fileActive=!0,this.currentImageUrl="",this.currentImageAlt="",this.isImageOpen=!1}ngOnInit(){this.route.paramMap.subscribe(e=>{let n=e.get("id");this.salonId=n?+n:0,this.loadProvinces(),sessionStorage.getItem("salonCreated")==="true"&&(this.toastr.success('<i class="las la-info-circle">Sal\xF3n creado con \xE9xito.</i>'),sessionStorage.removeItem("salonCreated"))})}loadProvinces(){this.newHomeService.getProvinces().subscribe(e=>{this.provinces=e.data,this.salonId},e=>{console.error("Error fetching provinces:",e)})}onProvinceChange(e,n=!1){n||(this.salonData.id_city="",this.salonData.city_name=""),this.newHomeService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,n&&this.salonData.id_city){let o=this.cities.find(l=>l.id_city===this.salonData.id_city);o&&(this.salonData.city_name=o.city_name)}},t=>{console.error("Error fetching cities:",t)})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.salonData.city_name=n.city_name,this.salonData.id_city=n.id_city)}onFileSelected(e){this.selectedFile=e.target.files[0]}createSalon(e){if(this.salonData.in_vacation="0",e.invalid){e.control.markAllAsTouched(),this.salonData.in_vacation="";return}this.newHomeService.createSalon(this.salonData).subscribe(n=>{console.log("Salon created successfully",n),sessionStorage.setItem("salonCreated","true"),window.location.reload()},n=>{console.error("Error creating salon",n),this.toastr.error('<i class="las la-info-circle">Error: Revise los campos del formulario.</i>'),this.salonData.in_vacation=""})}static{this.\u0275fac=function(n){return new(n||i)(B(dt),B($h),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-new-home"]],decls:127,vars:27,consts:[["salonForm","ngForm"],["plusCode","ngModel"],["name","ngModel"],["email","ngModel"],["address","ngModel"],["phone","ngModel"],["latitud","ngModel"],["longitud","ngModel"],["province","ngModel"],["city","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],["id","myTabContent",1,"tab-content","bg-light"],["id","negocio","role","tabpanel","aria-labelledby","negocio-tab",1,"tab-pane","fade","show","active"],[1,"row","mb-3","align-items-center"],[1,"col-md-2"],["for","estado",1,"form-label"],["id","state","name","state",1,"form-select",3,"ngModelChange","ngModel"],["value","No reclamado","selected",""],["value","Reclamado"],["value","Validado"],[1,"col-md-6"],["for","plus_code",1,"form-label"],["type","text","id","plus_code","name","plus_code","placeholder","Ingrese el plus code del negocio","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],[1,"col-md-4","d-flex","align-items-center"],["for","active",1,"form-check-label","me-2"],[1,"form-check","form-switch","me-3"],["type","checkbox","id","active","name","active",1,"form-check-input",3,"ngModelChange","ngModel"],["for","in_vacation",1,"form-check-label","me-2"],[1,"form-check","form-switch"],["type","checkbox","id","in_vacation","name","in_vacation",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"row","mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","placeholder","Ingrese el nombre del negocio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Ingrese su correo electr\xF3nico","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","address",1,"form-label"],["type","text","id","address","name","address","placeholder","Ingrese la direcci\xF3n del negocio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","name","phone","placeholder","Ingrese el n\xFAmero de tel\xE9fono","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","latitud",1,"form-label"],["type","number","id","latitud","name","latitud","placeholder","Ingrese la latitud","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","longitud",1,"form-label"],["type","number","id","longitud","name","longitud","placeholder","Ingrese la longitud","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","provincia",1,"form-label"],["id","provincia","name","id_province","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","ciudad",1,"form-label"],["id","ciudad","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["for","googlemaps",1,"form-label"],["type","text","id","map","name","map","placeholder","Ingrese la URL de Google Maps",1,"form-control",3,"ngModelChange","ngModel"],["for","urlnegocio",1,"form-label"],["type","text","id","url","name","url","placeholder","Ingrese la URL del negocio",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],["for","sobrenosotros",1,"form-label"],["id","about_us","name","about_us","rows","3","placeholder","Establezca la descripci\xF3n de su negocio...",1,"form-control",3,"ngModelChange","ngModel"],["for","categoria",1,"form-label"],["type","text","id","categories","name","categories","placeholder","Ingrese las categor\xEDas del negocio",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-danger","me-2",3,"click"],["type","button","routerLink","/home",1,"btn","btn-secondary"],[1,"text-danger"],[3,"value"]],template:function(n,t){if(n&1){let o=z();h(0,"app-header"),s(1,"div",10),h(2,"app-aside"),s(3,"div",11)(4,"main")(5,"div",12)(6,"h1",13),c(7,"Panel de control"),a(),s(8,"ol",14)(9,"li",15),c(10," Administraci\xF3n / "),s(11,"b"),c(12,"Negocios / "),a(),s(13,"b"),c(14,"Nuevo"),a()()(),s(15,"div",16)(16,"div",17)(17,"form",null,0)(19,"div",18)(20,"div",19)(21,"label",20),c(22,"Estado"),a(),s(23,"select",21),I("ngModelChange",function(d){return g(o),A(t.salonData.state,d)||(t.salonData.state=d),_(d)}),s(24,"option",22),c(25,"No reclamado"),a(),s(26,"option",23),c(27,"Reclamado"),a(),s(28,"option",24),c(29,"Validado"),a()()(),s(30,"div",25)(31,"label",26),c(32,"Plus Code"),a(),s(33,"input",27,1),I("ngModelChange",function(d){return g(o),A(t.salonData.plus_code,d)||(t.salonData.plus_code=d),_(d)}),a(),D(35,Yy,2,0,"div",28),a(),s(36,"div",29)(37,"label",30),c(38,"Activo"),a(),s(39,"div",31)(40,"input",32),I("ngModelChange",function(d){return g(o),A(t.salonData.active,d)||(t.salonData.active=d),_(d)}),a()(),s(41,"label",33),c(42,"Cerrado por vacaciones"),a(),s(43,"div",34)(44,"input",35),I("ngModelChange",function(d){return g(o),A(t.salonData.in_vacation,d)||(t.salonData.in_vacation=d),_(d)}),a()()()(),s(45,"div",36)(46,"div",25)(47,"label",37),c(48,"Nombre"),a(),s(49,"input",38,2),I("ngModelChange",function(d){return g(o),A(t.salonData.name,d)||(t.salonData.name=d),_(d)}),a(),D(51,Xy,2,0,"div",28),a(),s(52,"div",25)(53,"label",39),c(54,"E-mail"),a(),s(55,"input",40,3),I("ngModelChange",function(d){return g(o),A(t.salonData.email,d)||(t.salonData.email=d),_(d)}),a(),D(57,eC,2,0,"div",28),a()(),s(58,"div",36)(59,"div",25)(60,"label",41),c(61,"Direcci\xF3n"),a(),s(62,"input",42,4),I("ngModelChange",function(d){return g(o),A(t.salonData.address,d)||(t.salonData.address=d),_(d)}),a(),D(64,tC,2,0,"div",28),a(),s(65,"div",25)(66,"label",43),c(67,"N\xBA de Tel\xE9fono"),a(),s(68,"input",44,5),I("ngModelChange",function(d){return g(o),A(t.salonData.phone,d)||(t.salonData.phone=d),_(d)}),a(),D(70,iC,2,0,"div",28),a()(),s(71,"div",36)(72,"div",25)(73,"label",45),c(74,"Latitud"),a(),s(75,"input",46,6),I("ngModelChange",function(d){return g(o),A(t.salonData.latitud,d)||(t.salonData.latitud=d),_(d)}),a(),D(77,nC,2,0,"div",28),a(),s(78,"div",25)(79,"label",47),c(80,"Longitud"),a(),s(81,"input",48,7),I("ngModelChange",function(d){return g(o),A(t.salonData.longitud,d)||(t.salonData.longitud=d),_(d)}),a(),D(83,rC,2,0,"div",28),a()(),s(84,"div",36)(85,"div",25)(86,"label",49),c(87,"Provincia"),a(),s(88,"select",50,8),I("ngModelChange",function(d){return g(o),A(t.salonData.id_province,d)||(t.salonData.id_province=d),_(d)}),f("change",function(){return g(o),_(t.onProvinceChange(t.salonData.id_province))}),s(90,"option",51),c(91,"Seleccione una provincia..."),a(),D(92,oC,2,2,"option",52),a(),D(93,aC,2,0,"div",28),a(),s(94,"div",25)(95,"label",53),c(96,"Ciudad-CP"),a(),s(97,"select",54,9),I("ngModelChange",function(d){return g(o),A(t.salonData.id_city,d)||(t.salonData.id_city=d),_(d)}),f("change",function(){return g(o),_(t.onCityChange(t.salonData.id_city))}),s(99,"option",51),c(100,"Seleccione una ciudad..."),a(),D(101,sC,2,3,"option",52),a(),D(102,lC,2,0,"div",28),a()(),s(103,"div",36)(104,"div",25)(105,"label",55),c(106,"URL de Google Maps"),a(),s(107,"input",56),I("ngModelChange",function(d){return g(o),A(t.salonData.map,d)||(t.salonData.map=d),_(d)}),a()(),s(108,"div",25)(109,"label",57),c(110,"URL del Negocio"),a(),s(111,"input",58),I("ngModelChange",function(d){return g(o),A(t.salonData.url,d)||(t.salonData.url=d),_(d)}),a()()(),s(112,"div",36)(113,"div",59)(114,"label",60),c(115,"Sobre Nosotros"),a(),s(116,"textarea",61),I("ngModelChange",function(d){return g(o),A(t.salonData.about_us,d)||(t.salonData.about_us=d),_(d)}),a()()(),s(117,"div",36)(118,"div",59)(119,"label",62),c(120,"Categor\xEDas"),a(),s(121,"input",63),I("ngModelChange",function(d){return g(o),A(t.salonData.categories,d)||(t.salonData.categories=d),_(d)}),a()()(),s(122,"button",64),f("click",function(){g(o);let d=Se(18);return _(t.createSalon(d))}),c(123," Guardar "),a(),s(124,"button",65),c(125," Cancelar "),a()()()()()(),h(126,"app-footer"),a()()}if(n&2){let o=Se(34),l=Se(50),d=Se(56),m=Se(63),v=Se(69),p=Se(76),y=Se(82),C=Se(89),E=Se(98);u(23),T("ngModel",t.salonData.state),u(10),T("ngModel",t.salonData.plus_code),u(2),b("ngIf",o.invalid&&o.touched),u(5),T("ngModel",t.salonData.active),u(4),T("ngModel",t.salonData.in_vacation),u(5),T("ngModel",t.salonData.name),u(2),b("ngIf",l.invalid&&l.touched),u(4),T("ngModel",t.salonData.email),u(2),b("ngIf",d.invalid&&d.touched),u(5),T("ngModel",t.salonData.address),u(2),b("ngIf",m.invalid&&m.touched),u(4),T("ngModel",t.salonData.phone),u(2),b("ngIf",v.invalid&&v.touched),u(5),T("ngModel",t.salonData.latitud),u(2),b("ngIf",p.invalid&&p.touched),u(4),T("ngModel",t.salonData.longitud),u(2),b("ngIf",y.invalid&&y.touched),u(5),T("ngModel",t.salonData.id_province),u(4),b("ngForOf",t.provinces),u(),b("ngIf",C.invalid&&C.touched),u(4),T("ngModel",t.salonData.id_city),u(4),b("ngForOf",t.cities),u(),b("ngIf",E.invalid&&E.touched),u(5),T("ngModel",t.salonData.map),u(4),T("ngModel",t.salonData.url),u(5),T("ngModel",t.salonData.about_us),u(5),T("ngModel",t.salonData.categories)}},dependencies:[ue,ce,lt,Je,Qe,Ke,me,Tr,Ve,je,fe,$e,ut,Ce,Ye,ge,_e,ve],styles:[".form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#b91622}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}"]})}}return i})();var it=(()=>{class i{constructor(e,n){this.authService=e,this.router=n}canActivate(e,n){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(n){return new(n||i)(L(Ui),L(qe))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Qh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getDataUser(e){let n=new ye().set("id_user",e.toString());return this.http.get(`${this.baseUrl}/profile-user/getDataUser`,{params:n})}getProvinces(){return this.http.get(`${this.baseUrl}/profile-user/getProvincesForProfile`)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/profile-user/getCitiesByProvinceForProfile`,{params:{id_province:e.toString()}})}updateUserData(e){return this.http.put(`${this.baseUrl}/profile-user/updateUser`,e)}updateUserPassword(e,n){let t={id_user:e,password:n};return this.http.put(`${this.baseUrl}/profile-user/updateUserPassword`,t)}uploadProfilePicture(e,n){return this.http.put(`${this.baseUrl}/profile-user/uploadProfilePicture/${e}`,n)}desactivateAccount(e){let n=`${this.baseUrl}/profile-user/desactivateAccount/${e}`,t={status:0};return this.http.patch(n,t)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function dC(i,r){i&1&&(s(0,"div",63),c(1," Nombre es obligatorio "),a())}function uC(i,r){i&1&&(s(0,"div",63),c(1," Apellidos son obligatorios "),a())}function mC(i,r){i&1&&(s(0,"div",63),c(1," Introduzca un correo electr\xF3nico v\xE1lido "),a())}function hC(i,r){i&1&&(s(0,"div",63),c(1," N\xFAmero de tel\xE9fono es obligatorio y debe tener 9 d\xEDgitos "),a())}function pC(i,r){i&1&&(s(0,"div",63),c(1," Direcci\xF3n es obligatoria "),a())}function fC(i,r){if(i&1&&(s(0,"option",64),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function gC(i,r){i&1&&(s(0,"div",63),c(1," Provincia es obligatoria "),a())}function _C(i,r){if(i&1&&(s(0,"option",64),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function vC(i,r){i&1&&(s(0,"div",63),c(1," Poblaci\xF3n es obligatoria "),a())}function bC(i,r){if(i&1){let e=z();s(0,"div")(1,"div",18)(2,"div",19)(3,"div",20),h(4,"img",21),a(),s(5,"div",22)(6,"label",23),c(7,"Subir imagen"),a(),s(8,"input",24),f("change",function(t){g(e);let o=x();return _(o.onFileSelected(t))}),a(),s(9,"p",25),c(10," Archivos permitidos JPG, GIF o PNG. Tama\xF1o m\xE1ximo 800K "),a()()()(),s(11,"form",26),f("ngSubmit",function(){g(e);let t=x();return _(t.UpdateUserData())}),s(12,"div",27)(13,"div",28)(14,"label",29),c(15,"Nombre"),a(),s(16,"input",30,0),I("ngModelChange",function(t){g(e);let o=x();return A(o.userData.name,t)||(o.userData.name=t),_(t)}),a(),D(18,dC,2,0,"div",31),a(),s(19,"div",28)(20,"label",32),c(21,"Apellidos"),a(),s(22,"input",33,1),I("ngModelChange",function(t){g(e);let o=x();return A(o.userData.lastname,t)||(o.userData.lastname=t),_(t)}),a(),D(24,uC,2,0,"div",31),a()(),s(25,"div",27)(26,"div",28)(27,"label",34),c(28,"E-mail"),a(),s(29,"input",35,2),I("ngModelChange",function(t){g(e);let o=x();return A(o.userData.email,t)||(o.userData.email=t),_(t)}),a(),D(31,mC,2,0,"div",31),a(),s(32,"div",28)(33,"label",36),c(34,"N\xBA de Tel\xE9fono"),a(),s(35,"input",37,3),I("ngModelChange",function(t){g(e);let o=x();return A(o.userData.phone,t)||(o.userData.phone=t),_(t)}),a(),D(37,hC,2,0,"div",31),a()(),s(38,"div",27)(39,"div",28)(40,"label",38),c(41,"Direcci\xF3n"),a(),s(42,"input",39,4),I("ngModelChange",function(t){g(e);let o=x();return A(o.userData.address,t)||(o.userData.address=t),_(t)}),a(),D(44,pC,2,0,"div",31),a(),s(45,"div",40)(46,"label",41),c(47,"Provincia"),a(),s(48,"select",42,5),I("ngModelChange",function(t){g(e);let o=x();return A(o.userData.id_province,t)||(o.userData.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),s(50,"option",43),c(51," Seleccione una provincia "),a(),D(52,fC,2,2,"option",44),a(),D(53,gC,2,0,"div",31),a(),s(54,"div",40)(55,"label",45),c(56,"Poblaci\xF3n"),a(),s(57,"select",46,6),I("ngModelChange",function(t){g(e);let o=x();return A(o.userData.id_city,t)||(o.userData.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.userData.id_city))}),s(59,"option",43),c(60," Seleccione una poblaci\xF3n "),a(),D(61,_C,2,3,"option",44),a(),D(62,vC,2,0,"div",31),a()(),s(63,"button",47),c(64," Guardar "),a(),s(65,"button",48),c(66,"Cancelar"),a()(),s(67,"div",49)(68,"div",16)(69,"h5"),c(70,"Cambiar contrase\xF1a"),a(),s(71,"form",26),f("ngSubmit",function(){g(e);let t=x();return _(t.changePassword())}),s(72,"div",27)(73,"div",50)(74,"label",51),c(75,"Contrase\xF1a"),a(),s(76,"input",52),I("ngModelChange",function(t){g(e);let o=x();return A(o.password,t)||(o.password=t),_(t)}),a(),s(77,"button",53),f("click",function(){g(e);let t=x();return _(t.togglePasswordVisibility())}),h(78,"i",54),a()(),s(79,"div",50)(80,"label",55),c(81,"Repetir contrase\xF1a"),a(),s(82,"input",56),I("ngModelChange",function(t){g(e);let o=x();return A(o.confirmPassword,t)||(o.confirmPassword=t),_(t)}),a(),s(83,"button",53),f("click",function(){g(e);let t=x();return _(t.toggleConfirmPasswordVisibility())}),h(84,"i",54),a()()(),s(85,"button",57),c(86," Cambiar contrase\xF1a "),a()()()(),s(87,"div",49)(88,"div",16)(89,"h5"),c(90,"Desactivar cuenta"),a(),s(91,"div",58)(92,"strong"),c(93,"\xBFEst\xE1s seguro de que quieres desactivar tu cuenta?"),a(),h(94,"br"),c(95," Una vez que desactives tu cuenta, no hay vuelta atr\xE1s. Por favor est\xE9 seguro. "),a(),s(96,"div",59)(97,"input",60),I("ngModelChange",function(t){g(e);let o=x();return A(o.isConfirmed,t)||(o.isConfirmed=t),_(t)}),a(),s(98,"label",61),c(99," Confirmo la desactivaci\xF3n de mi cuenta "),a()(),s(100,"button",62),f("click",function(){g(e);let t=x();return _(t.desactivateAccount(t.id_user))}),c(101," Desactivar cuenta "),a()()()()}if(i&2){let e=Se(17),n=Se(23),t=Se(30),o=Se(36),l=Se(43),d=Se(49),m=Se(58),v=x();u(4),b("src",v.userData.avatar_path||"../../../assets/img/sello.jpg",Ie),u(12),T("ngModel",v.userData.name),u(2),b("ngIf",e.invalid&&e.touched),u(4),T("ngModel",v.userData.lastname),u(2),b("ngIf",n.invalid&&n.touched),u(5),T("ngModel",v.userData.email),u(2),b("ngIf",t.invalid&&t.touched),u(4),T("ngModel",v.userData.phone),u(2),b("ngIf",o.invalid&&o.touched),u(5),T("ngModel",v.userData.address),u(2),b("ngIf",l.invalid&&l.touched),u(4),T("ngModel",v.userData.id_province),u(4),b("ngForOf",v.provinces),u(),b("ngIf",d.invalid&&d.touched),u(4),T("ngModel",v.userData.id_city),u(4),b("ngForOf",v.cities),u(),b("ngIf",m.invalid&&m.touched),u(14),b("type",v.showPassword?"text":"password"),T("ngModel",v.password),u(2),b("ngClass",v.showPassword?"las la-eye-slash":"las la-eye"),u(4),b("type",v.showConfirmPassword?"text":"password"),T("ngModel",v.confirmPassword),u(2),b("ngClass",v.showConfirmPassword?"las la-eye-slash":"las la-eye"),u(13),T("ngModel",v.isConfirmed),u(3),b("disabled",!v.isConfirmed)}}var fc=(()=>{class i{constructor(e,n,t){this.profileService=e,this.toastr=n,this.router=t,this.userData={},this.id_user="",this.errorMessage="",this.cities=[],this.provinces=[],this.confirmPassword="",this.password="",this.isConfirmed=!1,this.showPassword=!1,this.showConfirmPassword=!1}ngOnInit(){let e=localStorage.getItem("usuarioId");e&&(this.id_user=e,this.userData.id_city="",this.getDataUser())}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}getDataUser(){this.profileService.getDataUser(this.id_user).subscribe(e=>{Array.isArray(e.data)&&e.data.length>0&&(this.userData=e.data[0],this.userData.id_city||(this.userData.id_city=""),this.userData.id_province&&this.loadCities(this.userData.id_province,!0),this.loadProvinces())},e=>{this.errorMessage="Error fetching user data",console.error("Error fetching user data:",e)})}loadProvinces(){this.profileService.getProvinces().subscribe(e=>{this.provinces=e.data,this.provinces.length>0&&(this.userData.id_province||(this.userData.id_province=this.provinces[0].id_province,this.loadCities(this.userData.id_province)))},e=>{console.error("Error fetching provinces:",e)})}loadCities(e,n=!1){this.profileService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.userData.id_city!==""){let o=this.cities.find(l=>l.id_city===this.userData.id_city);o&&(this.userData.city_name=o.city_name)}else this.userData.id_city=this.cities[0].id_city,this.userData.city_name=this.cities[0].city_name},t=>{console.error("Error fetching cities:",t)})}onProvinceChange(e){let n=e.target,t=Number(n.value);t?(this.loadCities(t),this.userData.id_city=""):this.cities=[]}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.userData.id_city=n.id_city)}UpdateUserData(){if(!this.userData.name){this.toastr.warning("Por favor, ingrese el nombre.");return}if(!this.userData.lastname){this.toastr.warning("Por favor, ingrese los apellidos.");return}if(!this.userData.email){this.toastr.warning("Por favor, ingrese el correo electr\xF3nico.");return}if(!this.userData.phone){this.toastr.warning("Por favor, ingrese el n\xFAmero de tel\xE9fono.");return}if(!this.userData.address){this.toastr.warning("Por favor, ingrese la direcci\xF3n.");return}if(!this.userData.id_province){this.toastr.warning("Por favor, seleccione una provincia.");return}if(!this.userData.id_city){this.toastr.warning("Por favor, seleccione una poblaci\xF3n.");return}console.log("Saving user data:",this.userData),this.profileService.updateUserData(this.userData).subscribe(e=>{this.toastr.success('<i class="las la-info-circle"> Datos actulizados con \xE9xito</i>'),console.log("User data saved successfully:",e)},e=>{console.error("Error saving user data:",e),this.errorMessage="Error saving user data",this.toastr.error('<i class="las la-info-circle"> No se pudieron actualizar los datos</i>')})}changePassword(){if(this.password!==this.confirmPassword){this.errorMessage="Las contrase\xF1as no coinciden",this.toastr.error('<i class="las la-info-circle"> Las contrase\xF1as no coinciden</i>');return}if(!this.password||this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres",this.toastr.error('<i class="las la-info-circle"> La contrase\xF1a debe tener al menos 6 caracteres</i>');return}console.log(this.userData.id_user),this.profileService.updateUserPassword(this.userData.id_user,this.password).subscribe(e=>{console.log("Contrase\xF1a cambiada exitosamente",e),this.toastr.success('<i class="las la-info-circle"> Contrase\xF1a actualizada con \xE9xito</i>'),this.password="",this.confirmPassword=""},e=>{console.error("Error al cambiar la contrase\xF1a",e),this.toastr.error('<i class="las la-info-circle"> Error al cambiar la contrase\xF1a</i>')})}onFileSelected(e){let n=e.target.files[0];if(n){if(n.size>819200){this.toastr.error("El archivo excede el tama\xF1o m\xE1ximo permitido de 800 KB.");return}if(!["image/jpeg","image/png","image/gif"].includes(n.type)){this.toastr.error("Formato de archivo no v\xE1lido. Solo se permiten JPG, GIF o PNG.");return}this.uploadProfilePicture(n)}}uploadProfilePicture(e){let n=new FormData;n.append("profilePicture",e),this.profileService.uploadProfilePicture(this.userData.id_user,n).subscribe(t=>{this.toastr.success("Foto de perfil actualizada exitosamente."),this.userData.profilePicture=t.imageUrl,window.location.reload()},t=>{console.error("Error al subir la foto de perfil",t),this.toastr.error("Error al subir la foto de perfil.")})}desactivateAccount(e){this.isConfirmed&&this.profileService.desactivateAccount(e).subscribe({next:n=>{console.log("Cuenta desactivada con \xE9xito",n),this.router.navigate(["/login"])},error:n=>{console.error("Error al desactivar la cuenta",n)}})}static{this.\u0275fac=function(n){return new(n||i)(B(Qh),B(xe),B(qe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-profile"]],decls:20,vars:1,consts:[["name","ngModel"],["lastname","ngModel"],["email","ngModel"],["phone","ngModel"],["address","ngModel"],["id_province","ngModel"],["id_city","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[1,"row","mb-4"],[1,"col-12","d-flex","flex-column","flex-md-row","align-items-center"],[1,"me-md-3","mb-3","mb-md-0","text-center","text-md-start"],["alt","Foto de perfil",1,"img-fluid","profile-img",3,"src"],[1,"col-12","col-md-6"],["for","fileInput",1,"form-label"],["type","file","accept",".jpg, .jpeg, .png, .gif","id","fileInput",1,"form-control",3,"change"],[1,"small","text-muted","mt-1"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone","required","","pattern","^\\d{9}$",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["type","submit",1,"btn","btn-danger","me-2"],["type","reset",1,"btn","btn-secondary"],[1,"card","mt-4"],[1,"col-md-6","position-relative"],["for","password",1,"form-label"],["id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",2,"position","absolute","right","10px","top","35px","background","none","border","none",3,"click"],[3,"ngClass"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","name","confirmPassword","placeholder","Repetir contrase\xF1a...",1,"form-control",3,"ngModelChange","type","ngModel"],["type","submit",1,"btn","btn-warning"],["role","alert",1,"alert","alert-warning"],[1,"form-check","mb-3"],["type","checkbox","id","confirmDeactivation",1,"form-check-input",3,"ngModelChange","ngModel"],["for","confirmDeactivation",1,"form-check-label"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"text-danger"],[3,"value"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",7),h(2,"app-aside"),s(3,"div",8)(4,"main")(5,"div",9)(6,"h1",10),c(7,"Panel de control"),a(),s(8,"ol",11)(9,"li",12),c(10," Ajuste de cuenta / "),s(11,"b"),c(12,"Mi cuenta"),a()()(),s(13,"div",13)(14,"div",14),h(15,"img",15),c(16," Mi perfil "),a(),s(17,"div",16),D(18,bC,102,25,"div",17),a()()()(),h(19,"app-footer"),a()()),n&2&&(u(18),b("ngIf",t.userData))},dependencies:[Ai,ue,ce,Je,Qe,Ke,me,Ve,je,fe,$e,ut,gi,Ar,Ce,Ye,ge,_e,ve],styles:[".profile-img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:50%;display:block}.custom-file-upload[_ngcontent-%COMP%]{position:relative;display:inline-block}.custom-file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0;cursor:pointer;width:100%;height:100%}.custom-file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;cursor:pointer;background-color:#007bff;color:#fff;border:1px solid transparent;border-radius:4px}.custom-file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return i})();var Kh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getClientById(e){return this.http.get(`${this.baseUrl}/edithome/getSalonById`,{params:{id_salon:e}})}getProvinces(){return this.http.get(`${this.baseUrl}/new-client/getProvincesForNewClient`)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/new-client/getCitiesByProvinceForNewClient`,{params:{id_province:e.toString()}})}uploadProfilePicture(e,n){return this.http.put(`${this.baseUrl}/new-client/uploadProfilePicture/${e}`,n)}addNewClient(e,n,t,o,l,d,m,v,p){let y={name:e,lastname:n,email:t,phone:o,address:l,id_province:d,id_city:m,dni:v,password:p};return console.log("datos enviados al backend:",y),this.http.post(`${this.baseUrl}/new-client/addNewClient`,y)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function CC(i,r){i&1&&(s(0,"div",45),c(1,"El nombre es obligatorio"),a())}function xC(i,r){i&1&&(s(0,"div",45),c(1,"Los apellidos son obligatorios"),a())}function SC(i,r){i&1&&(s(0,"div",45),c(1,"El correo electronico es obligatorio"),a())}function wC(i,r){i&1&&(s(0,"div",45),c(1," El correo electronico no es v\xE1lido "),a())}function EC(i,r){i&1&&(s(0,"div",45),c(1," El n\xBA de tel\xE9fono es obligatorio y tiene que tener 9 n\xFAmeros "),a())}function MC(i,r){i&1&&(s(0,"div",45),c(1,"La direcci\xF3n es obligatoria"),a())}function DC(i,r){if(i&1&&(s(0,"option",46),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function TC(i,r){i&1&&(s(0,"div",45),c(1,"La provincia es obligatoria"),a())}function AC(i,r){if(i&1&&(s(0,"option",46),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function IC(i,r){i&1&&(s(0,"div",45),c(1,"La poblaci\xF3n es obligatoria"),a())}function kC(i,r){i&1&&(s(0,"div",45),c(1,"El DNI es obligatorio"),a())}function PC(i,r){i&1&&(s(0,"div",45),c(1," El DNI no es v\xE1lido "),a())}function FC(i,r){i&1&&(s(0,"div",45),c(1,"La contrase\xF1a es obligatoria"),a())}function OC(i,r){i&1&&(s(0,"div",45),c(1,"La contrase\xF1a debe tener al menos 6 caracteres"),a())}function NC(i,r){i&1&&(s(0,"div",45),c(1,"Las contrasen\u0303as no coinciden"),a())}function BC(i,r){if(i&1){let e=z();s(0,"div")(1,"form",14),f("ngSubmit",function(){g(e);let t=x();return _(t.addNewClient())}),s(2,"div",15)(3,"div",16)(4,"label",17),c(5,"Nombre"),a(),s(6,"input",18),I("ngModelChange",function(t){g(e);let o=x();return A(o.name,t)||(o.name=t),_(t)}),a(),D(7,CC,2,0,"div",19),a(),s(8,"div",16)(9,"label",20),c(10,"Apellidos"),a(),s(11,"input",21),I("ngModelChange",function(t){g(e);let o=x();return A(o.lastname,t)||(o.lastname=t),_(t)}),a(),D(12,xC,2,0,"div",19),a()(),s(13,"div",15)(14,"div",16)(15,"label",22),c(16,"E-mail"),a(),s(17,"input",23,0),I("ngModelChange",function(t){g(e);let o=x();return A(o.email,t)||(o.email=t),_(t)}),a(),D(19,SC,2,0,"div",19)(20,wC,2,0,"div",19),a(),s(21,"div",16)(22,"label",24),c(23,"N\xBA de Tel\xE9fono"),a(),s(24,"input",25),I("ngModelChange",function(t){g(e);let o=x();return A(o.phone,t)||(o.phone=t),_(t)}),a(),D(25,EC,2,0,"div",19),a()(),s(26,"div",15)(27,"div",16)(28,"label",26),c(29,"Direcci\xF3n"),a(),s(30,"input",27),I("ngModelChange",function(t){g(e);let o=x();return A(o.address,t)||(o.address=t),_(t)}),a(),D(31,MC,2,0,"div",19),a(),s(32,"div",28)(33,"label",29),c(34,"Provincia"),a(),s(35,"select",30),I("ngModelChange",function(t){g(e);let o=x();return A(o.id_province,t)||(o.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),s(36,"option",31),c(37,"Seleccione una provincia"),a(),D(38,DC,2,2,"option",32),a(),D(39,TC,2,0,"div",19),a(),s(40,"div",28)(41,"label",33),c(42,"Poblaci\xF3n"),a(),s(43,"select",34),I("ngModelChange",function(t){g(e);let o=x();return A(o.id_city,t)||(o.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.userData.id_city))}),D(44,AC,2,3,"option",32),a(),D(45,IC,2,0,"div",19),a()(),s(46,"div",35)(47,"div",16)(48,"label",36),c(49,"NIF"),a(),s(50,"input",37,1),I("ngModelChange",function(t){g(e);let o=x();return A(o.dni,t)||(o.dni=t),_(t)}),a(),D(52,kC,2,0,"div",19)(53,PC,2,0,"div",19),a()(),s(54,"div",38)(55,"div",12)(56,"h5"),c(57,"Nueva Contrase\xF1a"),a(),s(58,"div",15)(59,"div",16)(60,"label",39),c(61,"Contrase\xF1a"),a(),s(62,"input",40,2),I("ngModelChange",function(t){g(e);let o=x();return A(o.password,t)||(o.password=t),_(t)}),a(),D(64,FC,2,0,"div",19)(65,OC,2,0,"div",19),a(),s(66,"div",16)(67,"label",41),c(68,"Repetir contrase\xF1a"),a(),s(69,"input",42),I("ngModelChange",function(t){g(e);let o=x();return A(o.confirmPassword,t)||(o.confirmPassword=t),_(t)}),a(),D(70,NC,2,0,"div",19),a()()()(),s(71,"button",43),c(72," Guardar "),a(),s(73,"button",44),c(74,"Cancelar"),a()()()}if(i&2){let e=Se(18),n=Se(51),t=x();u(6),T("ngModel",t.name),u(),b("ngIf",!t.name&&t.formValid),u(4),T("ngModel",t.lastname),u(),b("ngIf",!t.lastname&&t.formValid),u(5),T("ngModel",t.email),u(2),b("ngIf",!t.email&&t.formValid),u(),b("ngIf",e.invalid&&e.touched),u(4),T("ngModel",t.phone),u(),b("ngIf",t.formValid&&(!t.phone||t.phone.length!=9)),u(5),T("ngModel",t.address),u(),b("ngIf",!t.address&&t.formValid),u(4),T("ngModel",t.id_province),u(3),b("ngForOf",t.provinces),u(),b("ngIf",!t.id_province&&t.formValid),u(4),T("ngModel",t.id_city),u(),b("ngForOf",t.cities),u(),b("ngIf",!t.id_city&&t.formValid),u(5),T("ngModel",t.dni),u(2),b("ngIf",!t.dni&&t.formValid),u(),b("ngIf",n.invalid&&n.touched),u(9),T("ngModel",t.password),u(2),b("ngIf",!t.password&&t.formValid),u(),b("ngIf",t.password&&t.password.length<6),u(4),T("ngModel",t.confirmPassword),u(),b("ngIf",t.confirmPassword!==t.password)}}var Zh=(()=>{class i{constructor(e,n){this.toastr=e,this.newClientService=n,this.password="",this.name="",this.lastname="",this.email="",this.phone="",this.address="",this.id_province="",this.id_city="",this.dni="",this.confirmPassword="",this.errorMessage="",this.userData=[],this.cities=[],this.provinces=[],this.errors={},this.formValid=!1}ngOnInit(){this.getProvinces()}addNewClient(){this.formValid=!0,!(!this.name||!this.lastname||!this.email||!this.phone||!this.address||!this.id_province||!this.id_city||!this.dni||!this.password||!this.confirmPassword)&&(console.log("Contrase\xF1a",this.address),this.newClientService.addNewClient(this.name,this.lastname,this.email,this.phone,this.address,this.id_province,this.id_city,this.dni,this.password).subscribe(e=>{this.toastr.success('<i class="las la-info-circle"></i> Cliente creado con \xE9xito')},e=>{console.error("Error al crear el cliente:",e),e.status===409&&e.error&&e.error.error==="User with this email already exists"?this.toastr.error('<i class="las la-exclamation-circle"></i> El correo electr\xF3nico ya est\xE1 registrado.'):e.status===409&&e.error&&e.error.error==="User with this dni already exists"?this.toastr.error('<i class="las la-exclamation-circle"></i> El DNI ya est\xE1 registrado.'):this.toastr.error('<i class="las la-info-circle"></i> Error al crear cliente')}))}getProvinces(){this.newClientService.getProvinces().subscribe(e=>{this.provinces=e.data,this.provinces.length>0&&(this.userData.id_province=this.provinces[0].id_province,this.getCities(this.userData.id_province,!0))},e=>{console.error("Error fetching provinces:",e)})}getCities(e,n=!1){this.newClientService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.userData.id_city){let o=this.cities.find(l=>l.id_city===this.userData.id_city);o&&(this.userData.city_name=o.city_name)}else this.userData.id_city=this.cities[0].id_city,this.userData.city_name=this.cities[0].city_name;else this.userData.id_city="",this.cities=[]},t=>{console.error("Error fetching cities:",t)})}onProvinceChange(e){let n=e.target,t=Number(n.value);t?(this.getCities(t),this.userData.id_city=""):this.cities=[]}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.userData.id_city=n.id_city)}onFileSelected(e){let n=e.target.files[0];if(n){if(n.size>819200){this.toastr.error("El archivo excede el tama\xF1o m\xE1ximo permitido de 800 KB.");return}if(!["image/jpeg","image/png","image/gif"].includes(n.type)){this.toastr.error("Formato de archivo no v\xE1lido. Solo se permiten JPG, GIF o PNG.");return}this.uploadProfilePicture(n)}}uploadProfilePicture(e){let n=new FormData;n.append("profilePicture",e),this.newClientService.uploadProfilePicture(this.userData.id_user,n).subscribe(t=>{this.toastr.success("Foto de perfil actualizada exitosamente."),this.userData.profilePicture=t.imageUrl,window.location.reload()},t=>{console.error("Error al subir la foto de perfil",t),this.toastr.error("Error al subir la foto de perfil.")})}static{this.\u0275fac=function(n){return new(n||i)(B(xe),B(Kh))}}static{this.\u0275cmp=re({type:i,selectors:[["app-new-client"]],decls:20,vars:1,consts:[["emailInput","ngModel"],["dniInput","ngModel"],["passwordInput","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone","min","9","max","9",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],[1,"row","mb-4"],["for","dni",1,"form-label"],["type","text","id","dni","name","dni","pattern","^[0-9]{8}[A-Z]$","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"card","mt-4"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","placeholder","Repetir contrase\xF1a...","name","confirmPassword",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/clients",1,"btn","btn-secondary","mt-3"],[1,"text-danger"],[3,"value"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",3),h(2,"app-aside"),s(3,"div",4)(4,"main")(5,"div",5)(6,"h1",6),c(7,"Panel de control"),a(),s(8,"ol",7)(9,"li",8),c(10," Ajuste de cuenta / "),s(11,"b"),c(12,"Nuevo Cliente"),a()()(),s(13,"div",9)(14,"div",10),h(15,"img",11),c(16," Mi perfil "),a(),s(17,"div",12),D(18,BC,75,25,"div",13),a()()()(),h(19,"app-footer"),a()()),n&2&&(u(18),b("ngIf",t.userData))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,ut,gi,Ce,Ye,ge,_e,ve],styles:[".profile-img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:50%;display:block}.custom-file-upload[_ngcontent-%COMP%]{position:relative;display:inline-block}.custom-file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0;cursor:pointer;width:100%;height:100%}.custom-file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;cursor:pointer;background-color:#007bff;color:#fff;border:1px solid transparent;border-radius:4px}.custom-file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return i})();var Yh=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getClientById(e){return this.http.get(`${this.baseUrl}/edit-client/getClientById`,{params:{id_user:e}})}updateClient(e){let n=e.id_user;return this.http.put(`${this.baseUrl}/edit-client/updateClient/${n}`,e)}uploadProfilePicture(e,n){return this.http.put(`${this.baseUrl}/edit-client/uploadProfilePicture/${e}`,n)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edit-client/getCitiesByProvinceForEditClient`,{params:{id_province:e.toString()}})}getProvinces(){return this.http.get(`${this.baseUrl}/edit-client/getProvinces`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function VC(i,r){i&1&&(s(0,"div",43),c(1,"El nombre es obligatorio."),a())}function LC(i,r){i&1&&(s(0,"div",43),c(1,"Los apellidos son obligatorios."),a())}function UC(i,r){i&1&&(s(0,"div",43),c(1,"El correo electronico es obligatorio"),a())}function jC(i,r){i&1&&(s(0,"div",43),c(1," El correo electronico no es v\xE1lido "),a())}function HC(i,r){i&1&&(s(0,"div",43),c(1," El n\xBA de tel\xE9fono es obligatorio y tiene que tener 9 n\xFAmeros. "),a())}function WC(i,r){i&1&&(s(0,"div",43),c(1,"La direcci\xF3n es obligatoria"),a())}function zC(i,r){if(i&1&&(s(0,"option",44),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function GC(i,r){i&1&&(s(0,"div",43),c(1,"La provincia es obligatoria"),a())}function qC(i,r){i&1&&(s(0,"div",43),c(1,"La poblaci\xF3n es obligatoria"),a())}function $C(i,r){if(i&1&&(s(0,"option",44),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function JC(i,r){i&1&&(s(0,"div",43),c(1,"La poblaci\xF3n es obligatoria"),a())}function QC(i,r){i&1&&(s(0,"div",43),c(1,"El DNI es obligatorio"),a())}function KC(i,r){i&1&&(s(0,"div",43),c(1," El DNI no es v\xE1lido "),a())}function ZC(i,r){i&1&&(s(0,"div",43),c(1,"La contrase\xF1a debe tener al menos 6 caracteres"),a())}function YC(i,r){if(i&1){let e=z();s(0,"div")(1,"form",13),f("ngSubmit",function(){g(e);let t=x();return _(t.updateClient())}),s(2,"div",14)(3,"div",15)(4,"label",16),c(5,"Nombre"),a(),s(6,"input",17),I("ngModelChange",function(t){g(e);let o=x();return A(o.clientData.name,t)||(o.clientData.name=t),_(t)}),a(),D(7,VC,2,0,"div",18),a(),s(8,"div",15)(9,"label",19),c(10,"Apellidos"),a(),s(11,"input",20),I("ngModelChange",function(t){g(e);let o=x();return A(o.clientData.lastname,t)||(o.clientData.lastname=t),_(t)}),a(),D(12,LC,2,0,"div",18),a()(),s(13,"div",14)(14,"div",15)(15,"label",21),c(16,"E-mail"),a(),s(17,"input",22,0),I("ngModelChange",function(t){g(e);let o=x();return A(o.clientData.email,t)||(o.clientData.email=t),_(t)}),a(),D(19,UC,2,0,"div",18)(20,jC,2,0,"div",18),a(),s(21,"div",15)(22,"label",23),c(23,"N\xBA de Tel\xE9fono"),a(),s(24,"input",24),I("ngModelChange",function(t){g(e);let o=x();return A(o.clientData.phone,t)||(o.clientData.phone=t),_(t)}),a(),D(25,HC,2,0,"div",18),a()(),s(26,"div",14)(27,"div",15)(28,"label",25),c(29,"Direcci\xF3n"),a(),s(30,"input",26),I("ngModelChange",function(t){g(e);let o=x();return A(o.clientData.address,t)||(o.clientData.address=t),_(t)}),a(),D(31,WC,2,0,"div",18),a(),s(32,"div",27)(33,"label",28),c(34,"Provincia"),a(),s(35,"select",29),I("ngModelChange",function(t){g(e);let o=x();return A(o.clientData.id_province,t)||(o.clientData.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),s(36,"option",30),c(37,"Seleccione una provincia"),a(),D(38,zC,2,2,"option",31),a(),D(39,GC,2,0,"div",18),a(),s(40,"div",27)(41,"label",32),c(42,"Poblaci\xF3n"),a(),s(43,"select",33),I("ngModelChange",function(t){g(e);let o=x();return A(o.clientData.id_city,t)||(o.clientData.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.clientData.id_city))}),D(44,qC,2,0,"div",18),s(45,"option",34),c(46,"Seleccione una poblaci\xF3n"),a(),D(47,$C,2,3,"option",31),a(),D(48,JC,2,0,"div",18),a()(),s(49,"div",35)(50,"div",15)(51,"label",36),c(52,"NIF"),a(),s(53,"input",37,1),I("ngModelChange",function(t){g(e);let o=x();return A(o.clientData.dni,t)||(o.clientData.dni=t),_(t)}),a(),D(55,QC,2,0,"div",18)(56,KC,2,0,"div",18),a()(),s(57,"div",38)(58,"div",11)(59,"h5"),c(60,"Editar Contrase\xF1a"),a(),s(61,"div",14)(62,"div",15)(63,"label",39),c(64,"Contrase\xF1a"),a(),s(65,"input",40),I("ngModelChange",function(t){g(e);let o=x();return A(o.clientData.password,t)||(o.clientData.password=t),_(t)}),a(),D(66,ZC,2,0,"div",18),a()()()(),s(67,"button",41),c(68," Guardar "),a(),s(69,"button",42),c(70,"Cancelar"),a()()()}if(i&2){let e=Se(18),n=Se(54),t=x();u(6),T("ngModel",t.clientData.name),u(),b("ngIf",!t.clientData.name&&t.formValid),u(4),T("ngModel",t.clientData.lastname),u(),b("ngIf",!t.clientData.lastname&&t.formValid),u(5),T("ngModel",t.clientData.email),u(2),b("ngIf",!t.clientData.email&&t.formValid),u(),b("ngIf",e.invalid&&e.touched),u(4),T("ngModel",t.clientData.phone),u(),b("ngIf",t.formValid&&(!t.clientData.phone||t.clientData.phone.length!=9)),u(5),T("ngModel",t.clientData.address),u(),b("ngIf",!t.clientData.address&&t.formValid),u(4),T("ngModel",t.clientData.id_province),u(3),b("ngForOf",t.provinces),u(),b("ngIf",!t.clientData.id_province&&t.formValid),u(4),T("ngModel",t.clientData.id_city),u(),b("ngIf",!t.clientData.id_city&&t.formValid),u(3),b("ngForOf",t.cities),u(),b("ngIf",!t.clientData.id_city&&t.formValid),u(5),T("ngModel",t.clientData.dni),u(2),b("ngIf",!t.clientData.dni&&t.formValid),u(),b("ngIf",n.invalid&&n.touched),u(9),T("ngModel",t.clientData.password),u(),b("ngIf",t.clientData.password&&t.clientData.password.length<6)}}var Xh=(()=>{class i{constructor(e,n,t){this.editClientService=e,this.toastr=n,this.route=t,this.userData={},this.provinces=[],this.cities=[],this.clientData=[],this.formValid=!1}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.getClientData(+e):console.error("No id_user found in the URL"),this.getProvinces()}updateClient(){if(this.formValid=!0,!this.clientData.name||!this.clientData.lastname||!this.clientData.phone||!this.clientData.email||!this.clientData.address||!this.clientData.id_province||!this.clientData.id_city||!this.clientData.dni){this.toastr.error("Por favor, complete todos los campos obligatorios.");return}this.editClientService.updateClient(this.clientData).subscribe(e=>{console.log("Cliente actualizado exitosamente",e),this.toastr.success("Cambios realizados con \xE9xito")},e=>{console.error("Error al actualizar el cliente",e),e.status===409&&e.error?e.error.message==="El correo electr\xF3nico ya est\xE1 registrado."?this.toastr.error("El correo electr\xF3nico ya est\xE1 registrado."):e.error.message==="El DNI ya est\xE1 registrado."?this.toastr.error("El DNI ya est\xE1 registrado."):this.toastr.error("No se realizaron los cambios."):this.toastr.error("No se realizaron los cambios.")})}getClientData(e){this.editClientService.getClientById(e).subscribe(n=>{this.clientData=n.data,console.log(this.clientData),this.clientData.id_province&&this.getCities(this.clientData.id_province,!0)},n=>{console.error("Error fetching client data:",n)})}onFileSelected(e){let n=e.target.files[0];if(n){if(n.size>819200){this.toastr.error("El archivo excede el tama\xF1o m\xE1ximo permitido de 800 KB.");return}if(!["image/jpeg","image/png","image/gif"].includes(n.type)){this.toastr.error("Formato de archivo no v\xE1lido. Solo se permiten JPG, GIF o PNG.");return}this.uploadProfilePicture(n)}}uploadProfilePicture(e){let n=new FormData;n.append("profilePicture",e),this.editClientService.uploadProfilePicture(this.userData.id_user,n).subscribe(t=>{this.toastr.success("Foto de perfil actualizada exitosamente."),this.userData.profilePicture=t.imageUrl,window.location.reload()},t=>{console.error("Error al subir la foto de perfil",t),this.toastr.error("Error al subir la foto de perfil.")})}getProvinces(){this.editClientService.getProvinces().subscribe(e=>{this.provinces=e.data},e=>{console.error("Error fetching provinces:",e)})}onProvinceChange(e){let n;if(typeof e=="number")n=e;else if(e&&e.target){let t=e.target;n=Number(t.value)}else{console.error("Event o target es undefined en onProvinceChange");return}!isNaN(n)&&n>0?this.getCities(n):this.cities=[]}getCities(e,n=!1){this.editClientService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.clientData.id_city){let o=this.cities.find(l=>l.id_city===this.clientData.id_city);o&&(this.clientData.id_city=o.id_city)}else this.clientData.id_city||(this.clientData.id_city=this.cities[0].id_city);else this.clientData.id_city=""},t=>{console.error("Error fetching cities:",t)})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.clientData.id_city=n.id_city)}static{this.\u0275fac=function(n){return new(n||i)(B(Yh),B(xe),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-client"]],decls:20,vars:1,consts:[["emailInput","ngModel"],["dniInput","ngModel"],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["disabled","","selected",""],[1,"row","mb-4"],["for","permiso",1,"form-label"],["type","text","id","dni","name","dni","pattern","^[0-9]{8}[A-Z]$","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"card","mt-4"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/clients",1,"btn","btn-secondary","mt-3"],[1,"text-danger"],[3,"value"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",2),h(2,"app-aside"),s(3,"div",3)(4,"main")(5,"div",4)(6,"h1",5),c(7,"Panel de control"),a(),s(8,"ol",6)(9,"li",7),c(10," Ajuste de cuenta / "),s(11,"b"),c(12,"Editar Cliente"),a()()(),s(13,"div",8)(14,"div",9),h(15,"img",10),c(16," Editar Cliente "),a(),s(17,"div",11),D(18,YC,71,23,"div",12),a()()()(),h(19,"app-footer"),a()()),n&2&&(u(18),b("ngIf",t.clientData))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,ut,gi,Ce,Ye,ge,_e,ve],styles:[".profile-img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:50%;display:block}"]})}}return i})();var ep=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getAdminById(e){return this.http.get(`${this.baseUrl}/edit-admin/getAdminById`,{params:{id_user:e}})}updateAdmin(e){let n=e.id_user;return this.http.put(`${this.baseUrl}/edit-admin/updateAdmin/${n}`,e)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edit-admin/getCitiesByProvinceForEditAdmin`,{params:{id_province:e.toString()}})}getProvinces(){return this.http.get(`${this.baseUrl}/edit-admin/getProvinces`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ex(i,r){if(i&1&&(s(0,"option",44),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function tx(i,r){if(i&1&&(s(0,"option",44),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function ix(i,r){if(i&1){let e=z();s(0,"div")(1,"form",11),f("ngSubmit",function(){g(e);let t=x();return _(t.updateAdmin())}),s(2,"div",12)(3,"div",13)(4,"label",14),c(5,"Nombre"),a(),s(6,"input",15),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.name,t)||(o.adminData.name=t),_(t)}),a()(),s(7,"div",13)(8,"label",16),c(9,"Apellidos"),a(),s(10,"input",17),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.lastname,t)||(o.adminData.lastname=t),_(t)}),a()()(),s(11,"div",12)(12,"div",13)(13,"label",18),c(14,"E-mail"),a(),s(15,"input",19),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.email,t)||(o.adminData.email=t),_(t)}),a()(),s(16,"div",13)(17,"label",20),c(18,"N\xBA de Tel\xE9fono"),a(),s(19,"input",21),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.phone,t)||(o.adminData.phone=t),_(t)}),a()()(),s(20,"div",12)(21,"div",13)(22,"label",22),c(23,"Direcci\xF3n"),a(),s(24,"input",23),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.address,t)||(o.adminData.address=t),_(t)}),a()(),s(25,"div",24)(26,"label",25),c(27,"Provincia"),a(),s(28,"select",26),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.id_province,t)||(o.adminData.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),D(29,ex,2,2,"option",27),a()(),s(30,"div",24)(31,"label",28),c(32,"Poblaci\xF3n"),a(),s(33,"select",29),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.id_city,t)||(o.adminData.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.adminData.id_city))}),D(34,tx,2,3,"option",27),a()()(),s(35,"div",30)(36,"div",13)(37,"label",31),c(38,"NIF"),a(),s(39,"input",32),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.dni,t)||(o.adminData.dni=t),_(t)}),a()(),s(40,"div",13)(41,"label",33),c(42,"Permiso"),a(),s(43,"select",34),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.permiso,t)||(o.adminData.permiso=t),_(t)}),s(44,"option",35),c(45,"Administrador"),a(),s(46,"option",36),c(47,"Cliente"),a()()()(),s(48,"div",37)(49,"div",9)(50,"h5"),c(51,"Nueva Contrase\xF1a"),a(),s(52,"div",12)(53,"div",13)(54,"label",38),c(55,"Contrase\xF1a"),a(),s(56,"input",39),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.password,t)||(o.adminData.password=t),_(t)}),a()(),s(57,"div",13)(58,"label",40),c(59,"Repetir contrase\xF1a"),a(),s(60,"input",41),I("ngModelChange",function(t){g(e);let o=x();return A(o.adminData.confirmPassword,t)||(o.adminData.confirmPassword=t),_(t)}),a()()()()(),s(61,"button",42),c(62," Guardar "),a(),s(63,"button",43),c(64,"Cancelar"),a()()()}if(i&2){let e=x();u(6),T("ngModel",e.adminData.name),u(4),T("ngModel",e.adminData.lastname),u(5),T("ngModel",e.adminData.email),u(4),T("ngModel",e.adminData.phone),u(5),T("ngModel",e.adminData.address),u(4),T("ngModel",e.adminData.id_province),u(),b("ngForOf",e.provinces),u(4),T("ngModel",e.adminData.id_city),u(),b("ngForOf",e.cities),u(5),T("ngModel",e.adminData.dni),u(4),T("ngModel",e.adminData.permiso),u(13),T("ngModel",e.adminData.password),u(4),T("ngModel",e.adminData.confirmPassword)}}var tp=(()=>{class i{constructor(e,n,t){this.editAdmistratorsService=e,this.toastr=n,this.route=t,this.adminData=[],this.cities=[],this.provinces=[],this.userData=[]}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.getAdminData(+e):console.error("No id_user found in the URL"),this.getProvinces()}getAdminData(e){this.editAdmistratorsService.getAdminById(e).subscribe(n=>{this.adminData=n.data,console.log(this.adminData),this.adminData.id_province&&this.getCities(this.adminData.id_province,!0)},n=>{console.error("Error fetching client data:",n)})}updateAdmin(){if(this.adminData.password!==this.adminData.confirmPassword){this.toastr.error("Las contrase\xF1as no coinciden");return}this.editAdmistratorsService.updateAdmin(this.adminData).subscribe(e=>{console.log("Administrador actualizado exitosamente",e),this.toastr.success("Cambios realizados con \xE9xito")},e=>{console.error("Error al actualizar el Administrador",e),this.toastr.error("No se realizaron los cambios")})}getProvinces(){this.editAdmistratorsService.getProvinces().subscribe(e=>{this.provinces=e.data},e=>{console.error("Error fetching provinces:",e)})}onProvinceChange(e){let n;if(typeof e=="number")n=e;else if(e&&e.target){let t=e.target;n=Number(t.value)}else{console.error("Event o target es undefined en onProvinceChange");return}!isNaN(n)&&n>0?this.getCities(n):this.cities=[]}getCities(e,n=!1){this.editAdmistratorsService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.adminData.id_city){let o=this.cities.find(l=>l.id_city===this.adminData.id_city);o&&(this.adminData.id_city=o.id_city)}else this.adminData.id_city||(this.adminData.id_city=this.cities[0].id_city);else this.adminData.id_city=""},t=>{console.error("Error fetching cities:",t)})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.adminData.id_city=n.id_city)}static{this.\u0275fac=function(n){return new(n||i)(B(ep),B(xe),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-administrators"]],decls:22,vars:1,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],[1,"row","mb-4"],["for","dni",1,"form-label"],["type","text","id","dni","name","dni",1,"form-control",3,"ngModelChange","ngModel"],["for","permiso",1,"form-label"],["id","permiso","name","permiso",1,"form-select",3,"ngModelChange","ngModel"],["value","admin"],["value","client"],[1,"card","mt-4"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","placeholder","Repetir contrase\xF1a...","name","confirmPassword",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/administrators",1,"btn","btn-secondary","mt-3"],[3,"value"]],template:function(n,t){n&1&&(s(0,"p"),c(1,"edit-client works!"),a(),h(2,"app-header"),s(3,"div",0),h(4,"app-aside"),s(5,"div",1)(6,"main")(7,"div",2)(8,"h1",3),c(9,"Panel de control"),a(),s(10,"ol",4)(11,"li",5),c(12," Ajuste de cuenta / "),s(13,"b"),c(14,"Editar Administrador"),a()()(),s(15,"div",6)(16,"div",7),h(17,"img",8),c(18," Editar Cliente "),a(),s(19,"div",9),D(20,ix,65,13,"div",10),a()()()(),h(21,"app-footer"),a()()),n&2&&(u(20),b("ngIf",t.adminData))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,ut,Ce,Ye,ge,_e,ve]})}}return i})();var ip=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllOwners(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/owner-salon/getAllOwners`,{params:o})}addNewOwner(e){return this.http.post(`${this.baseUrl}/owner-salon/addNewOwner`,e)}getUserEmail(e){return this.http.get(`${this.baseUrl}/owner-salon/searchEmailInLive`,{params:{email:e}})}getSalonName(e){return this.http.get(`${this.baseUrl}/owner-salon/searchSalonInLive`,{params:{name:e}})}deleteOwners(e){return this.http.post(`${this.baseUrl}/owner-salon/deleteOwners`,{ids:e})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function rx(i,r){i&1&&(s(0,"div",59)(1,"button",60),c(2,"Eliminar seleccionados"),a()())}function ox(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",61),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",62),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),Mt(10,"date"),a(),s(11,"td"),c(12),a(),s(13,"td")(14,"button",63),f("click",function(){let t=g(e).$implicit,o=x();return _(o.editOwner(t.id_user))}),h(15,"i",64),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),V(e.email),u(2),V(Ut(10,5,e.created_at,"dd-MM-yyyy")),u(3),V(e.phone)}}function ax(i,r){i&1&&(he(0),s(1,"span",66),c(2,"..."),a(),pe())}function sx(i,r){if(i&1){let e=z();he(0),s(1,"a",67),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function lx(i,r){if(i&1&&(s(0,"li",24),D(1,ax,3,0,"ng-container",65)(2,sx,3,1,"ng-container",65),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}function cx(i,r){if(i&1){let e=z();s(0,"li",70),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectEmail(t))}),h(1,"i",71),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function dx(i,r){if(i&1&&(s(0,"ul",68),D(1,cx,3,1,"li",69),a()),i&2){let e=x();u(),b("ngForOf",e.emailOwners)}}function ux(i,r){if(i&1){let e=z();s(0,"li",70),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectSalon(t))}),h(1,"i",71),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e.name," ")}}function mx(i,r){if(i&1&&(s(0,"ul",68),D(1,ux,3,1,"li",69),a()),i&2){let e=x();u(),b("ngForOf",e.dataSalonList)}}function hx(i,r){if(i&1){let e=z();s(0,"li",72),c(1),s(2,"button",73),f("click",function(){let t=g(e).index,o=x();return _(o.removeSalon(t))}),h(3,"i",74),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e.name," ")}}var np=(()=>{class i{constructor(e,n,t){this.ownerSalonService=e,this.router=n,this.toastr=t,this.AllOwners=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.searchText="",this.allSelected=!1,this.newOwner={email:"",salons:[]},this.searchTermsEmail=new Te,this.searchTermsSalon=new Te,this.emailOwners=[],this.dataSalonList=[],this.selectedSalon=""}ngOnInit(){this.loadAllOwners(this.currentPage),this.searchTermsEmail.pipe(Rt(300),qt(),et(e=>e.length>=2?this.ownerSalonService.getUserEmail(e):ae([]))).subscribe({next:e=>{this.emailOwners=e.filter(n=>n&&n.email).map(n=>n.email)},error:e=>{console.error("Error al buscar emails:",e)}}),this.searchTermsSalon.pipe(Rt(300),qt(),et(e=>e.length>=2?this.ownerSalonService.getSalonName(e):ae([]))).subscribe({next:e=>{this.dataSalonList=e.filter(n=>n&&n.id_salon&&n.name).map(n=>({id:n.id_salon,name:n.name}))},error:e=>{console.error("Error al buscar salones:",e)}})}addNewOwner(e){if(this.newOwner.salons.length===0){this.toastr.error("Debes a\xF1adir al menos un sal\xF3n.");return}let n=this.newOwner.salons.map(o=>o.id),t={email:this.newOwner.email,salons:n};this.ownerSalonService.addNewOwner(t).subscribe({next:()=>{this.toastr.success("Propietario y salones a\xF1adidos con \xE9xito."),setTimeout(()=>{window.location.reload()},1e3)},error:o=>{console.error("Error al a\xF1adir el propietario:",o),this.toastr.error("Error, no se pudo a\xF1adir el propietario.")}})}onSearch(){this.loadAllOwners(this.currentPage),this.searchText.trim()===""&&this.loadAllOwners(this.currentPage)}searchEmail(e){this.searchTermsEmail.next(e)}searchSalon(e){this.searchTermsSalon.next(e)}selectEmail(e){this.newOwner.email=e,this.emailOwners=[]}selectSalon(e){this.newOwner.salons.push({id:e.id,name:e.name}),this.dataSalonList=[],this.selectedSalon=""}removeSalon(e){this.newOwner.salons.splice(e,1)}loadAllOwners(e){this.ownerSalonService.loadAllOwners(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllOwners=n.data,this.totalItems=n.totalItems},error:n=>{console.error("Error cargando los propietarios",n)}})}hasSelected(){return this.AllOwners.some(e=>e.selected)}deleteSelected(){this.AllOwners=this.AllOwners.filter(e=>!e.selected),this.allSelected=!1}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllOwners.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllOwners.every(e=>e.selected)}editOwner(e){this.router.navigate(["edit-owner/edit",e])}onPageChange(e){this.currentPage=e,this.loadAllOwners(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}confirmDelete(){let e=this.AllOwners.filter(t=>t.selected);if(e.length===0){this.toastr.warning("No has seleccionado ning\xFAn propietario para eliminar.");return}console.log("Propietarios seleccionados para eliminar:",e);let n=e.map(t=>t.id_user);this.ownerSalonService.deleteOwners(n).subscribe({next:()=>{this.toastr.success("Propietario/os eliminados con \xE9xito"),this.loadAllOwners(this.currentPage),this.AllOwners.forEach(t=>t.selected=!1),this.allSelected=!1},error:t=>{console.error("Error eliminando propietarios",t),this.toastr.error("Error al eliminar los propietario/os seleccionados.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(ip),B(qe),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-owner-salon"]],decls:112,vars:18,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newAdminModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","newAdminModal","tabindex","-1","aria-labelledby","newAdminModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","newAdminModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"mb-3","position-relative"],["for","ownerEmail",1,"form-label"],["type","email","id","ownerEmail","name","email","required","","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group email-list",4,"ngIf"],["for","salonName",1,"form-label","mt-3"],["type","text","id","salonName","name","salon","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"mt-3"],[1,"form-label"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","ms-2"],["id","deleteOwnerModal","tabindex","-1","aria-labelledby","deleteOwnerModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteOwnerModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteOwnerModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-building-user"],[1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"],[1,"list-group","email-list"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-user"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times"]],template:function(n,t){n&1&&(s(0,"p"),c(1,"owner-salon works!"),a(),h(2,"app-header"),s(3,"div",0),h(4,"app-aside"),s(5,"div",1)(6,"main")(7,"div",2)(8,"h1",3),c(9,"Panel de control"),a(),s(10,"ol",4)(11,"li",5),c(12,"Administraci\xF3n / "),s(13,"b"),c(14,"Propietarios"),a()()(),s(15,"div",6)(16,"div",7),h(17,"img",8),c(18," Lista de Propietarios "),a(),s(19,"div",9)(20,"div",10)(21,"div",11)(22,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(23,"div",13)(24,"button",14),c(25,"Nuevo"),a()(),D(26,rx,3,0,"div",15),a(),s(27,"div",16)(28,"table",17)(29,"thead",18)(30,"tr")(31,"th")(32,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(33,"th"),c(34,"Nombre"),a(),s(35,"th"),c(36,"Email"),a(),s(37,"th"),c(38,"Creado"),a(),s(39,"th"),c(40,"Telefono"),a(),s(41,"th",20),c(42,"Acciones"),a()()(),s(43,"tbody"),D(44,ox,16,8,"tr",21),a()()(),s(45,"nav",22)(46,"ul",23)(47,"li",24)(48,"a",25),f("click",function(){return t.onPageChange(1)}),s(49,"span",26),c(50,"\xAB\xAB"),a()()(),s(51,"li",24)(52,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(53,"span",26),c(54,"\xAB"),a()()(),D(55,lx,3,6,"li",28),s(56,"li",24)(57,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(58,"span",26),c(59,"\xBB"),a()()(),s(60,"li",24)(61,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(62,"span",26),c(63,"\xBB\xBB"),a()()()()()()()()(),h(64,"app-footer"),a()(),s(65,"div",31)(66,"div",32)(67,"div",33)(68,"div",34)(69,"h5",35),c(70,"Nuevo Propietario"),a(),h(71,"button",36),a(),s(72,"div",37)(73,"div",38),h(74,"img",39),a(),s(75,"form")(76,"div",40)(77,"label",41),c(78,"Introduce email de propietario:"),a(),s(79,"input",42),I("ngModelChange",function(l){return A(t.newOwner.email,l)||(t.newOwner.email=l),l}),f("input",function(){return t.searchEmail(t.newOwner.email)}),a(),D(80,dx,2,1,"ul",43),s(81,"label",44),c(82,"Introduce el nombre del sal\xF3n:"),a(),s(83,"input",45),I("ngModelChange",function(l){return A(t.selectedSalon,l)||(t.selectedSalon=l),l}),f("input",function(){return t.searchSalon(t.selectedSalon)}),a(),D(84,mx,2,1,"ul",43),s(85,"div",46)(86,"label",47),c(87,"Salones a\xF1adidos:"),a(),s(88,"ul",48),D(89,hx,4,1,"li",49),a()()(),s(90,"div",50)(91,"button",51),f("click",function(){return t.addNewOwner(t.newOwner.email)}),c(92,"A\xF1adir"),a(),s(93,"button",52),c(94,"Cancelar"),a()()()()()()(),s(95,"div",53)(96,"div",32)(97,"div",33)(98,"div",34)(99,"h5",54),c(100,"Eliminar Propietarios"),a(),h(101,"button",36),a(),s(102,"div",37)(103,"div",55),h(104,"img",39),a(),s(105,"p"),c(106,"\xBFEst\xE1s seguro que deseas eliminar el propietario/os seleccionados?"),a()(),s(107,"div",56)(108,"button",57),f("click",function(){return t.confirmDelete()}),c(109,"Eliminar"),a(),s(110,"button",58),c(111,"Cancelar"),a()()()()()),n&2&&(u(22),T("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(12),b("ngForOf",t.AllOwners),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),T("ngModel",t.newOwner.email),u(),b("ngIf",t.emailOwners.length>0),u(3),T("ngModel",t.selectedSalon),u(),b("ngIf",t.dataSalonList.length>0),u(5),b("ngForOf",t.newOwner.salons))},dependencies:[ue,ce,Je,me,Ve,fe,$e,ut,Ce,Ye,ge,_e,ve,Ft],styles:['@charset "UTF-8";.email-list[_ngcontent-%COMP%]{position:absolute;top:10;left:0;right:0;z-index:1000;max-height:150px;overflow-y:auto;background-color:#fff;border:1px solid rgba(0,0,0,.125);border-top:none;margin-top:0;padding-top:0}.email-list[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:gray}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#ownerEmail[_ngcontent-%COMP%], #salonName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}']})}}return i})();var rp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getOwnerById(e){return this.http.get(`${this.baseUrl}/edit-owner/getOwnerById`,{params:{id_user:e}})}updateOwner(e){let n=e.id_user;return this.http.put(`${this.baseUrl}/edit-owner/updateOwner/${n}`,e)}getCitiesByProvince(e){return this.http.get(`${this.baseUrl}/edit-owner/getCitiesByProvinceForEditOwner`,{params:{id_province:e.toString()}})}getProvinces(){return this.http.get(`${this.baseUrl}/edit-owner/getProvinces`)}getSalonOwnerById(e){return this.http.get(`${this.baseUrl}/edit-owner/getSalonOwnerById`,{params:{id_user:e.toString()}})}deleteSalonById(e){return this.http.get(`${this.baseUrl}/edit-owner/deleteSalonById`,{params:{id_user:e.toString()}})}getSalonName(e){return this.http.get(`${this.baseUrl}/edit-owner/searchSalonInLive`,{params:{name:e}})}updateUserSalon(e,n){let t=`${this.baseUrl}/edit-owner/updateUserSalon/${e}`,o={id_salon:n};return this.http.put(t,o)}deleteUserSalon(e){let n=`${this.baseUrl}/edit-owner/deleteUserSalon/${e}`;return this.http.delete(n)}addUserSalon(e){return this.http.post(`${this.baseUrl}/edit-owner/addUserSalon`,e)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function fx(i,r){if(i&1&&(s(0,"option",76),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function gx(i,r){if(i&1&&(s(0,"option",76),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_city),u(),bt(" ",e.city_name," - ",e.zip_code," ")}}function _x(i,r){if(i&1){let e=z();s(0,"tr",18)(1,"td"),c(2),a(),s(3,"td",18)(4,"button",77),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.editSalon(t))}),h(5,"i",78),a()(),s(6,"td",18)(7,"button",79),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.deleteSalon(t))}),h(8,"i",80),a()()()}if(i&2){let e=r.$implicit;u(2),V(e.name)}}function vx(i,r){if(i&1){let e=z();s(0,"div")(1,"form",38),f("ngSubmit",function(){g(e);let t=x();return _(t.updateOwner())}),s(2,"div",39)(3,"div",40)(4,"label",41),c(5,"Nombre"),a(),s(6,"input",42),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.name,t)||(o.ownerData.name=t),_(t)}),a()(),s(7,"div",40)(8,"label",43),c(9,"Apellidos"),a(),s(10,"input",44),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.lastname,t)||(o.ownerData.lastname=t),_(t)}),a()()(),s(11,"div",39)(12,"div",40)(13,"label",45),c(14,"E-mail"),a(),s(15,"input",46),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.email,t)||(o.ownerData.email=t),_(t)}),a()(),s(16,"div",40)(17,"label",47),c(18,"N\xBA de Tel\xE9fono"),a(),s(19,"input",48),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.phone,t)||(o.ownerData.phone=t),_(t)}),a()()(),s(20,"div",39)(21,"div",40)(22,"label",49),c(23,"Direcci\xF3n"),a(),s(24,"input",50),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.address,t)||(o.ownerData.address=t),_(t)}),a()(),s(25,"div",51)(26,"label",52),c(27,"Provincia"),a(),s(28,"select",53),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.id_province,t)||(o.ownerData.id_province=t),_(t)}),f("change",function(t){g(e);let o=x();return _(o.onProvinceChange(t))}),D(29,fx,2,2,"option",54),a()(),s(30,"div",51)(31,"label",55),c(32,"Poblaci\xF3n"),a(),s(33,"select",56),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.id_city,t)||(o.ownerData.id_city=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.onCityChange(t.ownerData.id_city))}),D(34,gx,2,3,"option",54),a()()(),s(35,"div",57)(36,"div",40)(37,"label",58),c(38,"NIF"),a(),s(39,"input",59),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.dni,t)||(o.ownerData.dni=t),_(t)}),a()()(),s(40,"div",60)(41,"div",9)(42,"h5",61),c(43,"Nueva Contrase\xF1a"),a(),s(44,"div",39)(45,"div",40)(46,"label",62),c(47,"Contrase\xF1a"),a(),s(48,"input",63),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.password,t)||(o.ownerData.password=t),_(t)}),a()(),s(49,"div",40)(50,"label",64),c(51,"Repetir contrase\xF1a"),a(),s(52,"input",65),I("ngModelChange",function(t){g(e);let o=x();return A(o.ownerData.confirmPassword,t)||(o.ownerData.confirmPassword=t),_(t)}),a()()()()(),s(53,"button",66),c(54," Guardar "),a(),s(55,"button",67),c(56," Cancelar "),a()(),s(57,"div",68)(58,"div",69)(59,"h6",61),c(60,"Salones en propiedad"),a(),s(61,"button",70),c(62,"Nuevo"),a()(),s(63,"div",71)(64,"table",72)(65,"thead",73)(66,"tr",18)(67,"th"),c(68,"Nombre"),a(),s(69,"th",74),c(70,"Editar"),a(),s(71,"th",74),c(72,"Eliminar"),a()()(),s(73,"tbody"),D(74,_x,9,1,"tr",75),a()()()()()}if(i&2){let e=x();u(6),T("ngModel",e.ownerData.name),u(4),T("ngModel",e.ownerData.lastname),u(5),T("ngModel",e.ownerData.email),u(4),T("ngModel",e.ownerData.phone),u(5),T("ngModel",e.ownerData.address),u(4),T("ngModel",e.ownerData.id_province),u(),b("ngForOf",e.provinces),u(4),T("ngModel",e.ownerData.id_city),u(),b("ngForOf",e.cities),u(5),T("ngModel",e.ownerData.dni),u(9),T("ngModel",e.ownerData.password),u(4),T("ngModel",e.ownerData.confirmPassword),u(22),b("ngForOf",e.salons)}}function bx(i,r){if(i&1){let e=z();s(0,"li",83),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectSalon(t))}),h(1,"i",84),s(2,"span"),c(3),a()()}if(i&2){let e=r.$implicit;u(3),V(e.name)}}function yx(i,r){if(i&1&&(s(0,"ul",81),D(1,bx,4,1,"li",82),a()),i&2){let e=x();u(),b("ngForOf",e.dataSalonList)}}function Cx(i,r){if(i&1){let e=z();s(0,"li",83),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectSalon(t))}),h(1,"i",85),s(2,"span"),c(3),a()()}if(i&2){let e=r.$implicit;u(3),V(e.name)}}function xx(i,r){if(i&1&&(s(0,"ul",81),D(1,Cx,4,1,"li",82),a()),i&2){let e=x();u(),b("ngForOf",e.dataSalonList)}}var op=(()=>{class i{constructor(e,n,t){this.editOwnerService=e,this.toastr=n,this.route=t,this.ownerData=[],this.provinces=[],this.salons=[],this.cities=[],this.userData=[],this.ownerSalon=[],this.salonToDelete=null,this.selectedSalon="",this.editOwner={email:"",salons:[]},this.dataSalonList=[],this.searchTermsSalon=new Te,this.isSalonSelected=!1}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?(this.id_user=+e,this.getOwnerData(this.id_user),this.getSalonOwnerById(this.id_user)):console.error("No id_user found in the URL"),this.getProvinces(),this.searchTermsSalon.pipe(Rt(300),qt(),et(n=>n.length>=2?this.editOwnerService.getSalonName(n):ae([]))).subscribe({next:n=>{this.dataSalonList=n.filter(t=>t&&t.id_salon&&t.name).map(t=>({id:t.id_salon,name:t.name}))},error:n=>{console.error("Error al buscar salones:",n)}})}editSalon(e){this.selectedSalon=e.name,this.id_user_salon=e.id_user_salon,this.id_salon=e.id_salon}getOwnerData(e){this.editOwnerService.getOwnerById(e).subscribe(n=>{this.ownerData=n.data,this.ownerData.id_province&&this.getCities(this.ownerData.id_province,!0)},n=>{console.error("Error fetching client data:",n)})}updateOwner(){this.editOwnerService.updateOwner(this.ownerData).subscribe(e=>{this.toastr.success("Cambios realizados con \xE9xito")},e=>{console.error("Error al actualizar el propietario",e),this.toastr.error("No se realizaron los cambios")})}getProvinces(){this.editOwnerService.getProvinces().subscribe(e=>{this.provinces=e.data},e=>{console.error("Error fetching provinces:",e)})}onProvinceChange(e){let n;if(typeof e=="number")n=e;else if(e&&e.target){let t=e.target;n=Number(t.value)}else{console.error("Event o target es undefined en onProvinceChange");return}!isNaN(n)&&n>0?this.getCities(n):this.cities=[]}getCities(e,n=!1){this.editOwnerService.getCitiesByProvince(e).subscribe(t=>{if(this.cities=t.data,this.cities.length>0)if(n&&this.ownerData.id_city){let o=this.cities.find(l=>l.id_city===this.ownerData.id_city);o&&(this.ownerData.id_city=o.id_city)}else this.ownerData.id_city||(this.ownerData.id_city=this.cities[0].id_city);else this.ownerData.id_city=""},t=>{console.error("Error fetching cities:",t)})}onCityChange(e){let n=this.cities.find(t=>t.id_city===e);n&&(this.userData.city_name=n.city_name,this.ownerData.id_city=n.id_city)}getSalonOwnerById(e){this.editOwnerService.getSalonOwnerById(e).subscribe(n=>{this.salons=Array.isArray(n.data)?n.data:[n.data]},n=>{console.error("Error fetching salons:",n)})}deleteSalon(e){this.selectedSalon=e.name,this.id_user_salon=e.id_user_salon,this.id_salon=e.id_salon}selectSalon(e){this.selectedSalon=e.name,this.id_salon=e.id,this.isSalonSelected=!0,this.dataSalonList=[]}searchSalon(e){this.isSalonSelected=!1,this.searchTermsSalon.next(e)}updateUserSalon(e,n){if(!this.isSalonSelected){this.toastr.error("Por favor, selecciona un sal\xF3n de la lista.");return}this.editOwnerService.updateUserSalon(e,n).subscribe(t=>{this.toastr.success("Sal\xF3n actualizado con \xE9xito"),setTimeout(()=>{window.location.reload()},1e3),this.getSalonOwnerById(this.id_user)},t=>{console.error("Error al actualizar el sal\xF3n del usuario",t),this.toastr.error("No se pudo actualizar el sal\xF3n"),setTimeout(()=>{window.location.reload()},2e3)})}deleteUserSalon(e){this.editOwnerService.deleteUserSalon(e).subscribe({next:n=>{this.toastr.success("Sal\xF3n eliminado con \xE9xito"),setTimeout(()=>{window.location.reload()},1e3),this.getSalonOwnerById(this.id_user)},error:n=>{console.error("Error al eliminar el sal\xF3n",n),this.toastr.error("No se pudo eliminar el sal\xF3n"),setTimeout(()=>{window.location.reload()},2e3)}})}addUserSalon(){if(!this.isSalonSelected||!this.id_salon){this.toastr.error("Por favor, selecciona un sal\xF3n de la lista.");return}if(this.id_user===void 0){this.toastr.error("ID de usuario no v\xE1lido.");return}let e={id_user:this.id_user,id_salon:this.id_salon};console.log("Datos enviados:",e),this.editOwnerService.addUserSalon(e).subscribe(n=>{this.toastr.success("Sal\xF3n a\xF1adido con \xE9xito"),this.getSalonOwnerById(this.id_user),setTimeout(()=>{window.location.reload()},1e3)},n=>{console.error("Error al a\xF1adir el sal\xF3n",n),this.toastr.error("No se pudo a\xF1adir el sal\xF3n")})}static{this.\u0275fac=function(n){return new(n||i)(B(rp),B(xe),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-owner"]],decls:79,vars:5,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],["id","deleteSalonModal","tabindex","-1","aria-labelledby","deleteSalonModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteSalonModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","me-2"],["type","button",1,"btn","btn-danger",3,"click"],["id","editSalonModal","tabindex","-1","aria-labelledby","editSalonModalLabel","aria-hidden","true",1,"modal","fade"],["id","editSalonModalLabel",1,"modal-title"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","salonName",1,"form-label"],["type","text","id","salonName","name","name","name","salon","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group salon-list mt-2",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","addUserSalonModal","tabindex","-1","aria-labelledby","addUserSalonModalLabel","aria-hidden","true",1,"modal","fade"],["id","addUserSalonModalLabel",1,"modal-title"],[1,"row"],[1,"col-md-12"],["type","text","id","salonName","name","salon","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["type","submit",1,"btn","btn-danger",3,"click"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-md-6"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["for","apellidos",1,"form-label"],["type","text","id","lastname","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono",1,"form-label"],["type","tel","id","phone","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label"],["type","text","id","address","name","address",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","poblacion",1,"form-label"],["id","id_city","name","id_city","required","",1,"form-select",3,"ngModelChange","change","ngModel"],[1,"row","mb-4"],["for","permiso",1,"form-label"],["type","text","id","dni","name","dni",1,"form-control",3,"ngModelChange","ngModel"],[1,"card","mt-4"],[1,"h5"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Introduce nueva contrase\xF1a...",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","placeholder","Repetir contrase\xF1a...","name","confirmPassword",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/owners",1,"btn","btn-secondary","mt-3"],[1,"card","mt-4","row"],[1,"card-body","d-flex","align-items-center"],["data-bs-toggle","modal","data-bs-target","#addUserSalonModal",1,"btn","bg-danger","ms-auto"],[1,"table-responsive","w-100","mx-auto","rounded"],[1,"table","table-hover","table-light"],[1,"thead-dark"],[1,"col-1"],["class","text-center",4,"ngFor","ngForOf"],[3,"value"],["data-bs-toggle","modal","data-bs-target","#editSalonModal",1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteSalonModal",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"list-group","salon-list","mt-2"],["class","list-group-item list-group-item-action salon-item d-flex align-items-center",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","salon-item","d-flex","align-items-center",3,"click"],[1,"las","la-industry"],[1,"las","la-industry","me-2"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Ajuste de cuenta / "),s(11,"b"),c(12,"Editar Propietario"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Editar Cliente "),a(),s(17,"div",9),D(18,vx,75,13,"div",10),a()()()(),h(19,"app-footer"),a()(),s(20,"div",11)(21,"div",12)(22,"div",13)(23,"div",14)(24,"h5",15),c(25,"Eliminar Sal\xF3n"),a(),h(26,"button",16),a(),s(27,"div",17)(28,"div",18),h(29,"img",19),s(30,"p"),c(31,"\xBFEst\xE1s seguro que deseas eliminar este sal\xF3n?"),a()(),s(32,"div",20)(33,"button",21),c(34," Cancelar "),a(),s(35,"button",22),f("click",function(){return t.deleteUserSalon(t.id_user_salon)}),c(36," Eliminar "),a()()()()()(),s(37,"div",23)(38,"div",12)(39,"div",13)(40,"div",14)(41,"h5",24),c(42,"Editar Sal\xF3n"),a(),h(43,"button",16),a(),s(44,"div",17)(45,"div",18),h(46,"img",19),s(47,"div",25)(48,"div",26)(49,"label",27),c(50,"Introduce el nombre del sal\xF3n:"),a(),s(51,"input",28),I("ngModelChange",function(l){return A(t.selectedSalon,l)||(t.selectedSalon=l),l}),f("input",function(){return t.searchSalon(t.selectedSalon)}),a(),D(52,yx,2,1,"ul",29),a()()()(),s(53,"div",30)(54,"button",22),f("click",function(){return t.updateUserSalon(t.id_user_salon,t.id_salon)}),c(55," Guardar "),a(),s(56,"button",31),c(57," Cancelar "),a()()()()(),s(58,"div",32)(59,"div",12)(60,"div",13)(61,"div",14)(62,"h5",33),c(63,"A\xF1adir Sal\xF3n"),a(),h(64,"button",16),a(),s(65,"div",17)(66,"div",18),h(67,"img",19),a(),s(68,"div",34)(69,"div",35)(70,"label",27),c(71,"Introduzca sal\xF3n:"),a(),s(72,"input",36),I("ngModelChange",function(l){return A(t.selectedSalon,l)||(t.selectedSalon=l),l}),f("input",function(){return t.searchSalon(t.selectedSalon)}),a(),D(73,xx,2,1,"ul",29),a()()(),s(74,"div",30)(75,"button",37),f("click",function(){return t.addUserSalon()}),c(76,"Guardar"),a(),s(77,"button",31),c(78," Cancelar "),a()()()()()),n&2&&(u(18),b("ngIf",t.ownerData),u(33),T("ngModel",t.selectedSalon),u(),b("ngIf",t.dataSalonList.length>0),u(20),T("ngModel",t.selectedSalon),u(),b("ngIf",t.dataSalonList.length>0))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,ut,Ce,Ye,ge,_e,ve],styles:[".salon-list[_ngcontent-%COMP%]{position:absolute;max-height:200px;overflow-y:auto;width:100%;left:0;top:90%;border-radius:.5rem;box-shadow:0 4px 8px #0000001a;background-color:#fff;z-index:1000}.salon-item[_ngcontent-%COMP%]{padding:.5rem 1rem;transition:background-color .2s ease;max-height:200px}.salon-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;cursor:pointer}.salon-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:#6c757d}.salon-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;font-weight:500;color:#333}#salonName[_ngcontent-%COMP%], #ownerEmail[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}"]})}}return i})();var ap=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getCityById(e){return this.http.get(`${this.baseUrl}/edit-city/getCityById`,{params:{id_city:e}})}updateCity(e){let n=e.id_city;return this.http.put(`${this.baseUrl}/edit-city/updateCity/${n}`,e)}getProvinces(){return this.http.get(`${this.baseUrl}/edit-city/getProvinces`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function wx(i,r){if(i&1&&(s(0,"option",31),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_province),u(),Y(" ",e.name," ")}}function Ex(i,r){if(i&1){let e=z();s(0,"div")(1,"form",11),f("ngSubmit",function(){g(e);let t=x();return _(t.updateCity())}),s(2,"div",12)(3,"div",13)(4,"label",14),c(5,"Nombre"),a(),s(6,"input",15),I("ngModelChange",function(t){g(e);let o=x();return A(o.cityData.name,t)||(o.cityData.name=t),_(t)}),a()(),s(7,"div",13)(8,"label",16),c(9,"Latitud"),a(),s(10,"input",17),I("ngModelChange",function(t){g(e);let o=x();return A(o.cityData.latitud,t)||(o.cityData.latitud=t),_(t)}),a()()(),s(11,"div",12)(12,"div",13)(13,"label",18),c(14,"Longitud"),a(),s(15,"input",19),I("ngModelChange",function(t){g(e);let o=x();return A(o.cityData.longitud,t)||(o.cityData.longitud=t),_(t)}),a()(),s(16,"div",20)(17,"label",21),c(18,"Codigo Zip"),a(),s(19,"input",22),I("ngModelChange",function(t){g(e);let o=x();return A(o.cityData.zip_code,t)||(o.cityData.zip_code=t),_(t)}),a()()(),s(20,"div",23)(21,"div",24)(22,"label",25),c(23,"Provincia"),a(),s(24,"select",26),I("ngModelChange",function(t){g(e);let o=x();return A(o.cityData.id_province,t)||(o.cityData.id_province=t),_(t)}),D(25,wx,2,2,"option",27),a()()(),h(26,"div",28),s(27,"button",29),c(28," Guardar "),a(),s(29,"button",30),c(30,"Cancelar"),a()()()}if(i&2){let e=x();u(6),T("ngModel",e.cityData.name),u(4),T("ngModel",e.cityData.latitud),u(5),T("ngModel",e.cityData.longitud),u(4),T("ngModel",e.cityData.zip_code),u(5),T("ngModel",e.cityData.id_province),u(),b("ngForOf",e.provinces)}}var sp=(()=>{class i{constructor(e,n,t){this.editCityService=e,this.toastr=n,this.route=t,this.cityData=[],this.cities=[],this.provinces=[]}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.getCityDataById(+e):console.error("No id_user found in the URL"),this.getProvinces()}updateCity(){this.editCityService.updateCity(this.cityData).subscribe(e=>{console.log("Administrador actualizado exitosamente",e),this.toastr.success("Cambios realizados con \xE9xito")},e=>{console.error("Error al actualizar el Administrador",e),this.toastr.error("No se realizaron los cambios")})}getCityDataById(e){this.editCityService.getCityById(e).subscribe(n=>{this.cityData=n.data,console.log("Datos de la ciudad obtenidos con \xE9xito",this.cityData)},n=>{console.error("Error al obtener los datos de la ciudad",n),this.toastr.error("No se pudo obtener los datos de la ciudad")})}getProvinces(){this.editCityService.getProvinces().subscribe(e=>{this.provinces=e.data},e=>{console.error("Error fetching provinces:",e)})}static{this.\u0275fac=function(n){return new(n||i)(B(ap),B(xe),B(dt))}}static{this.\u0275cmp=re({type:i,selectors:[["app-edit-city"]],decls:24,vars:1,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","Favicon",1,"img-fluid","me-2"],[1,"card-body"],[4,"ngIf"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","name","name","name",1,"form-control",3,"ngModelChange","ngModel"],["for","latitud",1,"form-label"],["type","text","id","latitud","name","latitud",1,"form-control",3,"ngModelChange","ngModel"],["for","longitud",1,"form-label"],["type","text","id","longitud","name","longitud",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["for","zip_code",1,"form-label"],["type","zip_code","id","zip_code","name","zip_code",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col-md-3"],["for","provincia",1,"form-label"],["id","id_province","name","id_province",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"card","mt-4"],["type","submit",1,"btn","btn-danger","me-2","mt-3"],["type","reset","routerLink","/cities",1,"btn","btn-secondary","mt-3"],[3,"value"]],template:function(n,t){n&1&&(s(0,"p"),c(1,"edit-city works!"),a(),s(2,"p"),c(3,"edit-client works!"),a(),h(4,"app-header"),s(5,"div",0),h(6,"app-aside"),s(7,"div",1)(8,"main")(9,"div",2)(10,"h1",3),c(11,"Panel de control"),a(),s(12,"ol",4)(13,"li",5),c(14," Ajuste de cuenta / "),s(15,"b"),c(16,"Editar ciudad"),a()()(),s(17,"div",6)(18,"div",7),h(19,"img",8),c(20," Editar Ciudad "),a(),s(21,"div",9),D(22,Ex,31,6,"div",10),a()()()(),h(23,"app-footer"),a()()),n&2&&(u(22),b("ngIf",t.cityData))},dependencies:[ue,ce,lt,Je,Qe,Ke,me,je,fe,$e,Ce,Ye,ge,_e,ve]})}}return i})();var lp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllBrands(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/brands/getAllBrands`,{params:o})}addBrand(e){return this.http.post(`${this.baseUrl}/brands/addBrand`,e)}updateBrand(e,n){return this.http.put(`${this.baseUrl}/brands/updateBrand/${e}`,n)}deleteBrand(e){return this.http.post(`${this.baseUrl}/brands/deleteBrand`,{id_brand:e})}getCategoryInLive(e){return this.http.get(`${this.baseUrl}/brands/searchCategoryInLive`,{params:{category:e}})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Dx(i,r){i&1&&(s(0,"div",71)(1,"button",72),c(2," Eliminar seleccionados "),a()())}function Tx(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",73),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",74),c(5),a(),s(6,"td"),h(7,"img",75),a(),s(8,"td"),c(9),a(),s(10,"td"),c(11),a(),s(12,"td"),c(13),a(),s(14,"td")(15,"button",76),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectBrand(t))}),h(16,"i",77),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(3),Y(" ",e.name,""),u(2),sn("alt",e.name),b("src",e.imagePath,Ie),u(2),Y(" ",e.totalSalones," "),u(2),Y(" ",e.categories," "),u(2),V(e.active?"Si":"No")}}function Ax(i,r){if(i&1){let e=z();s(0,"li",24)(1,"a",78),f("click",function(){let t=g(e).$implicit,o=x();return _(o.onPageChange(t))}),c(2),a()()}if(i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage),u(2),V(e)}}function Ix(i,r){if(i&1){let e=z();s(0,"li",81),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectCategory({name:t}))}),h(1,"i",82),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function kx(i,r){if(i&1&&(s(0,"ul",79),D(1,Ix,3,1,"li",80),a()),i&2){let e=x();u(),b("ngForOf",e.dataCategoryList)}}function Px(i,r){if(i&1){let e=z();s(0,"li",83),c(1),s(2,"button",84),f("click",function(){let t=g(e).index,o=x(2);return _(o.removeCategory(t))}),h(3,"i",85),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e.name," ")}}function Fx(i,r){if(i&1&&(s(0,"div")(1,"ul",56),D(2,Px,4,1,"li",57),a()()),i&2){let e=x();u(2),b("ngForOf",e.newCategory.categories)}}function Ox(i,r){if(i&1){let e=z();s(0,"li",83),c(1),s(2,"button",84),f("click",function(){let t=g(e).index,o=x();return _(o.removeUpdateCategory(t))}),h(3,"i",85),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e," ")}}function Nx(i,r){if(i&1){let e=z();s(0,"li",81),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.selectCategory({name:t}))}),h(1,"i",82),c(2),a()}if(i&2){let e=r.$implicit;u(2),Y(" ",e," ")}}function Bx(i,r){if(i&1&&(s(0,"ul",79),D(1,Nx,3,1,"li",80),a()),i&2){let e=x();u(),b("ngForOf",e.dataCategoryList)}}function Rx(i,r){if(i&1){let e=z();s(0,"li",83),c(1),s(2,"button",84),f("click",function(){let t=g(e).index,o=x();return _(o.removeCategory(t))}),h(3,"i",85),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e.name," ")}}var cp=(()=>{class i{constructor(e,n){this.brandsService=e,this.toastr=n,this.AllBrands=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.categories=[],this.Math=Math,this.allSelected=!1,this.searchText="",this.selectedBrand={name:""},this.selectedImgFile=null,this.imagePreview=null,this.searchTermsCategory=new Te,this.selectedCategory="",this.dataCategoryList=[],this.newCategory={email:"",salons:[]}}ngOnInit(){this.loadAllBrands(this.currentPage),this.searchTermsCategory.pipe(Rt(300),qt(),et(e=>e.length>=2?this.brandsService.getCategoryInLive(e):ae([]))).subscribe({next:e=>{this.dataCategoryList=e.map(n=>n.categories)},error:e=>{console.error("Error al buscar categorias:",e)}})}loadAllBrands(e){this.brandsService.loadAllBrands(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllBrands=n.data.map(t=>De(q({},t),{categories:t.categories&&t.categories!==""?Array.from(new Set(t.categories.split(",").map(o=>o.trim()))):[]})),this.totalItems=n.totalItems,console.log("Marcas cargadas",this.AllBrands)},error:n=>{console.error("Error loading brands",n)}})}selectCategory(e){this.newCategory.categories||(this.newCategory.categories=[]),this.newCategory.categories.push({name:e.name}),this.dataCategoryList=[],this.selectedCategory=""}selectBrand(e){this.id_brand_category=e.id_brand_category,this.id_brand=e.id_brand,this.selectedBrand=e.name,this.selectedImgBrang=e.imagePath,this.brand=e,console.log("id_brand_category",this.id_brand_category),this.categories=[],this.newCategory.categories=[],typeof e.categories=="string"?this.categories=e.categories.split(",").map(n=>n.trim()):this.categories=Array.isArray(e.categories)?e.categories:[],console.log("Categor\xEDas asignadas:",this.categories),console.log("id_brand_category",this.id_brand_category)}removeCategory(e){this.newCategory.categories.splice(e,1)}removeUpdateCategory(e){this.categories.splice(e,1)}searchCategory(e){this.searchTermsCategory.next(e)}updatebrand(){if(!this.selectedBrand||this.selectedBrand.trim()===""){this.toastr.warning("El nombre de la marca no puede estar vac\xEDo.");return}let e=new FormData;e.append("name",this.selectedBrand),this.selectedUpdateImgFile&&e.append("brandImage",this.selectedUpdateImgFile);let t=[...this.categories.map(o=>({name:o})),...this.newCategory.categories].reduce((o,l)=>(o.find(m=>m.name===l.name)||o.push(l),o),[]);e.append("categories",JSON.stringify(t)),this.brandsService.updateBrand(this.id_brand,e).subscribe({next:o=>{this.toastr.success("Marca actualizada con \xE9xito"),this.loadAllBrands(this.currentPage)},error:o=>{this.toastr.error("Error al actualizar la marca"),console.error("Error al actualizar la marca",o)}})}onEditImageSelected(e){let n=e.target.files[0];if(n){this.selectedUpdateImgFile=n;let t=new FileReader;t.onload=o=>{this.selectedImgBrang=o.target.result},t.readAsDataURL(n)}}onSearch(){this.loadAllBrands(this.currentPage),this.searchText.trim()===""&&this.loadAllBrands(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllBrands(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllBrands.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllBrands.every(e=>e.selected)}hasSelected(){return this.AllBrands.some(e=>e.selected)}confirmDelete(){let n=this.AllBrands.filter(t=>t.selected).map(t=>t.id_brand);console.log("id marcas a eliminar",n),n.length>0&&this.brandsService.deleteBrand(n).subscribe({next:()=>{this.toastr.success("Marcas eliminadas con \xE9xito"),this.loadAllBrands(this.currentPage)},error:t=>{console.error("Error eliminando Marcas",t),this.toastr.error("Hubo un error al eliminar las marcas","Error")}})}addBrand(){if(!this.newBrand||this.newBrand.trim()===""){this.toastr.warning("El nombre de la marca no puede estar vac\xEDo","Advertencia");return}if(!this.selectedImgFile){this.toastr.warning("Debe seleccionar una imagen para la marca","Advertencia");return}if(!this.newCategory.categories||this.newCategory.categories.length===0){this.toastr.error("Debe seleccionar al menos una categor\xEDa","Advertencia");return}let e=new FormData;e.append("name",this.newBrand),e.append("brandImage",this.selectedImgFile);let n=this.newCategory.categories.map(o=>o.name),t=JSON.stringify(n);e.append("categories",t),e.forEach((o,l)=>{console.log(l,o)}),this.brandsService.addBrand(e).subscribe({next:o=>{this.toastr.success("Marca a\xF1adida con \xE9xito","\xC9xito"),this.loadAllBrands(this.currentPage),this.newBrand="",this.imagePreview="../../../assets/img/sello.jpg",this.newCategory.categories=[]},error:o=>{console.error("Error a\xF1adiendo marca",o),this.toastr.error("Hubo un error al a\xF1adir la marca, por favor compruebe que la marca no exista en su lista","Error")}})}onImageSelected(e){let n=e.target;if(n.files&&n.files.length>0){this.selectedImgFile=n.files[0];let t=new FileReader;t.onload=()=>{this.imagePreview=t.result},t.readAsDataURL(this.selectedImgFile)}}static{this.\u0275fac=function(n){return new(n||i)(B(lp),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-brands"]],decls:155,vars:24,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newBrandModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-1"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","editBrandModal","tabindex","-1","aria-labelledby","editBrandLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","editBrandLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","brandName",1,"form-label"],["type","text","id","brandName","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["for","brandImage",1,"form-label"],[1,"col-12","mt-3","text-center"],["alt","Imagen de la Marca","width","150",1,"img-fluid",3,"src"],["for","editBrandImage",1,"form-label"],["type","file","id","editBrandImage",1,"form-control",3,"change"],["for","categoryName",1,"form-label","mt-3"],["type","text","id","categoryName","name","category","placeholder","Introduzca el nombre de la categor\xEDa y haga clic para a\xF1adir...","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group email-list",4,"ngIf"],[1,"mt-3"],[4,"ngIf"],[1,"row"],[1,"col-12"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","newBrandModal","tabindex","-1","aria-labelledby","newBrandLabel","aria-hidden","true",1,"modal","fade"],["id","newBrandLabel",1,"modal-title"],["alt","sello","width","120",1,"img-fluid",3,"src"],["for","newBrandName",1,"form-label"],["type","text","id","newBrandName","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"mt-3","mb-3"],["type","file","id","brandImage",1,"form-control",3,"change"],["id","deleteBrandModal","tabindex","-1","aria-labelledby","deleteBrandModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteBrandModalLabel",1,"modal-title"],[1,"text-center","mb-3"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteBrandModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-flag"],["width","100",3,"src","alt"],["data-bs-toggle","modal","data-bs-target","#editBrandModal",1,"btn","btn-dark",3,"click"],[1,"fas","fa-edit"],[1,"page-link",3,"click"],[1,"list-group","email-list"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"las","la-tag"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10,"Administraci\xF3n / "),s(11,"b"),c(12,"Marcas"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Marcas "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23,"Nuevo"),a()(),D(24,Dx,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Nombre"),a(),s(33,"th"),c(34,"Logo"),a(),s(35,"th"),c(36,"Asignaciones a Salones"),a(),s(37,"th"),c(38,"Catagorias Asignadas"),a(),s(39,"th"),c(40,"Activo"),a(),s(41,"th",20),c(42,"Editar"),a()()(),s(43,"tbody"),D(44,Tx,17,7,"tr",21),a()()(),s(45,"nav",22)(46,"ul",23)(47,"li",24)(48,"a",25),f("click",function(){return t.onPageChange(1)}),s(49,"span",26),c(50,"\xAB\xAB"),a()()(),s(51,"li",24)(52,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(53,"span",26),c(54,"\xAB"),a()()(),D(55,Ax,3,3,"li",28),s(56,"li",24)(57,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(58,"span",26),c(59,"\xBB"),a()()(),s(60,"li",24)(61,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(62,"span",26),c(63,"\xBB\xBB"),a()()()()()()()()(),h(64,"app-footer"),a()(),s(65,"div",31)(66,"div",32)(67,"div",33)(68,"div",34)(69,"h5",35),c(70,"Editar Marca"),a(),h(71,"button",36),a(),s(72,"div",37)(73,"div",38),h(74,"img",39),a(),s(75,"div",40)(76,"div",41)(77,"label",42),c(78,"Nombre de la Marca:"),a(),s(79,"input",43),I("ngModelChange",function(l){return A(t.selectedBrand,l)||(t.selectedBrand=l),l}),a()()(),s(80,"div",40)(81,"div",41)(82,"label",44),c(83,"Imagen de la Marca:"),a()()(),s(84,"div",40)(85,"div",45),h(86,"img",46),a()(),s(87,"div",40)(88,"div",41)(89,"label",47),c(90,"Reemplazar Imagen de la Marca:"),a(),s(91,"input",48),f("change",function(l){return t.onEditImageSelected(l)}),a()()(),s(92,"label",49),c(93,"Introduce categoria:"),a(),s(94,"input",50),I("ngModelChange",function(l){return A(t.selectedCategory,l)||(t.selectedCategory=l),l}),f("input",function(){return t.searchCategory(t.selectedCategory)}),a(),D(95,kx,2,1,"ul",51),s(96,"div",52),D(97,Fx,3,1,"div",53),a(),s(98,"div",54)(99,"div",55)(100,"ul",56),D(101,Ox,4,1,"li",57),a()()()(),s(102,"div",58)(103,"button",59),f("click",function(){return t.updatebrand()}),c(104,"Guardar"),a(),s(105,"button",60),c(106,"Cancelar"),a()()()()(),s(107,"div",61)(108,"div",32)(109,"div",33)(110,"div",34)(111,"h5",62),c(112,"Nueva Marca"),a(),h(113,"button",36),a(),s(114,"div",37)(115,"div",38),h(116,"img",63),a(),s(117,"div",40)(118,"div",41)(119,"label",64),c(120,"Introduzca el nombre de la Marca:"),a(),s(121,"input",65),I("ngModelChange",function(l){return A(t.newBrand,l)||(t.newBrand=l),l}),a()(),s(122,"label",49),c(123,"Introduce categoria:"),a(),s(124,"input",50),I("ngModelChange",function(l){return A(t.selectedCategory,l)||(t.selectedCategory=l),l}),f("input",function(){return t.searchCategory(t.selectedCategory)}),a(),D(125,Bx,2,1,"ul",51),s(126,"div",66)(127,"ul",56),D(128,Rx,4,1,"li",57),a()(),s(129,"div",41)(130,"label",44),c(131,"Subir imagen de la Marca:"),a(),s(132,"input",67),f("change",function(l){return t.onImageSelected(l)}),a()()()(),s(133,"div",58)(134,"button",59),f("click",function(){return t.addBrand()}),c(135,"Guardar"),a(),s(136,"button",60),c(137,"Cancelar"),a()()()()(),s(138,"div",68)(139,"div",32)(140,"div",33)(141,"div",34)(142,"h5",69),c(143,"Eliminar Marcas"),a(),h(144,"button",36),a(),s(145,"div",37)(146,"div",70),h(147,"img",39),a(),s(148,"p"),c(149,"\xBFEst\xE1s seguro que deseas eliminar la marca/s seleccionadas?"),a()(),s(150,"div",58)(151,"button",59),f("click",function(){return t.confirmDelete()}),c(152,"Eliminar"),a(),s(153,"button",60),c(154,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(14),b("ngForOf",t.AllBrands),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(19),T("ngModel",t.selectedBrand),u(7),b("src",t.selectedImgBrang,Ie),u(8),T("ngModel",t.selectedCategory),u(),b("ngIf",t.dataCategoryList.length>0),u(2),b("ngIf",t.newCategory!==""),u(4),b("ngForOf",t.categories),u(15),b("src",t.imagePreview||"../../../assets/img/sello.jpg",Ie),u(5),T("ngModel",t.newBrand),u(3),T("ngModel",t.selectedCategory),u(),b("ngIf",t.dataCategoryList.length>0),u(3),b("ngForOf",t.newCategory.categories))},dependencies:[ue,ce,me,Ve,fe,Ce,ge,_e,ve],styles:["#brandName[_ngcontent-%COMP%], #newBrandName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#categoryName[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}"]})}}return i})();var dp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}loadAllCategoriesJobs(e,n,t){let o=new ye().set("page",e.toString()).set("pageSize",n.toString());return t&&(o=o.set("search",t)),this.http.get(`${this.baseUrl}/categories-jobs/getAllCategoriesJobs`,{params:o}).pipe(we(l=>(l.data=l.data.map(d=>De(q({},d),{subcategoriesText:d.subcategories.map(m=>m.name).join(", ")})),l)))}deleteCategoryJobs(e){return this.http.post(`${this.baseUrl}/categories-jobs/delete`,{categoryIds:e})}updateCategoryJobs(e){return this.http.put(`${this.baseUrl}/categories-jobs/updateCategoryJob/${e.id}`,e)}updateSubCategories(e,n){return this.http.put(`${this.baseUrl}/categories-jobs/updateSubcategories/${e}`,n)}addCategorySubcategoryJob(e){return console.log("Datos enviados en el servicio:",e),this.http.post(`${this.baseUrl}/categories-jobs/addCategoryWithSubcategoriesJobs`,e)}getCategories(){return this.http.get(`${this.baseUrl}/categories-jobs/getCategories`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Lx(i,r){i&1&&(s(0,"div",65)(1,"button",66),c(2," Eliminar seleccionados "),a()())}function Ux(i,r){if(i&1){let e=z();s(0,"tr")(1,"td")(2,"input",67),I("ngModelChange",function(t){let o=g(e).$implicit;return A(o.selected,t)||(o.selected=t),_(t)}),f("change",function(){g(e);let t=x();return _(t.checkIfAllSelected())}),a()(),s(3,"td"),h(4,"i",68),c(5),a(),s(6,"td"),c(7),a(),s(8,"td"),c(9),a(),s(10,"td")(11,"button",69),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectCategoryJob(t))}),c(12," Categor\xEDa "),a(),s(13,"button",70),f("click",function(){let t=g(e).$implicit,o=x();return _(o.selectSubCategories(t))}),c(14," Subcategor\xEDas "),a()()()}if(i&2){let e=r.$implicit;u(2),T("ngModel",e.selected),u(3),Y(" ",e.name," "),u(2),Y(" ",e.subcategoriesText," "),u(2),Y(" ",e.active?"No":"Si"," ")}}function jx(i,r){if(i&1){let e=z();s(0,"li",24)(1,"a",71),f("click",function(){let t=g(e).$implicit,o=x();return _(o.onPageChange(t))}),c(2),a()()}if(i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage),u(2),V(e)}}function Hx(i,r){if(i&1&&(s(0,"option",72),c(1),a()),i&2){let e=r.$implicit;b("value",e.categories),u(),Y(" ",e.categories," ")}}function Wx(i,r){if(i&1&&(s(0,"option",72),c(1),a()),i&2){let e=r.$implicit;b("value",e.categories),u(),Y(" ",e.categories," ")}}function zx(i,r){if(i&1){let e=z();s(0,"li",73),c(1),s(2,"button",74),f("click",function(){let t=g(e).index,o=x();return _(o.removeCategory(t))}),h(3,"i",75),a()()}if(i&2){let e=r.$implicit;u(),Y(" ",e," ")}}var up=(()=>{class i{constructor(e,n){this.CategoriesJobsService=e,this.toastr=n,this.AllCategoriesJobs=[],this.AllCategories=[],this.currentPage=1,this.pageSize=10,this.totalItems=0,this.categories=[],this.Math=Math,this.allSelected=!1,this.searchText="",this.selectedCategoryJob="",this.subCategories=[],this.newCategoryJob="",this.editCategoryJob="",this.newSubCategoryJob="",this.selectedCategoryId=null,this.selectedSubCategories=[],this.selectedSubCategoriesText="",this.subCategoriesAsText="",this.selectedSubCategoryIds=[]}ngOnInit(){this.loadAllCategoriesJobs(this.currentPage),this.getCategories()}getCategories(){this.CategoriesJobsService.getCategories().subscribe({next:e=>{this.AllCategories=e.data||e},error:e=>{console.error("Error fetching categories",e)}})}addSubCategory(e){e.trim()&&(this.subCategories.push(e.trim()),this.newSubCategoryJob="")}removeCategory(e){this.subCategories.splice(e,1)}selectCategoryJob(e){this.selectedCategoryJob=e.name,this.selectedCategoryId=e.id_job_cat}loadAllCategoriesJobs(e){this.CategoriesJobsService.loadAllCategoriesJobs(e,this.pageSize,this.searchText).subscribe({next:n=>{this.AllCategoriesJobs=n.data.map(t=>De(q({},t),{categories:t.categories&&t.categories!==""?Array.from(new Set(t.categories.split(",").map(o=>o.trim()))):[]})),this.totalItems=n.totalItems,console.log("Categorias de empleo cargadas",this.AllCategoriesJobs)},error:n=>{console.error("Error loading categories jobs",n)}})}removeUpdateCategory(e){this.categories.splice(e,1)}onSearch(){this.loadAllCategoriesJobs(this.currentPage),this.searchText.trim()===""&&this.loadAllCategoriesJobs(this.currentPage)}onPageChange(e){this.currentPage=e,this.loadAllCategoriesJobs(e)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}toggleAllSelection(){this.allSelected=!this.allSelected,this.AllCategoriesJobs.forEach(e=>e.selected=this.allSelected)}checkIfAllSelected(){this.allSelected=this.AllCategoriesJobs.every(e=>e.selected)}hasSelected(){return this.AllCategoriesJobs.some(e=>e.selected)}confirmDelete(){let n=this.AllCategoriesJobs.filter(t=>t.selected).map(t=>t.id_job_cat);console.log("id categor\xEDas de empleo a eliminar",n),console.log("id categor\xEDas de empleo a eliminar",n),n.length>0&&this.CategoriesJobsService.deleteCategoryJobs(n).subscribe({next:()=>{this.toastr.success("Categorias de Empleo eliminadas con \xE9xito"),this.loadAllCategoriesJobs(this.currentPage)},error:t=>{console.error("Error eliminando Categor\xEDas de Empleo",t),this.toastr.error("Hubo un error al eliminar las Categorias de Empleo","Error")}})}selectSubCategories(e){this.selectedCategoryId=e.id_job_cat,this.selectedSubCategories=e.subcategories.map(n=>n.name),this.selectedSubCategoriesText=this.selectedSubCategories.join(", "),this.selectedSubCategoryIds=e.subcategories.map(n=>n.id_job_subcat)}updateSubCategories(){if(this.selectedSubCategories=this.selectedSubCategoriesText.split(",").map(n=>n.trim()).filter(n=>n.length>0),this.selectedSubCategories.length===0){this.toastr.error("Error, introduzca al menos una subcategor\xEDa");return}if(!this.selectedCategoryId){this.toastr.error("No se pudo actualizar las subcategor\xEDas porque falta el ID de la categor\xEDa");return}let e={subcategories:this.selectedSubCategories,id_category:this.selectedCategoryId};this.CategoriesJobsService.updateSubCategories(this.selectedCategoryId,e).subscribe({next:n=>{console.log("Respuesta del servidor:",n),this.toastr.success("Subcategor\xEDas actualizadas con \xE9xito"),this.loadAllCategoriesJobs(this.currentPage)},error:n=>{console.error("Error al actualizar las subcategor\xEDas:",n),this.toastr.error("Error al actualizar las subcategor\xEDas")}})}updateCategoryJobs(){if(this.selectedCategoryJob&&this.selectedCategoryId){let e={id:this.selectedCategoryId,name:this.selectedCategoryJob};console.log("Datos enviados para actualizar categoria de empleo:",e),this.CategoriesJobsService.updateCategoryJobs(e).subscribe({next:n=>{this.toastr.success("Categor\xEDa actualizada exitosamente"),this.loadAllCategoriesJobs(this.currentPage)},error:n=>{this.toastr.error("Error al actualizar la categor\xEDa"),console.error(n)}})}else this.toastr.warning("No se seleccion\xF3 ninguna categor\xEDa para actualizar")}addCategoryJob(){if(!this.newCategoryJob){this.toastr.warning("Debe seleccionar una categor\xEDa de empleo");return}if(this.subCategories.length===0){this.toastr.warning("Debe a\xF1adir al menos una subcategor\xEDa de empleo");return}let e={category:this.newCategoryJob,subCategories:this.subCategories};console.log("Datos enviados:",e),this.CategoriesJobsService.addCategorySubcategoryJob(e).subscribe({next:n=>{this.toastr.success("Categor\xEDa y subcategor\xEDas de empleo a\xF1adidas con \xE9xito","\xC9xito"),this.newCategoryJob="",this.subCategories=[],this.loadAllCategoriesJobs(this.currentPage)},error:n=>{console.error("Error a\xF1adiendo categor\xEDa y subcategor\xEDas de empleo",n),this.toastr.error("Hubo un error al a\xF1adir la categor\xEDa y subcategor\xEDas de empleo","Error")}})}static{this.\u0275fac=function(n){return new(n||i)(B(dp),B(xe))}}static{this.\u0275cmp=re({type:i,selectors:[["app-categories-jobs"]],decls:148,vars:21,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-2","mb-2","mb-md-0"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newCategoryJobModal",1,"btn","btn-danger"],["class","mt-3 text-end",4,"ngIf"],[1,"table-responsive"],[1,"table","table-hover","table-light"],[1,"thead-dark"],["type","checkbox",3,"change","checked"],[1,"col-2"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","editCategoryJobModal","tabindex","-1","aria-labelledby","editCategoryJobLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","editCategoryJobLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"mb-3"],["for","newCategoryJob",1,"form-label","mt-3"],["name","editCategoryJob","id","editCategoryJob",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","editSubCategoryJobModal","tabindex","-1","aria-labelledby","editSubCategoryJobLabel","aria-hidden","true",1,"modal","fade"],["id","editSubCategoryJobJobLabel",1,"modal-title"],[1,"row","mt-3"],[1,"col-12","mt-3"],["for","subservicesTextarea",1,"form-label"],["id","subCategoriesTextarea","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["id","newCategoryJobModal","tabindex","-1","aria-labelledby","newCategoryJobLabel","aria-hidden","true",1,"modal","fade"],["id","newCategoryJobLabel",1,"modal-title"],[1,"text-center"],["alt","sello","width","120",1,"img-fluid","rounded",3,"src"],["name","newCategoryJob","id","newCategoryJob",1,"form-select",3,"ngModelChange","ngModel"],["for","newSubCategoryJob",1,"form-label","mt-3"],["type","text","id","newSubCategoryJob","placeholder","Pulse enter para introducir...","autocomplete","off",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],[1,"list-group","mt-3"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["id","deleteCategoryJobModal","tabindex","-1","aria-labelledby","deleteCategoryJobModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteCategoryJobModalLabel",1,"modal-title"],[1,"mt-3","text-end"],["data-bs-toggle","modal","data-bs-target","#deleteCategoryJobModal",1,"btn","btn-danger",2,"background-color","darkorange"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"fa-solid","fa-hashtag"],["data-bs-toggle","modal","data-bs-target","#editCategoryJobModal",1,"btn","btn-dark","me-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#editSubCategoryJobModal",1,"btn","btn-dark",3,"click"],[1,"page-link",3,"click"],[3,"value"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"las","la-times"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Portal de Empleo / "),s(11,"b"),c(12,"Categor\xEDas de Empleo"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Lista de Categor\xEDas de Empleo "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"input",12),I("ngModelChange",function(l){return A(t.searchText,l)||(t.searchText=l),l}),f("input",function(){return t.onSearch()}),a()(),s(21,"div",13)(22,"button",14),c(23," Nuevo "),a()(),D(24,Lx,3,0,"div",15),a(),s(25,"div",16)(26,"table",17)(27,"thead",18)(28,"tr")(29,"th")(30,"input",19),f("change",function(){return t.toggleAllSelection()}),a()(),s(31,"th"),c(32,"Categor\xEDa de Empleo"),a(),s(33,"th"),c(34,"Subcategor\xEDa de Empleo"),a(),s(35,"th"),c(36,"Activo"),a(),s(37,"th",20),c(38,"Editar Categor\xEDa/Subcategor\xEDa"),a()()(),s(39,"tbody"),D(40,Ux,15,4,"tr",21),a()()(),s(41,"nav",22)(42,"ul",23)(43,"li",24)(44,"a",25),f("click",function(){return t.onPageChange(1)}),s(45,"span",26),c(46,"\xAB\xAB"),a()()(),s(47,"li",24)(48,"a",27),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(49,"span",26),c(50,"\xAB"),a()()(),D(51,jx,3,3,"li",28),s(52,"li",24)(53,"a",29),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(54,"span",26),c(55,"\xBB"),a()()(),s(56,"li",24)(57,"a",30),f("click",function(){return t.onPageChange(t.pageCount)}),s(58,"span",26),c(59,"\xBB\xBB"),a()()()()()()()()(),h(60,"app-footer"),a()(),s(61,"div",31)(62,"div",32)(63,"div",33)(64,"div",34)(65,"h5",35),c(66,"Editar Categor\xEDa de Empleo"),a(),h(67,"button",36),a(),s(68,"div",37)(69,"div",38),h(70,"img",39),a(),s(71,"div",40)(72,"label",41),c(73,"selecccione nueva categor\xEDa de empleo:"),a(),s(74,"select",42),I("ngModelChange",function(l){return A(t.selectedCategoryJob,l)||(t.selectedCategoryJob=l),l}),s(75,"option",43),c(76," Seleccione Categor\xEDa de Empleo "),a(),D(77,Hx,2,2,"option",44),a()()(),s(78,"div",45)(79,"button",46),f("click",function(){return t.updateCategoryJobs()}),c(80,"Guardar"),a(),s(81,"button",47),c(82,"Cancelar"),a()()()()(),s(83,"div",48)(84,"div",32)(85,"div",33)(86,"div",34)(87,"h5",49),c(88,"Editar Subcategor\xEDa"),a(),h(89,"button",36),a(),s(90,"div",37)(91,"div",38),h(92,"img",39),a(),s(93,"div",50)(94,"div",51)(95,"label",52),c(96,"Subcategor\xEDas:"),a(),s(97,"textarea",53),I("ngModelChange",function(l){return A(t.selectedSubCategoriesText,l)||(t.selectedSubCategoriesText=l),l}),a()()()(),s(98,"div",45)(99,"button",46),f("click",function(){return t.updateSubCategories()}),c(100,"Guardar"),a(),s(101,"button",47),c(102,"Cancelar"),a()()()()(),s(103,"div",54)(104,"div",32)(105,"div",33)(106,"div",34)(107,"h5",55),c(108," Nueva Categor\xEDa y Subcategor\xEDa de Empleo "),a(),h(109,"button",36),a(),s(110,"div",37)(111,"div",56),h(112,"img",57),a(),s(113,"div",40)(114,"label",41),c(115,"Introduce categor\xEDa:"),a(),s(116,"select",58),I("ngModelChange",function(l){return A(t.newCategoryJob,l)||(t.newCategoryJob=l),l}),s(117,"option",43),c(118," Seleccione Categor\xEDa de Empleo "),a(),D(119,Wx,2,2,"option",44),a()(),s(120,"div",40)(121,"label",59),c(122,"Introduce nueva Subcategor\xEDa:"),a(),s(123,"input",60),I("ngModelChange",function(l){return A(t.newSubCategoryJob,l)||(t.newSubCategoryJob=l),l}),f("keydown.enter",function(){return t.addSubCategory(t.newSubCategoryJob)}),a()(),s(124,"ul",61),D(125,zx,4,1,"li",62),a(),s(126,"div",45)(127,"button",46),f("click",function(){return t.addCategoryJob()}),c(128," Guardar "),a(),s(129,"button",47),c(130," Cancelar "),a()()()()()(),s(131,"div",63)(132,"div",32)(133,"div",33)(134,"div",34)(135,"h5",64),c(136,"Eliminar Categor\xEDa de Empleo"),a(),h(137,"button",36),a(),s(138,"div",37)(139,"div",38),h(140,"img",39),a(),s(141,"p"),c(142,"\xBFEst\xE1s seguro que deseas eliminar la categor\xEDa/s seleccionadas?"),a()(),s(143,"div",45)(144,"button",46),f("click",function(){return t.confirmDelete()}),c(145,"Eliminar"),a(),s(146,"button",47),c(147,"Cancelar"),a()()()()()),n&2&&(u(20),T("ngModel",t.searchText),u(4),b("ngIf",t.hasSelected()),u(6),b("checked",t.allSelected),u(10),b("ngForOf",t.AllCategoriesJobs),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(18),T("ngModel",t.selectedCategoryJob),u(3),b("ngForOf",t.AllCategories),u(20),T("ngModel",t.selectedSubCategoriesText),u(15),b("src","../../../assets/img/sello.jpg",Ie),u(4),T("ngModel",t.newCategoryJob),u(3),b("ngForOf",t.AllCategories),u(4),T("ngModel",t.newSubCategoryJob),u(2),b("ngForOf",t.subCategories))},dependencies:[ue,ce,Qe,Ke,me,Ve,je,fe,Ce,ge,_e,ve],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}#newSubCategoryJob[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #000;border-radius:0;margin-bottom:0}"]})}}return i})();var mp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}addImgJobs(e){return this.http.post(`${this.baseUrl}/img-jobs/addImgJobs`,e)}getAllImgJobs(e,n){return this.http.get(`${this.baseUrl}/img-jobs/getAllImgJobs?page=${e}&pageSize=${n}`)}deleteImage(e){return this.http.delete(`${this.baseUrl}/img-jobs/deleteImgJob/${e}`)}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function qx(i,r){if(i&1){let e=z();s(0,"div",43)(1,"div",44),h(2,"img",45),s(3,"button",46),f("click",function(){let t=g(e).$implicit,o=x();return _(o.removeImgjob(t.id_jobs_img))}),h(4,"i",47),a()()()}if(i&2){let e=r.$implicit;u(2),b("src",e.imageUrl,Ie)}}function $x(i,r){if(i&1){let e=z();s(0,"li",17)(1,"a",48),f("click",function(){let t=g(e).$implicit,o=x();return _(o.onPageChange(t))}),c(2),a()()}if(i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage),u(2),V(e)}}var hp=(()=>{class i{constructor(e,n){this.toastr=e,this.imgJobsService=n,this.imagePreview=null,this.selectedImgFile=null,this.images=[],this.selectedImgToDelete=0,this.currentPage=1,this.pageSize=12,this.totalItems=0}ngOnInit(){this.getAllImages(this.currentPage)}onPageChange(e){this.currentPage=e,this.getAllImages(this.currentPage)}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}getAllImages(e=1){this.imgJobsService.getAllImgJobs(e,this.pageSize).subscribe({next:n=>{this.images=n.images,this.totalItems=n.totalItems,console.log("Im\xE1genes recibidas",this.images)},error:n=>{console.error("Error al obtener las im\xE1genes",n)}})}removeImgjob(e){this.selectedImgToDelete=e}confirmDelete(){this.selectedImgToDelete||console.log("Falta el id de la imagen para poder eliminarla"),console.log(this.selectedImgToDelete),this.imgJobsService.deleteImage(this.selectedImgToDelete).subscribe(e=>{this.toastr.success("Imagen de empleo eliminada con \xE9xito"),this.getAllImages(this.currentPage)},e=>{this.toastr.error("Error al eliminar la imagen")})}onImageSelected(e){let n=e.target;if(n.files&&n.files.length>0){this.selectedImgFile=n.files[0];let t=new FileReader;t.onload=()=>{this.imagePreview=t.result},t.readAsDataURL(this.selectedImgFile)}}addImgJob(){if(!this.selectedImgFile){this.toastr.warning("Debe seleccionar una imagen para la marca","Advertencia");return}let e=new FormData;e.append("imgJobs",this.selectedImgFile),this.imgJobsService.addImgJobs(e).subscribe({next:n=>{n&&n.imageUrl?(this.toastr.success("Imagen de empleo agregada exitosamente."),this.getAllImages(this.currentPage)):this.toastr.warning("La respuesta no contiene la URL de la imagen.")},error:n=>{console.error("Error al subir la imagen",n),this.toastr.error("Error al subir la imagen.")}})}static{this.\u0275fac=function(n){return new(n||i)(B(xe),B(mp))}}static{this.\u0275cmp=re({type:i,selectors:[["app-img-jobs"]],decls:80,vars:11,consts:[["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30","alt","",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["data-bs-toggle","modal","data-bs-target","#newImgJobModal",1,"btn","btn-danger"],[1,"row"],["class","col-6 col-sm-4 col-md-3 col-lg-2 mb-4 d-flex justify-content-center",4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","newImgJobModal","tabindex","-1","aria-labelledby","newImgJobLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","newImgJobLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center"],["alt","sello","width","120",1,"img-fluid",3,"src"],[1,"col-12","mt-3"],["for","brandImage",1,"form-label"],["type","file","id","brandImage",1,"form-control",3,"change"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteImgJobModal","tabindex","-1","aria-labelledby","deleteImgJobModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteImgJobModalLabel",1,"modal-title"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"col-6","col-sm-4","col-md-3","col-lg-2","mb-4","d-flex","justify-content-center"],[1,"image-container"],["alt","Imagen de empleo",1,"card-img-top","img-fluid","job-image",3,"src"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteImgJobModal",1,"btn","btn-danger","btn-sm","delete-button",3,"click"],[1,"las","la-times",2,"font-size","1rem"],[1,"page-link",3,"click"]],template:function(n,t){n&1&&(h(0,"app-header"),s(1,"div",0),h(2,"app-aside"),s(3,"div",1)(4,"main")(5,"div",2)(6,"h1",3),c(7,"Panel de control"),a(),s(8,"ol",4)(9,"li",5),c(10," Portal de Empleo / "),s(11,"b"),c(12,"Im\xE1genes"),a()()(),s(13,"div",6)(14,"div",7),h(15,"img",8),c(16," Galer\xEDa de Im\xE1genes "),a(),s(17,"div",9)(18,"div",10)(19,"div",11)(20,"button",12),c(21," Subir "),a()()(),s(22,"div",13),D(23,qx,5,1,"div",14),a()()()(),s(24,"nav",15)(25,"ul",16)(26,"li",17)(27,"a",18),f("click",function(){return t.onPageChange(1)}),s(28,"span",19),c(29,"\xAB\xAB"),a()()(),s(30,"li",17)(31,"a",20),f("click",function(){return t.onPageChange(t.currentPage-1)}),s(32,"span",19),c(33,"\xAB"),a()()(),D(34,$x,3,3,"li",21),s(35,"li",17)(36,"a",22),f("click",function(){return t.onPageChange(t.currentPage+1)}),s(37,"span",19),c(38,"\xBB"),a()()(),s(39,"li",17)(40,"a",23),f("click",function(){return t.onPageChange(t.pageCount)}),s(41,"span",19),c(42,"\xBB\xBB"),a()()()()()(),h(43,"app-footer"),a()(),s(44,"div",24)(45,"div",25)(46,"div",26)(47,"div",27)(48,"h5",28),c(49,"Nueva Im\xE1gen de empleo"),a(),h(50,"button",29),a(),s(51,"div",30)(52,"div",31),h(53,"img",32),a(),s(54,"div",33)(55,"label",34),c(56,"Subir im\xE1gen de empleo:"),a(),s(57,"input",35),f("change",function(l){return t.onImageSelected(l)}),a()()(),s(58,"div",36)(59,"button",37),f("click",function(){return t.addImgJob()}),c(60," Guardar "),a(),s(61,"button",38),c(62," Cancelar "),a()()()()(),s(63,"div",39)(64,"div",25)(65,"div",26)(66,"div",27)(67,"h5",40),c(68,"Eliminar Im\xE1gen"),a(),h(69,"button",29),a(),s(70,"div",30)(71,"div",41),h(72,"img",42),a(),s(73,"p"),c(74,"\xBFEst\xE1s seguro que deseas eliminar la im\xE1gen seleccionada?"),a()(),s(75,"div",36)(76,"button",37),f("click",function(){return t.confirmDelete()}),c(77," Eliminar "),a(),s(78,"button",38),c(79," Cancelar "),a()()()()()),n&2&&(u(23),b("ngForOf",t.images),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(14),b("src",t.imagePreview||"../../../assets/img/sello.jpg",Ie))},dependencies:[ue,ge,_e,ve],styles:['@charset "UTF-8";.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:10px;padding:5px;text-align:center;width:100%;max-width:350px;aspect-ratio:1/1}.job-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:5px}.delete-button[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background-color:#b91622;color:#fff;width:32px;height:32px;font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center}']})}}return i})();var pp=(()=>{class i{constructor(e){this.http=e,this.baseUrl=le.baseUrl}getAllJobsOffers(e,n){let t=new ye().set("page",e.toString()).set("pageSize",n.toString());return this.http.get(`${this.baseUrl}/job-offer/getAlljobsOffers`,{params:t})}getAllJobsOffersByUserPaginated(e,n,t){let o=new ye().set("page",n.toString()).set("pageSize",t.toString());return this.http.get(`${this.baseUrl}/job-offer/getAllJobsOffersByUser/${e}`,{params:o})}getCategoriesJob(){return this.http.get(`${this.baseUrl}/job-offer/getCategoriesJob`)}getSubCategoriesByCategory(e){return this.http.get(`${this.baseUrl}/job-offer/getSubCategoriesByCategory/${e}`)}getImgJob(){return this.http.get(`${this.baseUrl}/job-offer/getImgJob`)}getUserPermiso(){let e=localStorage.getItem("permiso");return this.http.get(`${this.baseUrl}/decode-permiso/permiso-aside`,{params:{permiso:e||""}})}addJobOfferData(e){return this.http.post(`${this.baseUrl}/job-offer/addJobOffer`,e)}getSalonsUser(e){return this.http.get(`${this.baseUrl}/job-offer/getSalonsByUser/${e}`)}deleteJobOffer(e){let n=`http://localhost:3900/details-business/deleteJobOffer/${e}`,t=`https://api.mispeluquerias.com/details-business/deleteJobOffer/${e}`;return this.http.delete(n).pipe(xt(o=>(console.error("Error al eliminar en el servidor local, intentando en remoto...",o),this.http.delete(t))))}deleteCandidatureJobOffer(e){let n=`http://localhost:3900/candidatures/deleteCandidatureFromAdmin/${e}`,t=`https://api.mispeluquerias.com/candidatures/deleteCandidatureFromAdmin/${e}`;return this.http.delete(n).pipe(xt(o=>(console.error("Error al eliminar en el servidor local, intentando en remoto...",o),this.http.delete(t))))}getJobInscriptions(e,n=1,t=4){let o={page:n.toString(),pageSize:t.toString()};return this.http.get(`${this.baseUrl}/job-offer/getJobInscriptions/${e}`,{params:o})}static{this.\u0275fac=function(n){return new(n||i)(L(se))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Qx(i,r){i&1&&(s(0,"button",83),c(1," Publicar "),a())}function Kx(i,r){if(i&1){let e=z();s(0,"div",84)(1,"div",85)(2,"div",86)(3,"h5",87),c(4),a()(),s(5,"div",11)(6,"div",51),h(7,"img",88),a(),s(8,"h6",89),c(9),a(),s(10,"div",90)(11,"button",91),f("click",function(){let t=g(e).$implicit,o=x();return _(o.SetToViewDetailsOffer(t))}),c(12," Ver detalles "),a()()(),s(13,"div",92)(14,"button",93),f("click",function(t){let o=g(e).$implicit;return x().setToJobInscription(o.id_job_offer),_(t.stopPropagation())}),c(15," Candidatos "),a(),s(16,"button",94),f("click",function(t){let o=g(e).$implicit;return x().setToDelete(o.id_job_offer),_(t.stopPropagation())}),c(17," Eliminar "),a()()()()}if(i&2){let e=r.$implicit;u(4),V(e.category),u(3),b("src",e.img_job_path,Ie),u(2),Y(" Puesto: ",e.subcategory," ")}}function Zx(i,r){i&1&&(he(0),s(1,"span",96),c(2,"..."),a(),pe())}function Yx(i,r){if(i&1){let e=z();he(0),s(1,"a",97),f("click",function(){g(e);let t=x().$implicit,o=x();return _(o.onPageChange(t))}),c(2),a(),pe()}if(i&2){let e=x().$implicit;u(2),V(e)}}function Xx(i,r){if(i&1&&(s(0,"li",20),D(1,Zx,3,0,"ng-container",95)(2,Yx,3,1,"ng-container",95),a()),i&2){let e=r.$implicit,n=x();W("active",e===n.currentPage)("disabled",e===-1),u(),b("ngIf",e===-1),u(),b("ngIf",e!==-1)}}function eS(i,r){if(i&1){let e=z();s(0,"div",99)(1,"div",100),h(2,"img",101),s(3,"div",102)(4,"input",103),f("change",function(t){let o=g(e).$implicit,l=x(2);return _(l.toggleImageSelection(o.path,t))}),a()()()()}if(i&2){let e=r.$implicit,n=x(2);u(2),b("src",e.path,Ie),u(2),b("value",e.path)("checked",n.selectedImage===e.path)}}function tS(i,r){if(i&1&&(he(0),D(1,eS,5,3,"div",98),pe()),i&2){let e=x();u(),b("ngForOf",e.serverImages)}}function iS(i,r){i&1&&(s(0,"p",104),c(1," No hay im\xE1genes disponibles en el servidor. "),a())}function nS(i,r){if(i&1&&(s(0,"option",105),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_job_cat),u(),Y(" ",e.name," ")}}function rS(i,r){if(i&1&&(s(0,"option",105),c(1),a()),i&2){let e=r.$implicit;b("value",e.name),u(),Y(" ",e.name," ")}}function oS(i,r){if(i&1&&(s(0,"option",105),c(1),a()),i&2){let e=r.$implicit;b("value",e.id_salon),u(),Y(" ",e.salon_name," ")}}function aS(i,r){if(i&1&&(s(0,"a",113),c(1," Ver PDF "),a()),i&2){let e=x().$implicit;b("href",e.path_curriculum,Ie)}}function sS(i,r){i&1&&(s(0,"span",114),c(1,"No disponible"),a())}function lS(i,r){if(i&1){let e=z();s(0,"tr")(1,"td"),c(2),a(),s(3,"td"),c(4),a(),s(5,"td"),c(6),a(),s(7,"td"),c(8),a(),s(9,"td"),c(10),Mt(11,"date"),a(),s(12,"td"),c(13),a(),s(14,"td"),D(15,aS,2,1,"a",110)(16,sS,2,0,"span",111),a(),s(17,"td")(18,"button",112),f("click",function(){let t=g(e).$implicit,o=x(2);return _(o.setToDeleteCandidature(t.id_user_job_subscriptions))}),c(19,"Eliminar"),a()()()}if(i&2){let e=r.$implicit,n=r.index;u(2),V(n+1),u(2),V(e.user_name),u(2),V(e.user_last_name),u(2),V(e.user_email),u(2),V(Ut(11,8,e.date_subscriptions,"dd/MM/yyyy")),u(3),V(e.work_presentation),u(2),b("ngIf",e.path_curriculum),u(),b("ngIf",!e.path_curriculum)}}function cS(i,r){if(i&1){let e=z();s(0,"div")(1,"table",106)(2,"thead")(3,"tr")(4,"th"),c(5,"#"),a(),s(6,"th"),c(7,"Nombre"),a(),s(8,"th"),c(9,"Apellidos"),a(),s(10,"th"),c(11,"Email"),a(),s(12,"th"),c(13,"Fecha de Inscripci\xF3n"),a(),s(14,"th"),c(15,"Presentaci\xF3n"),a(),s(16,"th"),c(17,"Curriculum"),a(),s(18,"th"),c(19,"Eliminar"),a()()(),s(20,"tbody"),D(21,lS,20,11,"tr",107),a()(),s(22,"div",108)(23,"button",109),f("click",function(){g(e);let t=x();return _(t.getJobInscriptions(t.currentPage-1))}),c(24," < "),a(),s(25,"span"),c(26),a(),s(27,"button",109),f("click",function(){g(e);let t=x();return _(t.getJobInscriptions(t.currentPage+1))}),c(28," > "),a()()()}if(i&2){let e=x();u(21),b("ngForOf",e.jobSuscribed),u(2),b("disabled",e.currentPage===1),u(3),bt("P\xE1gina ",e.currentPage," de ",e.totalPages,""),u(),b("disabled",e.currentPage===e.totalPages)}}function dS(i,r){i&1&&(s(0,"div",104)(1,"p"),c(2,"No existen candidatos todav\xEDa para esta oferta."),a()())}var fp=(()=>{class i{constructor(e,n){this.toastr=e,this.jobOfferService=n,this.currentPage=1,this.pageSize=4,this.totalItems=0,this.getAllCategoriesJob=[],this.getAllSubCategoriesJob=[],this.addCategoryJob="",this.addSubCategoryJob="",this.maxCharacters=500,this.textDescriptionJob="",this.textRequirementsJob="",this.salary="",this.serverImages=[],this.selectedImgJob="",this.selectedCategoryName="",this.defaultImage="../../../assets/img/sello.jpg",this.selectedImage=null,this.selectedCategoryId=null,this.jobsOffers=[],this.salonUser=[],this.selectedSalon=null,this.selectedToDelete=0,this.viewDetailsJob=null,this.errorMensajeCategory="",this.errorMensajeSubcategory="",this.errorTextDesription="",this.errorTextRequirements="",this.errorSalary="",this.errorImage="",this.jobSuscribed=[],this.id_job_offer=0,this.setToDeleteCandidate=0,this.isAdmin=!1,this.totalRecords=0,this.totalPages=1}ngOnInit(){let e=localStorage.getItem("usuarioId");this.getPanelforTypeUser(),this.getCategoriesJob(),this.getImgJob(),this.getSalonsByUser(e||"")}getPanelforTypeUser(){let e=localStorage.getItem("usuarioId");this.jobOfferService.getUserPermiso().subscribe(n=>{n.permiso==="salon"&&e?(this.isAdmin=!1,this.getAllJobsOffersByUser(e)):n.permiso==="admin"?(this.isAdmin=!0,this.getAllJobsOffers()):console.warn("Permiso desconocido o usuario no identificado")},n=>{console.error("Error al obtener permiso del usuario:",n)})}preventComma(e){let n=e.target;if(!["Backspace","ArrowLeft","ArrowRight","Delete","Tab"].includes(e.key)&&!/^\d$/.test(e.key)){e.preventDefault();return}setTimeout(()=>{let o=n.value.replace(/\D/g,"");n.value=this.addThousandSeparator(o)},0)}addThousandSeparator(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,".")}getAllJobsOffers(){let e=this.currentPage,n=this.pageSize;this.jobOfferService.getAllJobsOffers(e,n).subscribe(t=>{console.log("Respuesta del backend:",t),this.jobsOffers=t.jobs,this.totalItems=t.total},t=>{console.error("Error al cargar las ofertas de empleo:",t)})}getAllJobsOffersByUser(e){let n=this.currentPage,t=this.pageSize;this.jobOfferService.getAllJobsOffersByUserPaginated(e,n,t).subscribe(o=>{this.jobsOffers=o.jobs,this.totalItems=o.total},o=>{console.error("Error al cargar las ofertas de empleo por usuario:",o)})}getSalonsByUser(e){this.jobOfferService.getSalonsUser(e).subscribe(n=>{this.salonUser=Array.isArray(n)?n:n.data,console.log("Salones por usuario recibidos:",this.salonUser),this.salonUser.length>0&&(this.selectedSalon=this.salonUser[0].id_salon)})}getAllJobsOffer(e){this.currentPage=e}setToDelete(e){this.selectedToDelete=e,console.log("Id candidato para eliminar",this.selectedToDelete)}deleteJobOffer(){this.jobOfferService.deleteJobOffer(this.selectedToDelete).subscribe(e=>{this.getPanelforTypeUser(),this.toastr.success("Oferta de empleo eliminada con \xE9xito","\xC9xito")},e=>{console.error("Error al eliminar la oferta de empleo:",e),this.toastr.error("Error al eliminar la oferta de empleo","Error")})}SetToViewDetailsOffer(e){this.viewDetailsJob=e,console.log("datos enviados",e)}get currentCharacterDescriptionJobCount(){return this.textDescriptionJob.length}get currentCharacterRequirementsJobCount(){return this.textRequirementsJob.length}getImgJob(){this.jobOfferService.getImgJob().subscribe(e=>{this.serverImages=Array.isArray(e)?e:e.data,console.log("Im\xE1genes de empleo recibidas:",this.serverImages)},e=>{console.log("Error al cargar las im\xE1genes:",e)})}selectImage(e){console.log("Imagen seleccionada:",e),this.selectedImgJob=e}toggleImageSelection(e,n){n.target.checked?this.selectedImage=e:this.selectedImage=null}confirmSelection(){console.log("Im\xE1genes seleccionadas:",this.selectedImage)}getCategoriesJob(){this.jobOfferService.getCategoriesJob().subscribe(e=>{this.getAllCategoriesJob=Array.isArray(e)?e:e.data},e=>{console.log(e)})}onCategoryChange(e){let t=e.target.value;t&&(this.addSubCategoryJob="",this.getSubCategoriesByCategory(Number(t)));let o=this.getAllCategoriesJob.find(l=>l.id_job_cat===Number(t));o&&(this.selectedCategoryId=o.id_job_cat,this.selectedCategoryName=o.name)}getSubCategoriesByCategory(e){this.jobOfferService.getSubCategoriesByCategory(e).subscribe(n=>{this.getAllSubCategoriesJob=Array.isArray(n)?n:n.data},n=>{console.log(n)})}onPageChange(e){if(e>=1&&e<=this.pageCount){this.currentPage=e;let n=localStorage.getItem("usuarioId")||"";this.getPanelforTypeUser()}}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){let n=[],t=Math.floor(2.5),o=Math.max(this.currentPage-t,1),l=Math.min(o+5-1,this.pageCount);l-o<5&&(o=Math.max(l-5+1,1));for(let d=o;d<=l;d++)n.push(d);return n}addJobOffer(){let e=localStorage.getItem("usuarioId");if(this.selectedCategoryName)this.errorMensajeCategory="";else{this.errorMensajeCategory="Seleccione una categor\xEDa";return}if(this.addSubCategoryJob)this.errorMensajeSubcategory="";else{this.errorMensajeSubcategory="Seleccione una subcategor\xEDa";return}if(this.textDescriptionJob)this.errorTextDesription="";else{this.errorTextDesription="Escriba la descripci\xF3n del trabajo";return}if(this.textRequirementsJob)this.errorTextRequirements="";else{this.errorTextRequirements="Escriba los requisitos de la oferta";return}if(this.salary)this.errorSalary="";else{this.errorSalary="Escriba el salario de la oferta";return}if(this.selectedImage)this.errorImage="";else{this.errorImage="Seleccione una imagen";return}let n={id_user:e,id_salon:this.selectedSalon,category:this.selectedCategoryName,subcategory:this.addSubCategoryJob,description:this.textDescriptionJob,requirements:this.textRequirementsJob,salary:this.salary,img_job_path:this.selectedImage};this.jobOfferService.addJobOfferData(n).subscribe(t=>{this.toastr.success("Oferta de empleo publicada con \xE9xito"),this.addCategoryJob="",this.selectedCategoryName="",this.addSubCategoryJob="",this.textDescriptionJob="",this.textRequirementsJob="",this.salary="",this.selectedImage="",this.getPanelforTypeUser()},t=>{this.toastr.error("Error al publicar la oferta de empleo")})}getFormattedSalary(){return this.viewDetailsJob?.salary==null||this.viewDetailsJob.salary==="0"?"Salario no disponible":this.viewDetailsJob.salary.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" \u20AC"}setToJobInscription(e){this.id_job_offer=e,this.getJobInscriptions()}getJobInscriptions(e=1){this.jobOfferService.getJobInscriptions(this.id_job_offer,e,4).subscribe(t=>{this.jobSuscribed=Array.isArray(t.data)?t.data:[],this.totalRecords=t.meta?.totalRecords||0,this.totalPages=t.meta?.totalPages||1,this.currentPage=t.meta?.currentPage||e,console.log("ID de oferta:",this.id_job_offer),console.log("Ofertas inscriptas:",this.jobSuscribed),console.log("Metadatos:",{totalRecords:this.totalRecords,totalPages:this.totalPages,currentPage:this.currentPage})},t=>{console.error("Error al obtener las inscripciones:",t)})}setToDeleteCandidature(e){this.setToDeleteCandidate=e,console.log("Id candidato para eliminar",this.setToDeleteCandidate)}confirmDeleteCandidate(){this.jobOfferService.deleteCandidatureJobOffer(this.setToDeleteCandidate).subscribe(e=>{this.toastr.success("Candidatura eliminada con \xE9xito"),this.getJobInscriptions()},e=>{this.toastr.error("Error al eliminar la candidatura")})}static{this.\u0275fac=function(n){return new(n||i)(B(xe),B(pp))}}static{this.\u0275cmp=re({type:i,selectors:[["app-job-offer"]],decls:244,vars:49,consts:[["noImages",""],["noCandidates",""],["id","layoutSidenav"],["id","layoutSidenav_content"],[1,"container-fluid","px-4"],[1,"mt-1"],[1,"breadcrumb","mb-4"],[1,"breadcrumb-item","active"],[1,"card","mb-4"],[1,"card-header"],["src","../../../favicon.ico","width","30",1,"img-fluid","me-2"],[1,"card-body"],[1,"row","mb-4"],[1,"col-12","col-md-4","d-flex","justify-content-md-end","ms-auto"],["class","btn btn-danger","data-bs-toggle","modal","data-bs-target","#newJobOfferModal",4,"ngIf"],[1,"container"],[1,"row"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","deleteJobOfferModal","tabindex","-1","aria-labelledby","deleteJobOfferModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],["id","deleteJobOfferModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"text-center","mb-3"],["src","../../../assets/img/sello.jpg","alt","sello","width","120",1,"img-fluid"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteCandidatureModal","tabindex","-1","aria-labelledby","deleteCandidatureModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteCandidatureModalLabel",1,"modal-title"],["id","imageGalleryModal","tabindex","-1","aria-labelledby","imageGalleryModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],["id","imageGalleryModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white"],[4,"ngIf","ngIfElse"],["type","button","data-bs-target","#newJobOfferModal","data-bs-toggle","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-target","#newJobOfferModal","data-bs-toggle","modal",1,"btn","btn-secondary"],["id","detailsJobOfferModal","tabindex","-1","aria-labelledby","detailsJobOfferModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],["id","detailsJobOfferModalLabel",1,"modal-title"],[1,"text-center"],["width","220","alt","Imagen del empleo",1,"img-fluid","mb-5",3,"src"],[1,"row","col-12"],[1,"col-6"],["id","newJobOfferModal","tabindex","-1","aria-labelledby","newJobOfferModalLabel","aria-hidden","true",1,"modal","fade"],["id","newJobOfferModalLabel",1,"modal-title"],["alt","sello","width","120",1,"img-fluid",3,"src","ngClass"],[1,"mb-3","mt-3"],[1,"row","col-12","d-flex"],["for","",1,"form-label"],["name","addCategoryJob",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"text-danger"],["name","addSubCategoryJob","id","newSubCategoryJob",1,"form-select",3,"ngModelChange","ngModel"],[1,"dropdown-divider"],[1,"row","col-12","d-flex","mt-4"],["id","jobDescription","name","textDescriptionJob","rows","4","placeholder","Escribe aqu\xED la descripci\xF3n del trabajo...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-end","mt-1","text-muted",2,"font-size","0.9em"],["name","textRequirementsJob","id","","rows","4","maxlength","500","placeholder","Escriba los requisitos de la oferta",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group"],["type","text","name","salary","maxlength","7","placeholder","Cero aparecer\xE1 como no definido","aria-label","Salario",1,"form-control",3,"ngModelChange","keypress","ngModel"],[1,"input-group-text"],["data-bs-toggle","modal","data-bs-target","#imageGalleryModal",1,"btn","btn-secondary"],[1,"row","mt-1"],[1,"col-12","mt-4"],[1,"form-select",3,"ngModelChange","ngModel"],[1,"modal-footer","mt-4"],["type","button",1,"btn","btn-danger",3,"click"],["id","candidatesOfferModal","tabindex","-1","aria-labelledby","candidatesOfferModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],["id","candidatesOfferModalLabel",1,"modal-title"],["data-bs-toggle","modal","data-bs-target","#newJobOfferModal",1,"btn","btn-danger"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"card","h-100","shadow-sm"],[1,"card-header","text-center","bg-dark","text-white"],[1,"mb-0"],["alt","Imagen del empleo",1,"img-fluid","mb-3",2,"max-height","250px","padding","0 auto",3,"src"],[1,"card-subtitle","mb-2","text-muted"],[1,"d-flex","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#detailsJobOfferModal",1,"btn","btn-sm","ms-auto","text-white",2,"background-color","darkgray","font-size","1rem !important",3,"click"],[1,"card-footer","d-flex","justify-content-end"],["data-bs-toggle","modal","data-bs-target","#candidatesOfferModal",1,"btn","btn-outline-primary","bg-dark","btn-sm","me-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteJobOfferModal",1,"btn","bg-danger","btn-sm","text-white",3,"click"],[4,"ngIf"],[1,"page-link"],[1,"page-link",3,"click"],["class","col-6 col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","mb-3"],[1,"card","h-100","position-relative"],["alt","Imagen del servidor",1,"card-img-top",2,"max-height","150px","object-fit","cover",3,"src"],[1,"form-check","position-absolute","top-0","end-0","m-2"],["type","checkbox",1,"form-check-input",3,"change","value","checked"],[1,"text-center","text-muted"],[3,"value"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"pagination"],[3,"click","disabled"],["target","_blank","class","btn btn-primary btn-sm",3,"href",4,"ngIf"],["class","text-muted",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#deleteCandidatureModal",1,"btn","btn-sm","btn-danger",3,"click"],["target","_blank",1,"btn","btn-primary","btn-sm",3,"href"],[1,"text-muted"]],template:function(n,t){if(n&1){let o=z();h(0,"app-header"),s(1,"div",2),h(2,"app-aside"),s(3,"div",3)(4,"main")(5,"div",4)(6,"h1",5),c(7,"Panel de control"),a(),s(8,"ol",6)(9,"li",7),c(10," Portal de Empleo / "),s(11,"b"),c(12,"Ofertas"),a()()(),s(13,"div",8)(14,"div",9),h(15,"img",10),c(16," Lista de Ofertas de Empleo "),a(),s(17,"div",11)(18,"div",12)(19,"div",13),D(20,Qx,2,0,"button",14),a()(),s(21,"div",15)(22,"div",16),D(23,Kx,18,3,"div",17),a()(),s(24,"nav",18)(25,"ul",19)(26,"li",20)(27,"a",21),f("click",function(){return g(o),_(t.onPageChange(1))}),s(28,"span",22),c(29,"\xAB\xAB"),a()()(),s(30,"li",20)(31,"a",23),f("click",function(){return g(o),_(t.onPageChange(t.currentPage-1))}),s(32,"span",22),c(33,"\xAB"),a()()(),D(34,Xx,3,6,"li",24),s(35,"li",20)(36,"a",25),f("click",function(){return g(o),_(t.onPageChange(t.currentPage+1))}),s(37,"span",22),c(38,"\xBB"),a()()(),s(39,"li",20)(40,"a",26),f("click",function(){return g(o),_(t.onPageChange(t.pageCount))}),s(41,"span",22),c(42,"\xBB\xBB"),a()()()()()()()()(),h(43,"app-footer"),a()(),s(44,"div",27)(45,"div",28)(46,"div",29)(47,"div",30)(48,"h5",31),c(49," Eliminar Oferta de Empleo "),a(),h(50,"button",32),a(),s(51,"div",33)(52,"div",34),h(53,"img",35),a(),s(54,"p"),c(55," \xBFEst\xE1s seguro de que deseas eliminar esta oferta de empleo de su sal\xF3n? "),a()(),s(56,"div",36)(57,"button",37),f("click",function(){return g(o),_(t.deleteJobOffer())}),c(58," Eliminar "),a(),s(59,"button",38),c(60," Cancelar "),a()()()()(),s(61,"div",39)(62,"div",28)(63,"div",29)(64,"div",30)(65,"h5",40),c(66," Eliminar Candidatura de Empleo "),a(),h(67,"button",32),a(),s(68,"div",33)(69,"div",34),h(70,"img",35),a(),s(71,"p"),c(72," \xBFEst\xE1s seguro de que deseas eliminar esta candidatura de empleo, la operaci\xF3n es irreversible? "),a()(),s(73,"div",36)(74,"button",37),f("click",function(){return g(o),_(t.confirmDeleteCandidate())}),c(75," Eliminar "),a(),s(76,"button",38),c(77," Cancelar "),a()()()()(),s(78,"div",41)(79,"div",42)(80,"div",29)(81,"div",30)(82,"h5",43),c(83," Galer\xEDa de Im\xE1genes "),a(),h(84,"button",44),a(),s(85,"div",33)(86,"div",16)(87,"div",34),h(88,"img",35),a(),D(89,tS,2,1,"ng-container",45)(90,iS,2,0,"ng-template",null,0,ln),a()(),s(92,"div",36)(93,"div",36)(94,"button",46),f("click",function(){return g(o),_(t.confirmSelection())}),c(95," Aceptar "),a(),s(96,"button",47),c(97," Cerrar "),a()()()()()(),s(98,"div",48)(99,"div",49)(100,"div",29)(101,"div",30)(102,"h5",50),c(103),a(),h(104,"button",32),a(),s(105,"div",33)(106,"div",51),h(107,"img",52),a(),s(108,"div",53)(109,"div",54)(110,"p")(111,"strong"),c(112,"Puesto:"),a()(),s(113,"p"),c(114),a()(),s(115,"div",54)(116,"p")(117,"strong"),c(118,"Fecha de publicaci\xF3n:"),a()(),s(119,"p"),c(120),Mt(121,"date"),a()()(),s(122,"div",53)(123,"div",54)(124,"p")(125,"strong"),c(126,"Descripci\xF3n:"),a()(),s(127,"p"),c(128),a()(),s(129,"div",54)(130,"p")(131,"strong"),c(132,"Requisitos:"),a()(),s(133,"p"),c(134),a()()(),s(135,"div",53)(136,"div",54)(137,"p")(138,"strong"),c(139,"Salario bruto anual:"),a()(),s(140,"p"),c(141),a()(),s(142,"div",54)(143,"p")(144,"strong"),c(145,"Sal\xF3n:"),a()(),s(146,"p"),c(147),a()()()(),s(148,"div",36)(149,"button",38),c(150," Cerrar "),a()()()()(),s(151,"div",55)(152,"div",49)(153,"div",29)(154,"div",30)(155,"h5",56),c(156," Nueva oferta de empleo "),a(),h(157,"button",32),a(),s(158,"div",33)(159,"div",34),h(160,"img",57),a(),s(161,"div",58)(162,"small"),c(163,"* Todos los campos son obligatorios"),a()(),s(164,"div",59)(165,"div",54)(166,"label",60),c(167,"Seleccione Categor\xEDa de Empleo"),a(),s(168,"select",61),I("ngModelChange",function(d){return g(o),A(t.addCategoryJob,d)||(t.addCategoryJob=d),_(d)}),f("change",function(d){return g(o),_(t.onCategoryChange(d))}),s(169,"option",62),c(170," Seleccione Categor\xEDa de Empleo "),a(),D(171,nS,2,2,"option",63),a(),s(172,"span",64),c(173),a()(),s(174,"div",54)(175,"label",60),c(176,"Seleccione Subcategor\xEDa de Empleo"),a(),s(177,"select",65),I("ngModelChange",function(d){return g(o),A(t.addSubCategoryJob,d)||(t.addSubCategoryJob=d),_(d)}),s(178,"option",62),c(179," Seleccione Subcategor\xEDa de Empleo "),a(),D(180,rS,2,2,"option",63),a(),s(181,"span",64),c(182),a()()(),h(183,"hr",66),s(184,"div",67)(185,"div",54)(186,"label",60),c(187,"Describa la oferta de empleo:"),a(),s(188,"textarea",68),I("ngModelChange",function(d){return g(o),A(t.textDescriptionJob,d)||(t.textDescriptionJob=d),_(d)}),a(),s(189,"div",69),c(190),a(),s(191,"span",64),c(192),a()(),s(193,"div",54)(194,"label",60),c(195,"Describa los requisitos de la oferta:"),a(),s(196,"textarea",70),I("ngModelChange",function(d){return g(o),A(t.textRequirementsJob,d)||(t.textRequirementsJob=d),_(d)}),a(),s(197,"div",69),c(198),a(),s(199,"span",64),c(200),a()(),s(201,"div",67)(202,"div",54)(203,"label",60),c(204,"Introduzca el salario bruto anual de la oferta:"),a(),s(205,"div",71)(206,"input",72),I("ngModelChange",function(d){return g(o),A(t.salary,d)||(t.salary=d),_(d)}),f("keypress",function(d){return g(o),_(t.preventComma(d))}),a(),s(207,"span",73),c(208,"\u20AC"),a()(),s(209,"span",64),c(210),a()(),s(211,"div",54)(212,"label",60),c(213,"Seleccione una im\xE1gen para la oferta de empleo:"),a(),s(214,"button",74),c(215," Seleccionar "),a(),s(216,"div",75)(217,"span",64),c(218),a()()(),s(219,"div",76)(220,"div",54)(221,"label",60),c(222,"Oferta de empleo para el sal\xF3n:"),a(),s(223,"select",77),I("ngModelChange",function(d){return g(o),A(t.selectedSalon,d)||(t.selectedSalon=d),_(d)}),D(224,oS,2,2,"option",63),a()()(),s(225,"div",78)(226,"button",79),f("click",function(){return g(o),_(t.addJobOffer())}),c(227," Publicar "),a(),s(228,"button",38),c(229," Cancelar "),a()()()()()()()(),s(230,"div",80)(231,"div",81)(232,"div",29)(233,"div",30)(234,"h5",82),c(235," Candidatos a la oferta "),a(),h(236,"button",32),a(),s(237,"div",33),D(238,cS,29,5,"div",45)(239,dS,3,0,"ng-template",null,1,ln),a(),s(241,"div",36)(242,"button",38),c(243," Cerrar "),a()()()()()}if(n&2){let o=Se(91),l=Se(240);u(20),b("ngIf",!t.isAdmin),u(3),b("ngForOf",t.jobsOffers),u(3),W("disabled",t.currentPage===1),u(4),W("disabled",t.currentPage===1),u(4),b("ngForOf",t.pages),u(),W("disabled",t.currentPage===t.pageCount),u(4),W("disabled",t.currentPage===t.pageCount),u(50),b("ngIf",t.serverImages&&t.serverImages.length>0)("ngIfElse",o),u(14),Y(" ",t.viewDetailsJob==null?null:t.viewDetailsJob.category," "),u(4),b("src",t.viewDetailsJob==null?null:t.viewDetailsJob.img_job_path,Ie),u(7),V(t.viewDetailsJob==null?null:t.viewDetailsJob.subcategory),u(6),V(Ut(121,46,t.viewDetailsJob==null?null:t.viewDetailsJob.date_job_offer,"dd/MM/yyyy")),u(8),V(t.viewDetailsJob==null?null:t.viewDetailsJob.description),u(6),V(t.viewDetailsJob==null?null:t.viewDetailsJob.requirements),u(7),V(t.getFormattedSalary()),u(6),V(t.viewDetailsJob==null?null:t.viewDetailsJob.salon_name),u(13),b("src",t.selectedImage||t.defaultImage,Ie)("ngClass",t.selectedImage?"selected-image":"default-image"),u(8),T("ngModel",t.addCategoryJob),u(3),b("ngForOf",t.getAllCategoriesJob),u(2),V(t.errorMensajeCategory),u(4),T("ngModel",t.addSubCategoryJob),u(3),b("ngForOf",t.getAllSubCategoriesJob),u(2),V(t.errorMensajeSubcategory),u(6),T("ngModel",t.textDescriptionJob),vt("maxLength",t.maxCharacters),u(2),bt(" ",t.currentCharacterDescriptionJobCount,"/",t.maxCharacters," "),u(2),V(t.errorTextDesription),u(4),T("ngModel",t.textRequirementsJob),vt("maxLength",t.maxCharacters),u(2),bt(" ",t.currentCharacterRequirementsJobCount,"/",t.maxCharacters," "),u(2),V(t.errorTextRequirements),u(6),T("ngModel",t.salary),u(4),V(t.errorSalary),u(8),V(t.errorImage),u(5),T("ngModel",t.selectedSalon),u(),b("ngForOf",t.salonUser),u(14),b("ngIf",t.jobSuscribed&&t.jobSuscribed.length>0)("ngIfElse",l)}},dependencies:[Ai,ue,ce,Qe,Ke,me,je,fe,Ir,Ce,ge,_e,ve,Ft],styles:['@charset "UTF-8";.btn-danger[_ngcontent-%COMP%]{background-color:#b91622;border-color:#b91622}.selected-image[_ngcontent-%COMP%]{width:250px}*[_ngcontent-%COMP%]{white-space:pre-wrap}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#fffc;border:none;width:40px;height:40px;padding:0;border-radius:50%;box-shadow:0 2px 5px #0003;cursor:pointer;z-index:10;font-size:1.5rem;color:red;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease,transform .3s ease}.delete-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:red}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#f00c;color:#fff;transform:scale(1.1)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:.9375rem}.pagination-info[_ngcontent-%COMP%]{font-weight:700;margin:0 .625rem}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;border-radius:.75rem;padding:.3125rem .625rem;margin:0 .3125rem;cursor:pointer;font-size:.875rem}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#8b0000}']})}}return i})();var uS=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:ac,title:"Adm | Mis Peluquerias"},{path:"home",component:lm,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"home/edit/:id",component:qh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"clients",component:bh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"administrators",component:kh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"cities",component:Ch,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"categories",component:Sh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"contact",component:Fh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"contact-proffesional",component:Nh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"services",component:Lh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"reclamations",component:Rh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"export",component:Mh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"import",component:Ah,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"new-home",component:Jh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"profile",component:fc,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"new-client",component:Zh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"edit-client/edit/:id",component:Xh,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"edit-administrator/edit/:id",component:tp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"edit-city/edit/:id",component:sp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"owners",component:np,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"edit-owner/edit/:id",component:op,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"brands",component:cp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"categories-jobs",component:up,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"img-jobs",component:hp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"job-offer",component:fp,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"",component:fc,canActivate:[it],title:"Adm | Mis Peluquerias"},{path:"**",component:ac}],gp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[Tl.forRoot(uS),Tl]})}}return i})();var gc;try{gc=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gc=!1}var zr=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?bs(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||gc)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||i)(L(ni))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Wr;function mS(){if(Wr==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wr=!0}))}finally{Wr=Wr||!1}return Wr}function _c(i){return mS()?i:!!i.capture}function _p(i){return i.composedPath?i.composedPath()[0]:i.target}function vp(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function vc(i){return Array.isArray(i)?i:[i]}function bc(i){return i instanceof gt?i.nativeElement:i}var hS=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var yp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({providers:[hS]})}}return i})();var Cp=new Set,Zi,pS=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gS}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&fS(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(n){return new(n||i)(L(zr),L(Un,8))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function fS(i,r){if(!Cp.has(i))try{Zi||(Zi=document.createElement("style"),r&&Zi.setAttribute("nonce",r),Zi.setAttribute("type","text/css"),document.head.appendChild(Zi)),Zi.sheet&&(Zi.sheet.insertRule(`@media ${i} {body{ }}`,0),Cp.add(i))}catch(e){console.error(e)}}function gS(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Sp=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new Te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return xp(vc(e)).some(t=>this._registerQuery(t).mql.matches)}observe(e){let t=xp(vc(e)).map(l=>this._registerQuery(l).observable),o=Wi(t);return o=Jr(o.pipe(Vt(1)),o.pipe(es(1),Rt(0))),o.pipe(we(l=>{let d={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:v})=>{d.matches=d.matches||m,d.breakpoints[v]=m}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new ui(l=>{let d=m=>this._zone.run(()=>l.next(m));return n.addListener(d),()=>{n.removeListener(d)}}).pipe(Rn(n),we(({matches:l})=>({query:e,matches:l})),St(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static{this.\u0275fac=function(n){return new(n||i)(L(pS),L(Re))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xp(i){return i.map(r=>r.split(",")).reduce((r,e)=>r.concat(e)).map(r=>r.trim())}function Mp(i){return i.buttons===0||i.detail===0}function Dp(i){let r=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}var Yi=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(Yi||{}),wp="cdk-high-contrast-black-on-white",Ep="cdk-high-contrast-white-on-black",yc="cdk-high-contrast-active",Cc=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=ee(Sp).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Yi.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,t=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(t&&t.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Yi.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Yi.BLACK_ON_WHITE}return Yi.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(yc,wp,Ep),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Yi.BLACK_ON_WHITE?e.add(yc,wp):n===Yi.WHITE_ON_BLACK&&e.add(yc,Ep)}}static{this.\u0275fac=function(n){return new(n||i)(L(zr),L(Ze))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Tp=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(n){return new(n||i)(L(Cc))}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[yp]})}}return i})();var xc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({})}}return i})();function vS(){return!0}var bS=new Ae("mat-sanity-checks",{providedIn:"root",factory:vS}),Ec=(()=>{class i{constructor(e,n,t){this._sanityChecks=n,this._document=t,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return vp()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(n){return new(n||i)(L(Cc),L(bS,8),L(Ze))}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[xc,xc]})}}return i})();var Qt=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Qt||{}),Sc=class{constructor(r,e,n,t=!1){this._renderer=r,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=t,this.state=Qt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Ap=_c({passive:!0,capture:!0}),wc=class{constructor(){this._events=new Map,this._delegateEventHandler=r=>{let e=_p(r);e&&this._events.get(r.type)?.forEach((n,t)=>{(t===e||t.contains(e))&&n.forEach(o=>o.handleEvent(r))})}}addHandler(r,e,n,t){let o=this._events.get(e);if(o){let l=o.get(n);l?l.add(t):o.set(n,new Set([t]))}else this._events.set(e,new Map([[n,new Set([t])]])),r.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Ap)})}removeHandler(r,e,n){let t=this._events.get(r);if(!t)return;let o=t.get(e);o&&(o.delete(n),o.size===0&&t.delete(e),t.size===0&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,Ap)))}},Ip={enterDuration:225,exitDuration:150},yS=800,kp=_c({passive:!0,capture:!0}),Pp=["mousedown","touchstart"],Fp=["mouseup","mouseleave","touchend","touchcancel"],Op=class i{static{this._eventManager=new wc}constructor(r,e,n,t){this._target=r,this._ngZone=e,this._platform=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,t.isBrowser&&(this._containerElement=bc(n))}fadeInRipple(r,e,n={}){let t=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=q(q({},Ip),n.animation);n.centered&&(r=t.left+t.width/2,e=t.top+t.height/2);let l=n.radius||CS(r,e,t),d=r-t.left,m=e-t.top,v=o.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=`${d-l}px`,p.style.top=`${m-l}px`,p.style.height=`${l*2}px`,p.style.width=`${l*2}px`,n.color!=null&&(p.style.backgroundColor=n.color),p.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(p);let y=window.getComputedStyle(p),C=y.transitionProperty,E=y.transitionDuration,M=C==="none"||E==="0s"||E==="0s, 0s"||t.width===0&&t.height===0,k=new Sc(this,p,n,M);p.style.transform="scale3d(1, 1, 1)",k.state=Qt.FADING_IN,n.persistent||(this._mostRecentTransientRipple=k);let P=null;return!M&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let S=()=>this._finishRippleTransition(k),w=()=>this._destroyRipple(k);p.addEventListener("transitionend",S),p.addEventListener("transitioncancel",w),P={onTransitionEnd:S,onTransitionCancel:w}}),this._activeRipples.set(k,P),(M||!v)&&this._finishRippleTransition(k),k}fadeOutRipple(r){if(r.state===Qt.FADING_OUT||r.state===Qt.HIDDEN)return;let e=r.element,n=q(q({},Ip),r.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",r.state=Qt.FADING_OUT,(r._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){let e=bc(r);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Pp.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(r){r.type==="mousedown"?this._onMousedown(r):r.type==="touchstart"?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Fp.forEach(e=>{this._triggerElement.addEventListener(e,this,kp)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===Qt.FADING_IN?this._startFadeOutTransition(r):r.state===Qt.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){let e=r===this._mostRecentTransientRipple,{persistent:n}=r.config;r.state=Qt.VISIBLE,!n&&(!e||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){let e=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=Qt.HIDDEN,e!==null&&(r.element.removeEventListener("transitionend",e.onTransitionEnd),r.element.removeEventListener("transitioncancel",e.onTransitionCancel)),r.element.remove()}_onMousedown(r){let e=Mp(r),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+yS;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!Dp(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=r.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{let e=r.state===Qt.VISIBLE||r.config.terminateOnPointerUp&&r.state===Qt.FADING_IN;!r.config.persistent&&e&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let r=this._triggerElement;r&&(Pp.forEach(e=>i._eventManager.removeHandler(e,r,this)),this._pointerUpEventsRegistered&&(Fp.forEach(e=>r.removeEventListener(e,this,kp)),this._pointerUpEventsRegistered=!1))}};function CS(i,r,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),t=Math.max(Math.abs(r-e.top),Math.abs(r-e.bottom));return Math.sqrt(n*n+t*t)}var Np=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i})}static{this.\u0275inj=He({imports:[Tp,Ec,Ec]})}}return i})();var Bp=(()=>{class i{constructor(){this.title="AdmMisPeluquerias-angularFront"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=re({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,t){n&1&&h(0,"router-outlet")},dependencies:[Cl]})}}return i})();var xS="@",SS=(()=>{class i{constructor(e,n,t,o,l){this.doc=e,this.delegate=n,this.zone=t,this.animationType=o,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=ee(ud,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-H6V56IIF.js")).catch(n=>{throw new Le(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:t})=>{this._engine=n(this.animationType,this.doc,this.scheduler);let o=new t(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,n){let t=this.delegate.createRenderer(e,n);if(t.\u0275type===0)return t;typeof t.throwOnSyntheticProps=="boolean"&&(t.throwOnSyntheticProps=!1);let o=new Mc(t);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let d=l.createRenderer(e,n);o.use(d)}).catch(l=>{o.use(t)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){Kr()}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})(),Mc=class{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,this.replay!==null){for(let e of this.replay)e(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,e){this.delegate.appendChild(r,e)}insertBefore(r,e,n,t){this.delegate.insertBefore(r,e,n,t)}removeChild(r,e,n){this.delegate.removeChild(r,e,n)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,n,t){this.delegate.setAttribute(r,e,n,t)}removeAttribute(r,e,n){this.delegate.removeAttribute(r,e,n)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,n,t){this.delegate.setStyle(r,e,n,t)}removeStyle(r,e,n){this.delegate.removeStyle(r,e,n)}setProperty(r,e,n){this.shouldReplay(e)&&this.replay.push(t=>t.setProperty(r,e,n)),this.delegate.setProperty(r,e,n)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,n){return this.shouldReplay(e)&&this.replay.push(t=>t.listen(r,e,n)),this.delegate.listen(r,e,n)}shouldReplay(r){return this.replay!==null&&r.startsWith(xS)}};function Rp(i="animations"){return ls("NgAsyncAnimations"),Di([{provide:Zr,useFactory:(r,e,n)=>new SS(r,e,n,i),deps:[Ze,go,Re]},{provide:as,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Vp=(()=>{class i{constructor(e,n){this.authService=e,this.router=n}intercept(e,n){return n.handle(e).pipe(xt(t=>(t.status===401&&t.error.message==="Token expired"&&this.authService.logout(),mi(t))))}static{this.\u0275fac=function(n){return new(n||i)(L(Ui),L(qe))}}static{this.\u0275prov=U({token:i,factory:i.\u0275fac})}}return i})();var Lp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=We({type:i,bootstrap:[Bp]})}static{this.\u0275inj=He({providers:[ks(jd()),Rp(),{provide:Ts,useClass:Vp,multi:!0}],imports:[Kd,gp,Au,Hd,Np,Tu,z0.forRoot({positionClass:"toast-center-center",enableHtml:!0,preventDuplicates:!0,timeOut:5e3})]})}}return i})();Qd().bootstrapModule(Lp).catch(i=>console.error(i));
>>>>>>>> dadcaf108d961f405b95dccc14d6a3b670732e22:dist/adm-mis-peluquerias-angular-front/browser/main-YUSN4THQ.js
